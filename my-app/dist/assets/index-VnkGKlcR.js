(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function xd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var jf={exports:{}},_l={},$f={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function wC(){if(My)return Ne;My=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function R(z,J,pe){this.props=z,this.context=J,this.refs=x,this.updater=pe||I}R.prototype.isReactComponent={},R.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},R.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=R.prototype;function B(z,J,pe){this.props=z,this.context=J,this.refs=x,this.updater=pe||I}var V=B.prototype=new k;V.constructor=B,S(V,R.prototype),V.isPureReactComponent=!0;var q=Array.isArray,G=Object.prototype.hasOwnProperty,Z={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function P(z,J,pe){var be,Ae={},De=null,Oe=null;if(J!=null)for(be in J.ref!==void 0&&(Oe=J.ref),J.key!==void 0&&(De=""+J.key),J)G.call(J,be)&&!N.hasOwnProperty(be)&&(Ae[be]=J[be]);var Le=arguments.length-2;if(Le===1)Ae.children=pe;else if(1<Le){for(var He=Array(Le),nt=0;nt<Le;nt++)He[nt]=arguments[nt+2];Ae.children=He}if(z&&z.defaultProps)for(be in Le=z.defaultProps,Le)Ae[be]===void 0&&(Ae[be]=Le[be]);return{$$typeof:n,type:z,key:De,ref:Oe,props:Ae,_owner:Z.current}}function b(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function L(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pe){return J[pe]})}var $=/\/+/g;function A(z,J){return typeof z=="object"&&z!==null&&z.key!=null?L(""+z.key):J.toString(36)}function Ce(z,J,pe,be,Ae){var De=typeof z;(De==="undefined"||De==="boolean")&&(z=null);var Oe=!1;if(z===null)Oe=!0;else switch(De){case"string":case"number":Oe=!0;break;case"object":switch(z.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=z,Ae=Ae(Oe),z=be===""?"."+A(Oe,0):be,q(Ae)?(pe="",z!=null&&(pe=z.replace($,"$&/")+"/"),Ce(Ae,J,pe,"",function(nt){return nt})):Ae!=null&&(O(Ae)&&(Ae=b(Ae,pe+(!Ae.key||Oe&&Oe.key===Ae.key?"":(""+Ae.key).replace($,"$&/")+"/")+z)),J.push(Ae)),1;if(Oe=0,be=be===""?".":be+":",q(z))for(var Le=0;Le<z.length;Le++){De=z[Le];var He=be+A(De,Le);Oe+=Ce(De,J,pe,He,Ae)}else if(He=E(z),typeof He=="function")for(z=He.call(z),Le=0;!(De=z.next()).done;)De=De.value,He=be+A(De,Le++),Oe+=Ce(De,J,pe,He,Ae);else if(De==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Ke(z,J,pe){if(z==null)return z;var be=[],Ae=0;return Ce(z,be,"","",function(De){return J.call(pe,De,Ae++)}),be}function Qe(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(pe){(z._status===0||z._status===-1)&&(z._status=1,z._result=pe)},function(pe){(z._status===0||z._status===-1)&&(z._status=2,z._result=pe)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var Fe={current:null},oe={transition:null},ge={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:oe,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Ke,forEach:function(z,J,pe){Ke(z,function(){J.apply(this,arguments)},pe)},count:function(z){var J=0;return Ke(z,function(){J++}),J},toArray:function(z){return Ke(z,function(J){return J})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ne.Component=R,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=B,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=le,Ne.cloneElement=function(z,J,pe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var be=S({},z.props),Ae=z.key,De=z.ref,Oe=z._owner;if(J!=null){if(J.ref!==void 0&&(De=J.ref,Oe=Z.current),J.key!==void 0&&(Ae=""+J.key),z.type&&z.type.defaultProps)var Le=z.type.defaultProps;for(He in J)G.call(J,He)&&!N.hasOwnProperty(He)&&(be[He]=J[He]===void 0&&Le!==void 0?Le[He]:J[He])}var He=arguments.length-2;if(He===1)be.children=pe;else if(1<He){Le=Array(He);for(var nt=0;nt<He;nt++)Le[nt]=arguments[nt+2];be.children=Le}return{$$typeof:n,type:z.type,key:Ae,ref:De,props:be,_owner:Oe}},Ne.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Ne.createElement=P,Ne.createFactory=function(z){var J=P.bind(null,z);return J.type=z,J},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:c,render:z}},Ne.isValidElement=O,Ne.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:Qe}},Ne.memo=function(z,J){return{$$typeof:p,type:z,compare:J===void 0?null:J}},Ne.startTransition=function(z){var J=oe.transition;oe.transition={};try{z()}finally{oe.transition=J}},Ne.unstable_act=le,Ne.useCallback=function(z,J){return Fe.current.useCallback(z,J)},Ne.useContext=function(z){return Fe.current.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z){return Fe.current.useDeferredValue(z)},Ne.useEffect=function(z,J){return Fe.current.useEffect(z,J)},Ne.useId=function(){return Fe.current.useId()},Ne.useImperativeHandle=function(z,J,pe){return Fe.current.useImperativeHandle(z,J,pe)},Ne.useInsertionEffect=function(z,J){return Fe.current.useInsertionEffect(z,J)},Ne.useLayoutEffect=function(z,J){return Fe.current.useLayoutEffect(z,J)},Ne.useMemo=function(z,J){return Fe.current.useMemo(z,J)},Ne.useReducer=function(z,J,pe){return Fe.current.useReducer(z,J,pe)},Ne.useRef=function(z){return Fe.current.useRef(z)},Ne.useState=function(z){return Fe.current.useState(z)},Ne.useSyncExternalStore=function(z,J,pe){return Fe.current.useSyncExternalStore(z,J,pe)},Ne.useTransition=function(){return Fe.current.useTransition()},Ne.version="18.3.1",Ne}var Vy;function rm(){return Vy||(Vy=1,$f.exports=wC()),$f.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function IC(){if(Fy)return _l;Fy=1;var n=rm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,f,p){var g,v={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(v[g]=f[g]);if(c&&c.defaultProps)for(g in f=c.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:c,key:E,ref:I,props:v,_owner:o.current}}return _l.Fragment=t,_l.jsx=u,_l.jsxs=u,_l}var Uy;function TC(){return Uy||(Uy=1,jf.exports=IC()),jf.exports}var U=TC(),F=rm();const tt=xd(F);var bc={},zf={exports:{}},dn={},Wf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function SC(){return By||(By=1,function(n){function e(oe,ge){var le=oe.length;oe.push(ge);e:for(;0<le;){var z=le-1>>>1,J=oe[z];if(0<o(J,ge))oe[z]=ge,oe[le]=J,le=z;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var ge=oe[0],le=oe.pop();if(le!==ge){oe[0]=le;e:for(var z=0,J=oe.length,pe=J>>>1;z<pe;){var be=2*(z+1)-1,Ae=oe[be],De=be+1,Oe=oe[De];if(0>o(Ae,le))De<J&&0>o(Oe,Ae)?(oe[z]=Oe,oe[De]=le,z=De):(oe[z]=Ae,oe[be]=le,z=be);else if(De<J&&0>o(Oe,le))oe[z]=Oe,oe[De]=le,z=De;else break e}}return ge}function o(oe,ge){var le=oe.sortIndex-ge.sortIndex;return le!==0?le:oe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],p=[],g=1,v=null,E=3,I=!1,S=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(oe){for(var ge=t(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=oe)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=t(p)}}function q(oe){if(x=!1,V(oe),!S)if(t(f)!==null)S=!0,Qe(G);else{var ge=t(p);ge!==null&&Fe(q,ge.startTime-oe)}}function G(oe,ge){S=!1,x&&(x=!1,k(P),P=-1),I=!0;var le=E;try{for(V(ge),v=t(f);v!==null&&(!(v.expirationTime>ge)||oe&&!L());){var z=v.callback;if(typeof z=="function"){v.callback=null,E=v.priorityLevel;var J=z(v.expirationTime<=ge);ge=n.unstable_now(),typeof J=="function"?v.callback=J:v===t(f)&&r(f),V(ge)}else r(f);v=t(f)}if(v!==null)var pe=!0;else{var be=t(p);be!==null&&Fe(q,be.startTime-ge),pe=!1}return pe}finally{v=null,E=le,I=!1}}var Z=!1,N=null,P=-1,b=5,O=-1;function L(){return!(n.unstable_now()-O<b)}function $(){if(N!==null){var oe=n.unstable_now();O=oe;var ge=!0;try{ge=N(!0,oe)}finally{ge?A():(Z=!1,N=null)}}else Z=!1}var A;if(typeof B=="function")A=function(){B($)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ke=Ce.port2;Ce.port1.onmessage=$,A=function(){Ke.postMessage(null)}}else A=function(){R($,0)};function Qe(oe){N=oe,Z||(Z=!0,A())}function Fe(oe,ge){P=R(function(){oe(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){S||I||(S=!0,Qe(G))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(oe){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var le=E;E=ge;try{return oe()}finally{E=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,ge){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var le=E;E=oe;try{return ge()}finally{E=le}},n.unstable_scheduleCallback=function(oe,ge,le){var z=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?z+le:z):le=z,oe){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,oe={id:g++,callback:ge,priorityLevel:oe,startTime:le,expirationTime:J,sortIndex:-1},le>z?(oe.sortIndex=le,e(p,oe),t(f)===null&&oe===t(p)&&(x?(k(P),P=-1):x=!0,Fe(q,le-z))):(oe.sortIndex=J,e(f,oe),S||I||(S=!0,Qe(G))),oe},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(oe){var ge=E;return function(){var le=E;E=ge;try{return oe.apply(this,arguments)}finally{E=le}}}}(Hf)),Hf}var jy;function CC(){return jy||(jy=1,Wf.exports=SC()),Wf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function AC(){if($y)return dn;$y=1;var n=rm(),e=CC();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function E(i){return f.call(v,i)?!0:f.call(g,i)?!1:p.test(i)?v[i]=!0:(g[i]=!0,!1)}function I(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,l,h){if(s===null||typeof s>"u"||I(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(i,s,l,h,m,_,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=_,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];R[s]=new x(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(k,B);R[s]=new x(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(k,B);R[s]=new x(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(k,B);R[s]=new x(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function V(i,s,l,h){var m=R.hasOwnProperty(s)?R[s]:null;(m!==null?m.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,l,m,h)&&(l=null),h||m===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),Z=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),oe=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,z;function J(i){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+i}var pe=!1;function be(i,s){if(!i||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var h=Q}Reflect.construct(i,[],s)}else{try{s.call()}catch(Q){h=Q}i.call(s.prototype)}else{try{throw Error()}catch(Q){h=Q}i()}}catch(Q){if(Q&&h&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),_=h.stack.split(`
`),T=m.length-1,D=_.length-1;1<=T&&0<=D&&m[T]!==_[D];)D--;for(;1<=T&&0<=D;T--,D--)if(m[T]!==_[D]){if(T!==1||D!==1)do if(T--,D--,0>D||m[T]!==_[D]){var M=`
`+m[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=D);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Ae(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function De(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case Z:return"Portal";case b:return"Profiler";case P:return"StrictMode";case A:return"Suspense";case Ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ke:return s=i.displayName||null,s!==null?s:De(i.type)||"Memo";case Qe:s=i._payload,i=i._init;try{return De(i(s))}catch{}}return null}function Oe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Le(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nt(i){var s=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,_=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,_.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function gn(i){i._valueTracker||(i._valueTracker=nt(i))}function kr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function bn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function xn(i,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Nr(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Le(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Or(i,s){s=s.checked,s!=null&&V(i,"checked",s,!1)}function Lr(i,s){Or(i,s);var l=Le(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Dn(i,s.type,l):s.hasOwnProperty("defaultValue")&&Dn(i,s.type,Le(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function es(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Dn(i,s,l){(s!=="number"||bn(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var vn=Array.isArray;function Mr(i,s,l,h){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Le(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Ra(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ts(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(vn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Le(l)}}function ns(i,s){var l=Le(s.value),h=Le(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Pa(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function wt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?wt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Vr,ba=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,m)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function di(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ho=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(i){ho.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),co[s]=co[i]})});function xa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||co.hasOwnProperty(i)&&co[i]?(""+s).trim():s+"px"}function Da(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=xa(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var ka=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Na(i,s){if(s){if(ka[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Oa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fo=null;function rs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var is=null,kn=null,pr=null;function os(i){if(i=il(i)){if(typeof is!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Wu(s),is(i.stateNode,i.type,s))}}function mr(i){kn?pr?pr.push(i):pr=[i]:kn=i}function La(){if(kn){var i=kn,s=pr;if(pr=kn=null,os(i),s)for(i=0;i<s.length;i++)os(s[i])}}function po(i,s){return i(s)}function Ma(){}var Fr=!1;function Va(i,s,l){if(Fr)return i(s,l);Fr=!0;try{return po(i,s,l)}finally{Fr=!1,(kn!==null||pr!==null)&&(Ma(),La())}}function ft(i,s){var l=i.stateNode;if(l===null)return null;var h=Wu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ss=!1;if(c)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){ss=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{ss=!1}function mo(i,s,l,h,m,_,T,D,M){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(ne){this.onError(ne)}}var go=!1,as=null,Kn=!1,Fa=null,ph={onError:function(i){go=!0,as=i}};function ls(i,s,l,h,m,_,T,D,M){go=!1,as=null,mo.apply(ph,arguments)}function mu(i,s,l,h,m,_,T,D,M){if(ls.apply(this,arguments),go){if(go){var Q=as;go=!1,as=null}else throw Error(t(198));Kn||(Kn=!0,Fa=Q)}}function Qn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function vo(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Yn(i){if(Qn(i)!==i)throw Error(t(188))}function gu(i){var s=i.alternate;if(!s){if(s=Qn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var m=l.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===l)return Yn(m),i;if(_===h)return Yn(m),s;_=_.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=_;else{for(var T=!1,D=m.child;D;){if(D===l){T=!0,l=m,h=_;break}if(D===h){T=!0,h=m,l=_;break}D=D.sibling}if(!T){for(D=_.child;D;){if(D===l){T=!0,l=_,h=m;break}if(D===h){T=!0,h=_,l=m;break}D=D.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Ua(i){return i=gu(i),i!==null?us(i):null}function us(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=us(i);if(s!==null)return s;i=i.sibling}return null}var cs=e.unstable_scheduleCallback,Ba=e.unstable_cancelCallback,vu=e.unstable_shouldYield,mh=e.unstable_requestPaint,Ze=e.unstable_now,yu=e.unstable_getCurrentPriorityLevel,yo=e.unstable_ImmediatePriority,hi=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,ja=e.unstable_LowPriority,_u=e.unstable_IdlePriority,_o=null,yn=null;function Eu(i){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(_o,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Iu,$a=Math.log,wu=Math.LN2;function Iu(i){return i>>>=0,i===0?32:31-($a(i)/wu|0)|0}var ds=64,hs=4194304;function fi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Eo(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,_=i.pingedLanes,T=l&268435455;if(T!==0){var D=T&~m;D!==0?h=fi(D):(_&=T,_!==0&&(h=fi(_)))}else T=l&~m,T!==0?h=fi(T):_!==0&&(h=fi(_));if(h===0)return 0;if(s!==0&&s!==h&&(s&m)===0&&(m=h&-h,_=s&-s,m>=_||m===16&&(_&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Xt(s),m=1<<l,h|=i[l],s&=~m;return h}function gh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes;0<_;){var T=31-Xt(_),D=1<<T,M=m[T];M===-1?((D&l)===0||(D&h)!==0)&&(m[T]=gh(D,s)):M<=s&&(i.expiredLanes|=D),_&=~D}}function _n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function wo(){var i=ds;return ds<<=1,(ds&4194240)===0&&(ds=64),i}function pi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function mi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Xt(s),i[s]=l}function Xe(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Xt(l),_=1<<m;s[m]=0,h[m]=-1,i[m]=-1,l&=~_}}function gi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Xt(l),m=1<<h;m&s|i[h]&s&&(i[h]|=s),l&=~m}}var Ue=0;function vi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Tu,fs,Su,Cu,Au,za=!1,gr=[],Lt=null,Jn=null,Xn=null,yi=new Map,On=new Map,vr=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(i,s){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":yi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(s.pointerId)}}function rn(i,s,l,h,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},s!==null&&(s=il(s),s!==null&&fs(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function yh(i,s,l,h,m){switch(s){case"focusin":return Lt=rn(Lt,i,s,l,h,m),!0;case"dragenter":return Jn=rn(Jn,i,s,l,h,m),!0;case"mouseover":return Xn=rn(Xn,i,s,l,h,m),!0;case"pointerover":var _=m.pointerId;return yi.set(_,rn(yi.get(_)||null,i,s,l,h,m)),!0;case"gotpointercapture":return _=m.pointerId,On.set(_,rn(On.get(_)||null,i,s,l,h,m)),!0}return!1}function Pu(i){var s=Ao(i.target);if(s!==null){var l=Qn(s);if(l!==null){if(s=l.tag,s===13){if(s=vo(l),s!==null){i.blockedOn=s,Au(i.priority,function(){Su(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=ps(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);fo=h,l.target.dispatchEvent(h),fo=null}else return s=il(l),s!==null&&fs(s),i.blockedOn=l,!1;s.shift()}return!0}function Io(i,s,l){Br(i)&&l.delete(s)}function bu(){za=!1,Lt!==null&&Br(Lt)&&(Lt=null),Jn!==null&&Br(Jn)&&(Jn=null),Xn!==null&&Br(Xn)&&(Xn=null),yi.forEach(Io),On.forEach(Io)}function Zn(i,s){i.blockedOn===s&&(i.blockedOn=null,za||(za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bu)))}function er(i){function s(m){return Zn(m,i)}if(0<gr.length){Zn(gr[0],i);for(var l=1;l<gr.length;l++){var h=gr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Lt!==null&&Zn(Lt,i),Jn!==null&&Zn(Jn,i),Xn!==null&&Zn(Xn,i),yi.forEach(s),On.forEach(s),l=0;l<vr.length;l++)h=vr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<vr.length&&(l=vr[0],l.blockedOn===null);)Pu(l),l.blockedOn===null&&vr.shift()}var jr=q.ReactCurrentBatchConfig,_i=!0;function st(i,s,l,h){var m=Ue,_=jr.transition;jr.transition=null;try{Ue=1,Wa(i,s,l,h)}finally{Ue=m,jr.transition=_}}function _h(i,s,l,h){var m=Ue,_=jr.transition;jr.transition=null;try{Ue=4,Wa(i,s,l,h)}finally{Ue=m,jr.transition=_}}function Wa(i,s,l,h){if(_i){var m=ps(i,s,l,h);if(m===null)xh(i,s,h,To,l),Ru(i,h);else if(yh(m,i,s,l,h))h.stopPropagation();else if(Ru(i,h),s&4&&-1<vh.indexOf(i)){for(;m!==null;){var _=il(m);if(_!==null&&Tu(_),_=ps(i,s,l,h),_===null&&xh(i,s,h,To,l),_===m)break;m=_}m!==null&&h.stopPropagation()}else xh(i,s,h,null,l)}}var To=null;function ps(i,s,l,h){if(To=null,i=rs(h),i=Ao(i),i!==null)if(s=Qn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=vo(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return To=i,null}function Ha(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case yo:return 1;case hi:return 4;case Nn:case ja:return 16;case _u:return 536870912;default:return 16}default:return 16}}var En=null,ms=null,on=null;function Ga(){if(on)return on;var i,s=ms,l=s.length,h,m="value"in En?En.value:En.textContent,_=m.length;for(i=0;i<l&&s[i]===m[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===m[_-h];h++);return on=m.slice(i,1<h?1-h:void 0)}function gs(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function yr(){return!0}function qa(){return!1}function Mt(i){function s(l,h,m,_,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(l=i[D],this[D]=l?l(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?yr:qa,this.isPropagationStopped=qa,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Mt(tr),_r=le({},tr,{view:0,detail:0}),Eh=Mt(_r),ys,$r,Ei,So=le({},_r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(ys=i.screenX-Ei.screenX,$r=i.screenY-Ei.screenY):$r=ys=0,Ei=i),ys)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),_s=Mt(So),Ka=le({},So,{dataTransfer:0}),xu=Mt(Ka),Es=le({},_r,{relatedTarget:0}),ws=Mt(Es),Du=le({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Mt(Du),ku=le({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nu=Mt(ku),Ou=le({},tr,{data:0}),Qa=Mt(Ou),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Lu[i])?!!s[i]:!1}function Er(){return Mu}var d=le({},_r,{key:function(i){if(i.key){var s=Is[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=gs(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(i){return i.type==="keypress"?gs(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gs(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Mt(d),w=le({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=Mt(w),W=le({},_r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),Y=Mt(W),ae=le({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Mt(ae),Tt=le({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=Mt(Tt),Pt=[9,13,27,32],gt=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var wn=c&&"TextEvent"in window&&!Ln,Co=c&&(!gt||Ln&&8<Ln&&11>=Ln),Ts=" ",xg=!1;function Dg(i,s){switch(i){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ss=!1;function yS(i,s){switch(i){case"compositionend":return kg(s);case"keypress":return s.which!==32?null:(xg=!0,Ts);case"textInput":return i=s.data,i===Ts&&xg?null:i;default:return null}}function _S(i,s){if(Ss)return i==="compositionend"||!gt&&Dg(i,s)?(i=Ga(),on=ms=En=null,Ss=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Co&&s.locale!=="ko"?null:s.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ES[i.type]:s==="textarea"}function Og(i,s,l,h){mr(h),s=ju(s,"onChange"),0<s.length&&(l=new vs("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Ya=null,Ja=null;function wS(i){Xg(i,0)}function Vu(i){var s=bs(i);if(kr(s))return i}function IS(i,s){if(i==="change")return s}var Lg=!1;if(c){var wh;if(c){var Ih="oninput"in document;if(!Ih){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Ih=typeof Mg.oninput=="function"}wh=Ih}else wh=!1;Lg=wh&&(!document.documentMode||9<document.documentMode)}function Vg(){Ya&&(Ya.detachEvent("onpropertychange",Fg),Ja=Ya=null)}function Fg(i){if(i.propertyName==="value"&&Vu(Ja)){var s=[];Og(s,Ja,i,rs(i)),Va(wS,s)}}function TS(i,s,l){i==="focusin"?(Vg(),Ya=s,Ja=l,Ya.attachEvent("onpropertychange",Fg)):i==="focusout"&&Vg()}function SS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vu(Ja)}function CS(i,s){if(i==="click")return Vu(s)}function AS(i,s){if(i==="input"||i==="change")return Vu(s)}function RS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var nr=typeof Object.is=="function"?Object.is:RS;function Xa(i,s){if(nr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(s,m)||!nr(i[m],s[m]))return!1}return!0}function Ug(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Bg(i,s){var l=Ug(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ug(l)}}function jg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?jg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function $g(){for(var i=window,s=bn();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=bn(i.document)}return s}function Th(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function PS(i){var s=$g(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&jg(l.ownerDocument.documentElement,l)){if(h!==null&&Th(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,_=Math.min(h.start,m);h=h.end===void 0?_:Math.min(h.end,m),!i.extend&&_>h&&(m=h,h=_,_=m),m=Bg(l,_);var T=Bg(l,h);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),_>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bS=c&&"documentMode"in document&&11>=document.documentMode,Cs=null,Sh=null,Za=null,Ch=!1;function zg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ch||Cs==null||Cs!==bn(h)||(h=Cs,"selectionStart"in h&&Th(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Za&&Xa(Za,h)||(Za=h,h=ju(Sh,"onSelect"),0<h.length&&(s=new vs("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Cs)))}function Fu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var As={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Ah={},Wg={};c&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Uu(i){if(Ah[i])return Ah[i];if(!As[i])return i;var s=As[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Wg)return Ah[i]=s[l];return i}var Hg=Uu("animationend"),Gg=Uu("animationiteration"),qg=Uu("animationstart"),Kg=Uu("transitionend"),Qg=new Map,Yg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(i,s){Qg.set(i,s),a(s,[i])}for(var Rh=0;Rh<Yg.length;Rh++){var Ph=Yg[Rh],xS=Ph.toLowerCase(),DS=Ph[0].toUpperCase()+Ph.slice(1);wi(xS,"on"+DS)}wi(Hg,"onAnimationEnd"),wi(Gg,"onAnimationIteration"),wi(qg,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(Kg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function Jg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,mu(h,s,void 0,i),i.currentTarget=null}function Xg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var T=h.length-1;0<=T;T--){var D=h[T],M=D.instance,Q=D.currentTarget;if(D=D.listener,M!==_&&m.isPropagationStopped())break e;Jg(m,D,Q),_=M}else for(T=0;T<h.length;T++){if(D=h[T],M=D.instance,Q=D.currentTarget,D=D.listener,M!==_&&m.isPropagationStopped())break e;Jg(m,D,Q),_=M}}}if(Kn)throw i=Fa,Kn=!1,Fa=null,i}function rt(i,s){var l=s[Mh];l===void 0&&(l=s[Mh]=new Set);var h=i+"__bubble";l.has(h)||(Zg(s,i,2,!1),l.add(h))}function bh(i,s,l){var h=0;s&&(h|=4),Zg(l,i,h,s)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function tl(i){if(!i[Bu]){i[Bu]=!0,r.forEach(function(l){l!=="selectionchange"&&(kS.has(l)||bh(l,!1,i),bh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Bu]||(s[Bu]=!0,bh("selectionchange",!1,s))}}function Zg(i,s,l,h){switch(Ha(s)){case 1:var m=st;break;case 4:m=_h;break;default:m=Wa}l=m.bind(null,s,l,i),m=void 0,!ss||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function xh(i,s,l,h,m){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var D=h.stateNode.containerInfo;if(D===m||D.nodeType===8&&D.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;D!==null;){if(T=Ao(D),T===null)return;if(M=T.tag,M===5||M===6){h=_=T;continue e}D=D.parentNode}}h=h.return}Va(function(){var Q=_,ne=rs(l),re=[];e:{var te=Qg.get(i);if(te!==void 0){var ue=vs,fe=i;switch(i){case"keypress":if(gs(l)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":fe="focus",ue=ws;break;case"focusout":fe="blur",ue=ws;break;case"beforeblur":case"afterblur":ue=ws;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=_s;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Y;break;case Hg:case Gg:case qg:ue=zr;break;case Kg:ue=Ye;break;case"scroll":ue=Eh;break;case"wheel":ue=Be;break;case"copy":case"cut":case"paste":ue=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=C}var me=(s&4)!==0,pt=!me&&i==="scroll",H=me?te!==null?te+"Capture":null:te;me=[];for(var j=Q,K;j!==null;){K=j;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,H!==null&&(ie=ft(j,H),ie!=null&&me.push(nl(j,ie,K)))),pt)break;j=j.return}0<me.length&&(te=new ue(te,fe,null,l,ne),re.push({event:te,listeners:me}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",te&&l!==fo&&(fe=l.relatedTarget||l.fromElement)&&(Ao(fe)||fe[Wr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=Q,fe=fe?Ao(fe):null,fe!==null&&(pt=Qn(fe),fe!==pt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=Q),ue!==fe)){if(me=_s,ie="onMouseLeave",H="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(me=C,ie="onPointerLeave",H="onPointerEnter",j="pointer"),pt=ue==null?te:bs(ue),K=fe==null?te:bs(fe),te=new me(ie,j+"leave",ue,l,ne),te.target=pt,te.relatedTarget=K,ie=null,Ao(ne)===Q&&(me=new me(H,j+"enter",fe,l,ne),me.target=K,me.relatedTarget=pt,ie=me),pt=ie,ue&&fe)t:{for(me=ue,H=fe,j=0,K=me;K;K=Rs(K))j++;for(K=0,ie=H;ie;ie=Rs(ie))K++;for(;0<j-K;)me=Rs(me),j--;for(;0<K-j;)H=Rs(H),K--;for(;j--;){if(me===H||H!==null&&me===H.alternate)break t;me=Rs(me),H=Rs(H)}me=null}else me=null;ue!==null&&ev(re,te,ue,me,!1),fe!==null&&pt!==null&&ev(re,pt,fe,me,!0)}}e:{if(te=Q?bs(Q):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ve=IS;else if(Ng(te))if(Lg)ve=AS;else{ve=SS;var Ee=TS}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ve=CS);if(ve&&(ve=ve(i,Q))){Og(re,ve,l,ne);break e}Ee&&Ee(i,te,Q),i==="focusout"&&(Ee=te._wrapperState)&&Ee.controlled&&te.type==="number"&&Dn(te,"number",te.value)}switch(Ee=Q?bs(Q):window,i){case"focusin":(Ng(Ee)||Ee.contentEditable==="true")&&(Cs=Ee,Sh=Q,Za=null);break;case"focusout":Za=Sh=Cs=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,zg(re,l,ne);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":zg(re,l,ne)}var we;if(gt)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ss?Dg(i,l)&&(Re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Co&&l.locale!=="ko"&&(Ss||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ss&&(we=Ga()):(En=ne,ms="value"in En?En.value:En.textContent,Ss=!0)),Ee=ju(Q,Re),0<Ee.length&&(Re=new Qa(Re,i,null,l,ne),re.push({event:Re,listeners:Ee}),we?Re.data=we:(we=kg(l),we!==null&&(Re.data=we)))),(we=wn?yS(i,l):_S(i,l))&&(Q=ju(Q,"onBeforeInput"),0<Q.length&&(ne=new Qa("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:Q}),ne.data=we))}Xg(re,s)})}function nl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function ju(i,s){for(var l=s+"Capture",h=[];i!==null;){var m=i,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=ft(i,l),_!=null&&h.unshift(nl(i,_,m)),_=ft(i,s),_!=null&&h.push(nl(i,_,m))),i=i.return}return h}function Rs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ev(i,s,l,h,m){for(var _=s._reactName,T=[];l!==null&&l!==h;){var D=l,M=D.alternate,Q=D.stateNode;if(M!==null&&M===h)break;D.tag===5&&Q!==null&&(D=Q,m?(M=ft(l,_),M!=null&&T.unshift(nl(l,M,D))):m||(M=ft(l,_),M!=null&&T.push(nl(l,M,D)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var NS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function tv(i){return(typeof i=="string"?i:""+i).replace(NS,`
`).replace(OS,"")}function $u(i,s,l){if(s=tv(s),tv(i)!==s&&l)throw Error(t(425))}function zu(){}var Dh=null,kh=null;function Nh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oh=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,nv=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof nv<"u"?function(i){return nv.resolve(null).then(i).catch(VS)}:Oh;function VS(i){setTimeout(function(){throw i})}function Lh(i,s){var l=s,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),er(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);er(s)}function Ii(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function rv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),wr="__reactFiber$"+Ps,rl="__reactProps$"+Ps,Wr="__reactContainer$"+Ps,Mh="__reactEvents$"+Ps,FS="__reactListeners$"+Ps,US="__reactHandles$"+Ps;function Ao(i){var s=i[wr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Wr]||l[wr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=rv(i);i!==null;){if(l=i[wr])return l;i=rv(i)}return s}i=l,l=i.parentNode}return null}function il(i){return i=i[wr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function bs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Wu(i){return i[rl]||null}var Vh=[],xs=-1;function Ti(i){return{current:i}}function it(i){0>xs||(i.current=Vh[xs],Vh[xs]=null,xs--)}function et(i,s){xs++,Vh[xs]=i.current,i.current=s}var Si={},zt=Ti(Si),sn=Ti(!1),Ro=Si;function Ds(i,s){var l=i.type.contextTypes;if(!l)return Si;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in l)m[_]=s[_];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function an(i){return i=i.childContextTypes,i!=null}function Hu(){it(sn),it(zt)}function iv(i,s,l){if(zt.current!==Si)throw Error(t(168));et(zt,s),et(sn,l)}function ov(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in s))throw Error(t(108,Oe(i)||"Unknown",m));return le({},l,h)}function Gu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Si,Ro=zt.current,et(zt,i),et(sn,sn.current),!0}function sv(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=ov(i,s,Ro),h.__reactInternalMemoizedMergedChildContext=i,it(sn),it(zt),et(zt,i)):it(sn),et(sn,l)}var Hr=null,qu=!1,Fh=!1;function av(i){Hr===null?Hr=[i]:Hr.push(i)}function BS(i){qu=!0,av(i)}function Ci(){if(!Fh&&Hr!==null){Fh=!0;var i=0,s=Ue;try{var l=Hr;for(Ue=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Hr=null,qu=!1}catch(m){throw Hr!==null&&(Hr=Hr.slice(i+1)),cs(yo,Ci),m}finally{Ue=s,Fh=!1}}return null}var ks=[],Ns=0,Ku=null,Qu=0,Mn=[],Vn=0,Po=null,Gr=1,qr="";function bo(i,s){ks[Ns++]=Qu,ks[Ns++]=Ku,Ku=i,Qu=s}function lv(i,s,l){Mn[Vn++]=Gr,Mn[Vn++]=qr,Mn[Vn++]=Po,Po=i;var h=Gr;i=qr;var m=32-Xt(h)-1;h&=~(1<<m),l+=1;var _=32-Xt(s)+m;if(30<_){var T=m-m%5;_=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Gr=1<<32-Xt(s)+m|l<<m|h,qr=_+i}else Gr=1<<_|l<<m|h,qr=i}function Uh(i){i.return!==null&&(bo(i,1),lv(i,1,0))}function Bh(i){for(;i===Ku;)Ku=ks[--Ns],ks[Ns]=null,Qu=ks[--Ns],ks[Ns]=null;for(;i===Po;)Po=Mn[--Vn],Mn[Vn]=null,qr=Mn[--Vn],Mn[Vn]=null,Gr=Mn[--Vn],Mn[Vn]=null}var In=null,Tn=null,at=!1,rr=null;function uv(i,s){var l=jn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function cv(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,In=i,Tn=Ii(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,In=i,Tn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Po!==null?{id:Gr,overflow:qr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=jn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,In=i,Tn=null,!0):!1;default:return!1}}function jh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function $h(i){if(at){var s=Tn;if(s){var l=s;if(!cv(i,s)){if(jh(i))throw Error(t(418));s=Ii(l.nextSibling);var h=In;s&&cv(i,s)?uv(h,l):(i.flags=i.flags&-4097|2,at=!1,In=i)}}else{if(jh(i))throw Error(t(418));i.flags=i.flags&-4097|2,at=!1,In=i}}}function dv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;In=i}function Yu(i){if(i!==In)return!1;if(!at)return dv(i),at=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Nh(i.type,i.memoizedProps)),s&&(s=Tn)){if(jh(i))throw hv(),Error(t(418));for(;s;)uv(i,s),s=Ii(s.nextSibling)}if(dv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){Tn=Ii(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}Tn=null}}else Tn=In?Ii(i.stateNode.nextSibling):null;return!0}function hv(){for(var i=Tn;i;)i=Ii(i.nextSibling)}function Os(){Tn=In=null,at=!1}function zh(i){rr===null?rr=[i]:rr.push(i)}var jS=q.ReactCurrentBatchConfig;function ol(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,_=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===_?s.ref:(s=function(T){var D=m.refs;T===null?delete D[_]:D[_]=T},s._stringRef=_,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Ju(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function fv(i){var s=i._init;return s(i._payload)}function pv(i){function s(H,j){if(i){var K=H.deletions;K===null?(H.deletions=[j],H.flags|=16):K.push(j)}}function l(H,j){if(!i)return null;for(;j!==null;)s(H,j),j=j.sibling;return null}function h(H,j){for(H=new Map;j!==null;)j.key!==null?H.set(j.key,j):H.set(j.index,j),j=j.sibling;return H}function m(H,j){return H=Ni(H,j),H.index=0,H.sibling=null,H}function _(H,j,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<j?(H.flags|=2,j):K):(H.flags|=2,j)):(H.flags|=1048576,j)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function D(H,j,K,ie){return j===null||j.tag!==6?(j=Lf(K,H.mode,ie),j.return=H,j):(j=m(j,K),j.return=H,j)}function M(H,j,K,ie){var ve=K.type;return ve===N?ne(H,j,K.props.children,ie,K.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Qe&&fv(ve)===j.type)?(ie=m(j,K.props),ie.ref=ol(H,j,K),ie.return=H,ie):(ie=wc(K.type,K.key,K.props,null,H.mode,ie),ie.ref=ol(H,j,K),ie.return=H,ie)}function Q(H,j,K,ie){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=Mf(K,H.mode,ie),j.return=H,j):(j=m(j,K.children||[]),j.return=H,j)}function ne(H,j,K,ie,ve){return j===null||j.tag!==7?(j=Vo(K,H.mode,ie,ve),j.return=H,j):(j=m(j,K),j.return=H,j)}function re(H,j,K){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Lf(""+j,H.mode,K),j.return=H,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return K=wc(j.type,j.key,j.props,null,H.mode,K),K.ref=ol(H,null,j),K.return=H,K;case Z:return j=Mf(j,H.mode,K),j.return=H,j;case Qe:var ie=j._init;return re(H,ie(j._payload),K)}if(vn(j)||ge(j))return j=Vo(j,H.mode,K,null),j.return=H,j;Ju(H,j)}return null}function te(H,j,K,ie){var ve=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ve!==null?null:D(H,j,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return K.key===ve?M(H,j,K,ie):null;case Z:return K.key===ve?Q(H,j,K,ie):null;case Qe:return ve=K._init,te(H,j,ve(K._payload),ie)}if(vn(K)||ge(K))return ve!==null?null:ne(H,j,K,ie,null);Ju(H,K)}return null}function ue(H,j,K,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(K)||null,D(j,H,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case G:return H=H.get(ie.key===null?K:ie.key)||null,M(j,H,ie,ve);case Z:return H=H.get(ie.key===null?K:ie.key)||null,Q(j,H,ie,ve);case Qe:var Ee=ie._init;return ue(H,j,K,Ee(ie._payload),ve)}if(vn(ie)||ge(ie))return H=H.get(K)||null,ne(j,H,ie,ve,null);Ju(j,ie)}return null}function fe(H,j,K,ie){for(var ve=null,Ee=null,we=j,Re=j=0,Dt=null;we!==null&&Re<K.length;Re++){we.index>Re?(Dt=we,we=null):Dt=we.sibling;var We=te(H,we,K[Re],ie);if(We===null){we===null&&(we=Dt);break}i&&we&&We.alternate===null&&s(H,we),j=_(We,j,Re),Ee===null?ve=We:Ee.sibling=We,Ee=We,we=Dt}if(Re===K.length)return l(H,we),at&&bo(H,Re),ve;if(we===null){for(;Re<K.length;Re++)we=re(H,K[Re],ie),we!==null&&(j=_(we,j,Re),Ee===null?ve=we:Ee.sibling=we,Ee=we);return at&&bo(H,Re),ve}for(we=h(H,we);Re<K.length;Re++)Dt=ue(we,H,Re,K[Re],ie),Dt!==null&&(i&&Dt.alternate!==null&&we.delete(Dt.key===null?Re:Dt.key),j=_(Dt,j,Re),Ee===null?ve=Dt:Ee.sibling=Dt,Ee=Dt);return i&&we.forEach(function(Oi){return s(H,Oi)}),at&&bo(H,Re),ve}function me(H,j,K,ie){var ve=ge(K);if(typeof ve!="function")throw Error(t(150));if(K=ve.call(K),K==null)throw Error(t(151));for(var Ee=ve=null,we=j,Re=j=0,Dt=null,We=K.next();we!==null&&!We.done;Re++,We=K.next()){we.index>Re?(Dt=we,we=null):Dt=we.sibling;var Oi=te(H,we,We.value,ie);if(Oi===null){we===null&&(we=Dt);break}i&&we&&Oi.alternate===null&&s(H,we),j=_(Oi,j,Re),Ee===null?ve=Oi:Ee.sibling=Oi,Ee=Oi,we=Dt}if(We.done)return l(H,we),at&&bo(H,Re),ve;if(we===null){for(;!We.done;Re++,We=K.next())We=re(H,We.value,ie),We!==null&&(j=_(We,j,Re),Ee===null?ve=We:Ee.sibling=We,Ee=We);return at&&bo(H,Re),ve}for(we=h(H,we);!We.done;Re++,We=K.next())We=ue(we,H,Re,We.value,ie),We!==null&&(i&&We.alternate!==null&&we.delete(We.key===null?Re:We.key),j=_(We,j,Re),Ee===null?ve=We:Ee.sibling=We,Ee=We);return i&&we.forEach(function(EC){return s(H,EC)}),at&&bo(H,Re),ve}function pt(H,j,K,ie){if(typeof K=="object"&&K!==null&&K.type===N&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case G:e:{for(var ve=K.key,Ee=j;Ee!==null;){if(Ee.key===ve){if(ve=K.type,ve===N){if(Ee.tag===7){l(H,Ee.sibling),j=m(Ee,K.props.children),j.return=H,H=j;break e}}else if(Ee.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Qe&&fv(ve)===Ee.type){l(H,Ee.sibling),j=m(Ee,K.props),j.ref=ol(H,Ee,K),j.return=H,H=j;break e}l(H,Ee);break}else s(H,Ee);Ee=Ee.sibling}K.type===N?(j=Vo(K.props.children,H.mode,ie,K.key),j.return=H,H=j):(ie=wc(K.type,K.key,K.props,null,H.mode,ie),ie.ref=ol(H,j,K),ie.return=H,H=ie)}return T(H);case Z:e:{for(Ee=K.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){l(H,j.sibling),j=m(j,K.children||[]),j.return=H,H=j;break e}else{l(H,j);break}else s(H,j);j=j.sibling}j=Mf(K,H.mode,ie),j.return=H,H=j}return T(H);case Qe:return Ee=K._init,pt(H,j,Ee(K._payload),ie)}if(vn(K))return fe(H,j,K,ie);if(ge(K))return me(H,j,K,ie);Ju(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,j!==null&&j.tag===6?(l(H,j.sibling),j=m(j,K),j.return=H,H=j):(l(H,j),j=Lf(K,H.mode,ie),j.return=H,H=j),T(H)):l(H,j)}return pt}var Ls=pv(!0),mv=pv(!1),Xu=Ti(null),Zu=null,Ms=null,Wh=null;function Hh(){Wh=Ms=Zu=null}function Gh(i){var s=Xu.current;it(Xu),i._currentValue=s}function qh(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function Vs(i,s){Zu=i,Wh=Ms=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(ln=!0),i.firstContext=null)}function Fn(i){var s=i._currentValue;if(Wh!==i)if(i={context:i,memoizedValue:s,next:null},Ms===null){if(Zu===null)throw Error(t(308));Ms=i,Zu.dependencies={lanes:0,firstContext:i}}else Ms=Ms.next=i;return s}var xo=null;function Kh(i){xo===null?xo=[i]:xo.push(i)}function gv(i,s,l,h){var m=s.interleaved;return m===null?(l.next=l,Kh(s)):(l.next=m.next,m.next=l),s.interleaved=l,Kr(i,h)}function Kr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ai=!1;function Qh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Qr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Ri(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,Kr(i,l)}return m=h.interleaved,m===null?(s.next=s,Kh(h)):(s.next=m.next,m.next=s),h.interleaved=s,Kr(i,l)}function ec(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,gi(i,l)}}function yv(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};_===null?m=_=T:_=_.next=T,l=l.next}while(l!==null);_===null?m=_=s:_=_.next=s}else m=_=s;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function tc(i,s,l,h){var m=i.updateQueue;Ai=!1;var _=m.firstBaseUpdate,T=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var M=D,Q=M.next;M.next=null,T===null?_=Q:T.next=Q,T=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,D=ne.lastBaseUpdate,D!==T&&(D===null?ne.firstBaseUpdate=Q:D.next=Q,ne.lastBaseUpdate=M))}if(_!==null){var re=m.baseState;T=0,ne=Q=M=null,D=_;do{var te=D.lane,ue=D.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var fe=i,me=D;switch(te=s,ue=l,me.tag){case 1:if(fe=me.payload,typeof fe=="function"){re=fe.call(ue,re,te);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=me.payload,te=typeof fe=="function"?fe.call(ue,re,te):fe,te==null)break e;re=le({},re,te);break e;case 2:Ai=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[D]:te.push(D))}else ue={eventTime:ue,lane:te,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ne===null?(Q=ne=ue,M=re):ne=ne.next=ue,T|=te;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;te=D,D=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(M=re),m.baseState=M,m.firstBaseUpdate=Q,m.lastBaseUpdate=ne,s=m.shared.interleaved,s!==null){m=s;do T|=m.lane,m=m.next;while(m!==s)}else _===null&&(m.shared.lanes=0);No|=T,i.lanes=T,i.memoizedState=re}}function _v(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var sl={},Ir=Ti(sl),al=Ti(sl),ll=Ti(sl);function Do(i){if(i===sl)throw Error(t(174));return i}function Yh(i,s){switch(et(ll,s),et(al,i),et(Ir,sl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:It(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=It(s,i)}it(Ir),et(Ir,s)}function Fs(){it(Ir),it(al),it(ll)}function Ev(i){Do(ll.current);var s=Do(Ir.current),l=It(s,i.type);s!==l&&(et(al,i),et(Ir,l))}function Jh(i){al.current===i&&(it(Ir),it(al))}var ut=Ti(0);function nc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xh=[];function Zh(){for(var i=0;i<Xh.length;i++)Xh[i]._workInProgressVersionPrimary=null;Xh.length=0}var rc=q.ReactCurrentDispatcher,ef=q.ReactCurrentBatchConfig,ko=0,ct=null,St=null,bt=null,ic=!1,ul=!1,cl=0,$S=0;function Wt(){throw Error(t(321))}function tf(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!nr(i[l],s[l]))return!1;return!0}function nf(i,s,l,h,m,_){if(ko=_,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rc.current=i===null||i.memoizedState===null?GS:qS,i=l(h,m),ul){_=0;do{if(ul=!1,cl=0,25<=_)throw Error(t(301));_+=1,bt=St=null,s.updateQueue=null,rc.current=KS,i=l(h,m)}while(ul)}if(rc.current=ac,s=St!==null&&St.next!==null,ko=0,bt=St=ct=null,ic=!1,s)throw Error(t(300));return i}function rf(){var i=cl!==0;return cl=0,i}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?ct.memoizedState=bt=i:bt=bt.next=i,bt}function Un(){if(St===null){var i=ct.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var s=bt===null?ct.memoizedState:bt.next;if(s!==null)bt=s,St=i;else{if(i===null)throw Error(t(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},bt===null?ct.memoizedState=bt=i:bt=bt.next=i}return bt}function dl(i,s){return typeof s=="function"?s(i):s}function of(i){var s=Un(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=St,m=h.baseQueue,_=l.pending;if(_!==null){if(m!==null){var T=m.next;m.next=_.next,_.next=T}h.baseQueue=m=_,l.pending=null}if(m!==null){_=m.next,h=h.baseState;var D=T=null,M=null,Q=_;do{var ne=Q.lane;if((ko&ne)===ne)M!==null&&(M=M.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),h=Q.hasEagerState?Q.eagerState:i(h,Q.action);else{var re={lane:ne,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};M===null?(D=M=re,T=h):M=M.next=re,ct.lanes|=ne,No|=ne}Q=Q.next}while(Q!==null&&Q!==_);M===null?T=h:M.next=D,nr(h,s.memoizedState)||(ln=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=M,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do _=m.lane,ct.lanes|=_,No|=_,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function sf(i){var s=Un(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,_=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do _=i(_,T.action),T=T.next;while(T!==m);nr(_,s.memoizedState)||(ln=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,h]}function wv(){}function Iv(i,s){var l=ct,h=Un(),m=s(),_=!nr(h.memoizedState,m);if(_&&(h.memoizedState=m,ln=!0),h=h.queue,af(Cv.bind(null,l,h,i),[i]),h.getSnapshot!==s||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,hl(9,Sv.bind(null,l,h,m,s),void 0,null),xt===null)throw Error(t(349));(ko&30)!==0||Tv(l,s,m)}return m}function Tv(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Sv(i,s,l,h){s.value=l,s.getSnapshot=h,Av(s)&&Rv(i)}function Cv(i,s,l){return l(function(){Av(s)&&Rv(i)})}function Av(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!nr(i,l)}catch{return!0}}function Rv(i){var s=Kr(i,1);s!==null&&ar(s,i,1,-1)}function Pv(i){var s=Tr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:i},s.queue=i,i=i.dispatch=HS.bind(null,ct,i),[s.memoizedState,i]}function hl(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=ct.updateQueue,s===null?(s={lastEffect:null,stores:null},ct.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function bv(){return Un().memoizedState}function oc(i,s,l,h){var m=Tr();ct.flags|=i,m.memoizedState=hl(1|s,l,void 0,h===void 0?null:h)}function sc(i,s,l,h){var m=Un();h=h===void 0?null:h;var _=void 0;if(St!==null){var T=St.memoizedState;if(_=T.destroy,h!==null&&tf(h,T.deps)){m.memoizedState=hl(s,l,_,h);return}}ct.flags|=i,m.memoizedState=hl(1|s,l,_,h)}function xv(i,s){return oc(8390656,8,i,s)}function af(i,s){return sc(2048,8,i,s)}function Dv(i,s){return sc(4,2,i,s)}function kv(i,s){return sc(4,4,i,s)}function Nv(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ov(i,s,l){return l=l!=null?l.concat([i]):null,sc(4,4,Nv.bind(null,s,i),l)}function lf(){}function Lv(i,s){var l=Un();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&tf(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Mv(i,s){var l=Un();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&tf(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function Vv(i,s,l){return(ko&21)===0?(i.baseState&&(i.baseState=!1,ln=!0),i.memoizedState=l):(nr(l,s)||(l=wo(),ct.lanes|=l,No|=l,i.baseState=!0),s)}function zS(i,s){var l=Ue;Ue=l!==0&&4>l?l:4,i(!0);var h=ef.transition;ef.transition={};try{i(!1),s()}finally{Ue=l,ef.transition=h}}function Fv(){return Un().memoizedState}function WS(i,s,l){var h=Di(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Uv(i))Bv(s,l);else if(l=gv(i,s,l,h),l!==null){var m=tn();ar(l,i,h,m),jv(l,s,h)}}function HS(i,s,l){var h=Di(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Uv(i))Bv(s,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var T=s.lastRenderedState,D=_(T,l);if(m.hasEagerState=!0,m.eagerState=D,nr(D,T)){var M=s.interleaved;M===null?(m.next=m,Kh(s)):(m.next=M.next,M.next=m),s.interleaved=m;return}}catch{}finally{}l=gv(i,s,m,h),l!==null&&(m=tn(),ar(l,i,h,m),jv(l,s,h))}}function Uv(i){var s=i.alternate;return i===ct||s!==null&&s===ct}function Bv(i,s){ul=ic=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function jv(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,gi(i,l)}}var ac={readContext:Fn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},GS={readContext:Fn,useCallback:function(i,s){return Tr().memoizedState=[i,s===void 0?null:s],i},useContext:Fn,useEffect:xv,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,oc(4194308,4,Nv.bind(null,s,i),l)},useLayoutEffect:function(i,s){return oc(4194308,4,i,s)},useInsertionEffect:function(i,s){return oc(4,2,i,s)},useMemo:function(i,s){var l=Tr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=Tr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=WS.bind(null,ct,i),[h.memoizedState,i]},useRef:function(i){var s=Tr();return i={current:i},s.memoizedState=i},useState:Pv,useDebugValue:lf,useDeferredValue:function(i){return Tr().memoizedState=i},useTransition:function(){var i=Pv(!1),s=i[0];return i=zS.bind(null,i[1]),Tr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=ct,m=Tr();if(at){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),xt===null)throw Error(t(349));(ko&30)!==0||Tv(h,s,l)}m.memoizedState=l;var _={value:l,getSnapshot:s};return m.queue=_,xv(Cv.bind(null,h,_,i),[i]),h.flags|=2048,hl(9,Sv.bind(null,h,_,l,s),void 0,null),l},useId:function(){var i=Tr(),s=xt.identifierPrefix;if(at){var l=qr,h=Gr;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=cl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=$S++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},qS={readContext:Fn,useCallback:Lv,useContext:Fn,useEffect:af,useImperativeHandle:Ov,useInsertionEffect:Dv,useLayoutEffect:kv,useMemo:Mv,useReducer:of,useRef:bv,useState:function(){return of(dl)},useDebugValue:lf,useDeferredValue:function(i){var s=Un();return Vv(s,St.memoizedState,i)},useTransition:function(){var i=of(dl)[0],s=Un().memoizedState;return[i,s]},useMutableSource:wv,useSyncExternalStore:Iv,useId:Fv,unstable_isNewReconciler:!1},KS={readContext:Fn,useCallback:Lv,useContext:Fn,useEffect:af,useImperativeHandle:Ov,useInsertionEffect:Dv,useLayoutEffect:kv,useMemo:Mv,useReducer:sf,useRef:bv,useState:function(){return sf(dl)},useDebugValue:lf,useDeferredValue:function(i){var s=Un();return St===null?s.memoizedState=i:Vv(s,St.memoizedState,i)},useTransition:function(){var i=sf(dl)[0],s=Un().memoizedState;return[i,s]},useMutableSource:wv,useSyncExternalStore:Iv,useId:Fv,unstable_isNewReconciler:!1};function ir(i,s){if(i&&i.defaultProps){s=le({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function uf(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var lc={isMounted:function(i){return(i=i._reactInternals)?Qn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=tn(),m=Di(i),_=Qr(h,m);_.payload=s,l!=null&&(_.callback=l),s=Ri(i,_,m),s!==null&&(ar(s,i,m,h),ec(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=tn(),m=Di(i),_=Qr(h,m);_.tag=1,_.payload=s,l!=null&&(_.callback=l),s=Ri(i,_,m),s!==null&&(ar(s,i,m,h),ec(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),h=Di(i),m=Qr(l,h);m.tag=2,s!=null&&(m.callback=s),s=Ri(i,m,h),s!==null&&(ar(s,i,h,l),ec(s,i,h))}};function $v(i,s,l,h,m,_,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,T):s.prototype&&s.prototype.isPureReactComponent?!Xa(l,h)||!Xa(m,_):!0}function zv(i,s,l){var h=!1,m=Si,_=s.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(m=an(s)?Ro:zt.current,h=s.contextTypes,_=(h=h!=null)?Ds(i,m):Si),s=new s(l,_),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=_),s}function Wv(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&lc.enqueueReplaceState(s,s.state,null)}function cf(i,s,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Qh(i);var _=s.contextType;typeof _=="object"&&_!==null?m.context=Fn(_):(_=an(s)?Ro:zt.current,m.context=Ds(i,_)),m.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(uf(i,s,_,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&lc.enqueueReplaceState(m,m.state,null),tc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Us(i,s){try{var l="",h=s;do l+=Ae(h),h=h.return;while(h);var m=l}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:s,stack:m,digest:null}}function df(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function hf(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var QS=typeof WeakMap=="function"?WeakMap:Map;function Hv(i,s,l){l=Qr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){mc||(mc=!0,Rf=h),hf(i,s)},l}function Gv(i,s,l){l=Qr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=s.value;l.payload=function(){return h(m)},l.callback=function(){hf(i,s)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(l.callback=function(){hf(i,s),typeof h!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function qv(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new QS;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(l)||(m.add(l),i=uC.bind(null,i,s,l),s.then(i,i))}function Kv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Qv(i,s,l,h,m){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Qr(-1,1),s.tag=2,Ri(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var YS=q.ReactCurrentOwner,ln=!1;function en(i,s,l,h){s.child=i===null?mv(s,null,l,h):Ls(s,i.child,l,h)}function Yv(i,s,l,h,m){l=l.render;var _=s.ref;return Vs(s,m),h=nf(i,s,l,h,_,m),l=rf(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Yr(i,s,m)):(at&&l&&Uh(s),s.flags|=1,en(i,s,h,m),s.child)}function Jv(i,s,l,h,m){if(i===null){var _=l.type;return typeof _=="function"&&!Of(_)&&_.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=_,Xv(i,s,_,h,m)):(i=wc(l.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,(i.lanes&m)===0){var T=_.memoizedProps;if(l=l.compare,l=l!==null?l:Xa,l(T,h)&&i.ref===s.ref)return Yr(i,s,m)}return s.flags|=1,i=Ni(_,h),i.ref=s.ref,i.return=s,s.child=i}function Xv(i,s,l,h,m){if(i!==null){var _=i.memoizedProps;if(Xa(_,h)&&i.ref===s.ref)if(ln=!1,s.pendingProps=h=_,(i.lanes&m)!==0)(i.flags&131072)!==0&&(ln=!0);else return s.lanes=i.lanes,Yr(i,s,m)}return ff(i,s,l,h,m)}function Zv(i,s,l){var h=s.pendingProps,m=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(js,Sn),Sn|=l;else{if((l&1073741824)===0)return i=_!==null?_.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,et(js,Sn),Sn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=_!==null?_.baseLanes:l,et(js,Sn),Sn|=h}else _!==null?(h=_.baseLanes|l,s.memoizedState=null):h=l,et(js,Sn),Sn|=h;return en(i,s,m,l),s.child}function ey(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ff(i,s,l,h,m){var _=an(l)?Ro:zt.current;return _=Ds(s,_),Vs(s,m),l=nf(i,s,l,h,_,m),h=rf(),i!==null&&!ln?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Yr(i,s,m)):(at&&h&&Uh(s),s.flags|=1,en(i,s,l,m),s.child)}function ty(i,s,l,h,m){if(an(l)){var _=!0;Gu(s)}else _=!1;if(Vs(s,m),s.stateNode===null)cc(i,s),zv(s,l,h),cf(s,l,h,m),h=!0;else if(i===null){var T=s.stateNode,D=s.memoizedProps;T.props=D;var M=T.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Fn(Q):(Q=an(l)?Ro:zt.current,Q=Ds(s,Q));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==h||M!==Q)&&Wv(s,T,h,Q),Ai=!1;var te=s.memoizedState;T.state=te,tc(s,h,T,m),M=s.memoizedState,D!==h||te!==M||sn.current||Ai?(typeof ne=="function"&&(uf(s,l,ne,h),M=s.memoizedState),(D=Ai||$v(s,l,D,h,te,M,Q))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=M),T.props=h,T.state=M,T.context=Q,h=D):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,vv(i,s),D=s.memoizedProps,Q=s.type===s.elementType?D:ir(s.type,D),T.props=Q,re=s.pendingProps,te=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=Fn(M):(M=an(l)?Ro:zt.current,M=Ds(s,M));var ue=l.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==re||te!==M)&&Wv(s,T,h,M),Ai=!1,te=s.memoizedState,T.state=te,tc(s,h,T,m);var fe=s.memoizedState;D!==re||te!==fe||sn.current||Ai?(typeof ue=="function"&&(uf(s,l,ue,h),fe=s.memoizedState),(Q=Ai||$v(s,l,Q,h,te,fe,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,fe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,fe,M)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=fe),T.props=h,T.state=fe,T.context=M,h=Q):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),h=!1)}return pf(i,s,l,h,_,m)}function pf(i,s,l,h,m,_){ey(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return m&&sv(s,l,!1),Yr(i,s,_);h=s.stateNode,YS.current=s;var D=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=Ls(s,i.child,null,_),s.child=Ls(s,null,D,_)):en(i,s,D,_),s.memoizedState=h.state,m&&sv(s,l,!0),s.child}function ny(i){var s=i.stateNode;s.pendingContext?iv(i,s.pendingContext,s.pendingContext!==s.context):s.context&&iv(i,s.context,!1),Yh(i,s.containerInfo)}function ry(i,s,l,h,m){return Os(),zh(m),s.flags|=256,en(i,s,l,h),s.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function gf(i){return{baseLanes:i,cachePool:null,transitions:null}}function iy(i,s,l){var h=s.pendingProps,m=ut.current,_=!1,T=(s.flags&128)!==0,D;if((D=T)||(D=i!==null&&i.memoizedState===null?!1:(m&2)!==0),D?(_=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),et(ut,m&1),i===null)return $h(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,_?(h=s.mode,_=s.child,T={mode:"hidden",children:T},(h&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Ic(T,h,0,null),i=Vo(i,h,l,null),_.return=s,i.return=s,_.sibling=i,s.child=_,s.child.memoizedState=gf(l),s.memoizedState=mf,i):vf(s,T));if(m=i.memoizedState,m!==null&&(D=m.dehydrated,D!==null))return JS(i,s,T,h,D,m,l);if(_){_=h.fallback,T=s.mode,m=i.child,D=m.sibling;var M={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==m?(h=s.child,h.childLanes=0,h.pendingProps=M,s.deletions=null):(h=Ni(m,M),h.subtreeFlags=m.subtreeFlags&14680064),D!==null?_=Ni(D,_):(_=Vo(_,T,l,null),_.flags|=2),_.return=s,h.return=s,h.sibling=_,s.child=h,h=_,_=s.child,T=i.child.memoizedState,T=T===null?gf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=i.childLanes&~l,s.memoizedState=mf,h}return _=i.child,i=_.sibling,h=Ni(_,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function vf(i,s){return s=Ic({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function uc(i,s,l,h){return h!==null&&zh(h),Ls(s,i.child,null,l),i=vf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function JS(i,s,l,h,m,_,T){if(l)return s.flags&256?(s.flags&=-257,h=df(Error(t(422))),uc(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(_=h.fallback,m=s.mode,h=Ic({mode:"visible",children:h.children},m,0,null),_=Vo(_,m,T,null),_.flags|=2,h.return=s,_.return=s,h.sibling=_,s.child=h,(s.mode&1)!==0&&Ls(s,i.child,null,T),s.child.memoizedState=gf(T),s.memoizedState=mf,_);if((s.mode&1)===0)return uc(i,s,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var D=h.dgst;return h=D,_=Error(t(419)),h=df(_,h,void 0),uc(i,s,T,h)}if(D=(T&i.childLanes)!==0,ln||D){if(h=xt,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|T))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,Kr(i,m),ar(h,i,m,-1))}return Nf(),h=df(Error(t(421))),uc(i,s,T,h)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=cC.bind(null,i),m._reactRetry=s,null):(i=_.treeContext,Tn=Ii(m.nextSibling),In=s,at=!0,rr=null,i!==null&&(Mn[Vn++]=Gr,Mn[Vn++]=qr,Mn[Vn++]=Po,Gr=i.id,qr=i.overflow,Po=s),s=vf(s,h.children),s.flags|=4096,s)}function oy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),qh(i.return,s,l)}function yf(i,s,l,h,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=l,_.tailMode=m)}function sy(i,s,l){var h=s.pendingProps,m=h.revealOrder,_=h.tail;if(en(i,s,h.children,l),h=ut.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&oy(i,l,s);else if(i.tag===19)oy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(et(ut,h),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&nc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),yf(s,!1,m,l,_);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&nc(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}yf(s,!0,l,null,_);break;case"together":yf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Yr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),No|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ni(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ni(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function XS(i,s,l){switch(s.tag){case 3:ny(s),Os();break;case 5:Ev(s);break;case 1:an(s.type)&&Gu(s);break;case 4:Yh(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,m=s.memoizedProps.value;et(Xu,h._currentValue),h._currentValue=m;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(et(ut,ut.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?iy(i,s,l):(et(ut,ut.current&1),i=Yr(i,s,l),i!==null?i.sibling:null);et(ut,ut.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return sy(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ut,ut.current),h)break;return null;case 22:case 23:return s.lanes=0,Zv(i,s,l)}return Yr(i,s,l)}var ay,_f,ly,uy;ay=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},_f=function(){},ly=function(i,s,l,h){var m=i.memoizedProps;if(m!==h){i=s.stateNode,Do(Ir.current);var _=null;switch(l){case"input":m=xn(i,m),h=xn(i,h),_=[];break;case"select":m=le({},m,{value:void 0}),h=le({},h,{value:void 0}),_=[];break;case"textarea":m=Ra(i,m),h=Ra(i,h),_=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=zu)}Na(l,h);var T;l=null;for(Q in m)if(!h.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var D=m[Q];for(T in D)D.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?_||(_=[]):(_=_||[]).push(Q,null));for(Q in h){var M=h[Q];if(D=m!=null?m[Q]:void 0,h.hasOwnProperty(Q)&&M!==D&&(M!=null||D!=null))if(Q==="style")if(D){for(T in D)!D.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&D[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(_||(_=[]),_.push(Q,l)),l=M;else Q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,D=D?D.__html:void 0,M!=null&&D!==M&&(_=_||[]).push(Q,M)):Q==="children"?typeof M!="string"&&typeof M!="number"||(_=_||[]).push(Q,""+M):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(M!=null&&Q==="onScroll"&&rt("scroll",i),_||D===M||(_=[])):(_=_||[]).push(Q,M))}l&&(_=_||[]).push("style",l);var Q=_;(s.updateQueue=Q)&&(s.flags|=4)}},uy=function(i,s,l,h){l!==h&&(s.flags|=4)};function fl(i,s){if(!at)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ht(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function ZS(i,s,l){var h=s.pendingProps;switch(Bh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return an(s.type)&&Hu(),Ht(s),null;case 3:return h=s.stateNode,Fs(),it(sn),it(zt),Zh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Yu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rr!==null&&(xf(rr),rr=null))),_f(i,s),Ht(s),null;case 5:Jh(s);var m=Do(ll.current);if(l=s.type,i!==null&&s.stateNode!=null)ly(i,s,l,h,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(i=Do(Ir.current),Yu(s)){h=s.stateNode,l=s.type;var _=s.memoizedProps;switch(h[wr]=s,h[rl]=_,i=(s.mode&1)!==0,l){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(m=0;m<el.length;m++)rt(el[m],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":Nr(h,_),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!_.multiple},rt("invalid",h);break;case"textarea":ts(h,_),rt("invalid",h)}Na(l,_),m=null;for(var T in _)if(_.hasOwnProperty(T)){var D=_[T];T==="children"?typeof D=="string"?h.textContent!==D&&(_.suppressHydrationWarning!==!0&&$u(h.textContent,D,i),m=["children",D]):typeof D=="number"&&h.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&$u(h.textContent,D,i),m=["children",""+D]):o.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&rt("scroll",h)}switch(l){case"input":gn(h),es(h,_,!0);break;case"textarea":gn(h),Pa(h);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(h.onclick=zu)}h=m,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=wt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[wr]=s,i[rl]=h,ay(i,s,!1,!1),s.stateNode=i;e:{switch(T=Oa(l,h),l){case"dialog":rt("cancel",i),rt("close",i),m=h;break;case"iframe":case"object":case"embed":rt("load",i),m=h;break;case"video":case"audio":for(m=0;m<el.length;m++)rt(el[m],i);m=h;break;case"source":rt("error",i),m=h;break;case"img":case"image":case"link":rt("error",i),rt("load",i),m=h;break;case"details":rt("toggle",i),m=h;break;case"input":Nr(i,h),m=xn(i,h),rt("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=le({},h,{value:void 0}),rt("invalid",i);break;case"textarea":ts(i,h),m=Ra(i,h),rt("invalid",i);break;default:m=h}Na(l,m),D=m;for(_ in D)if(D.hasOwnProperty(_)){var M=D[_];_==="style"?Da(i,M):_==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ba(i,M)):_==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&di(i,M):typeof M=="number"&&di(i,""+M):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(o.hasOwnProperty(_)?M!=null&&_==="onScroll"&&rt("scroll",i):M!=null&&V(i,_,M,T))}switch(l){case"input":gn(i),es(i,h,!1);break;case"textarea":gn(i),Pa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Le(h.value));break;case"select":i.multiple=!!h.multiple,_=h.value,_!=null?Mr(i,!!h.multiple,_,!1):h.defaultValue!=null&&Mr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=zu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(i&&s.stateNode!=null)uy(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=Do(ll.current),Do(Ir.current),Yu(s)){if(h=s.stateNode,l=s.memoizedProps,h[wr]=s,(_=h.nodeValue!==l)&&(i=In,i!==null))switch(i.tag){case 3:$u(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&$u(h.nodeValue,l,(i.mode&1)!==0)}_&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[wr]=s,s.stateNode=h}return Ht(s),null;case 13:if(it(ut),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(at&&Tn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)hv(),Os(),s.flags|=98560,_=!1;else if(_=Yu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!_)throw Error(t(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[wr]=s}else Os(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),_=!1}else rr!==null&&(xf(rr),rr=null),_=!0;if(!_)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(ut.current&1)!==0?Ct===0&&(Ct=3):Nf())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return Fs(),_f(i,s),i===null&&tl(s.stateNode.containerInfo),Ht(s),null;case 10:return Gh(s.type._context),Ht(s),null;case 17:return an(s.type)&&Hu(),Ht(s),null;case 19:if(it(ut),_=s.memoizedState,_===null)return Ht(s),null;if(h=(s.flags&128)!==0,T=_.rendering,T===null)if(h)fl(_,!1);else{if(Ct!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=nc(i),T!==null){for(s.flags|=128,fl(_,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)_=l,i=h,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,i=T.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return et(ut,ut.current&1|2),s.child}i=i.sibling}_.tail!==null&&Ze()>$s&&(s.flags|=128,h=!0,fl(_,!1),s.lanes=4194304)}else{if(!h)if(i=nc(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),fl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!at)return Ht(s),null}else 2*Ze()-_.renderingStartTime>$s&&l!==1073741824&&(s.flags|=128,h=!0,fl(_,!1),s.lanes=4194304);_.isBackwards?(T.sibling=s.child,s.child=T):(l=_.last,l!==null?l.sibling=T:s.child=T,_.last=T)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=Ze(),s.sibling=null,l=ut.current,et(ut,h?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return kf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Sn&1073741824)!==0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function eC(i,s){switch(Bh(s),s.tag){case 1:return an(s.type)&&Hu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Fs(),it(sn),it(zt),Zh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Jh(s),null;case 13:if(it(ut),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Os()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return it(ut),null;case 4:return Fs(),null;case 10:return Gh(s.type._context),null;case 22:case 23:return kf(),null;case 24:return null;default:return null}}var dc=!1,Gt=!1,tC=typeof WeakSet=="function"?WeakSet:Set,he=null;function Bs(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ht(i,s,h)}else l.current=null}function Ef(i,s,l){try{l()}catch(h){ht(i,s,h)}}var cy=!1;function nC(i,s){if(Dh=_i,i=$g(),Th(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var T=0,D=-1,M=-1,Q=0,ne=0,re=i,te=null;t:for(;;){for(var ue;re!==l||m!==0&&re.nodeType!==3||(D=T+m),re!==_||h!==0&&re.nodeType!==3||(M=T+h),re.nodeType===3&&(T+=re.nodeValue.length),(ue=re.firstChild)!==null;)te=re,re=ue;for(;;){if(re===i)break t;if(te===l&&++Q===m&&(D=T),te===_&&++ne===h&&(M=T),(ue=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ue}l=D===-1||M===-1?null:{start:D,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(kh={focusedElem:i,selectionRange:l},_i=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var fe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var me=fe.memoizedProps,pt=fe.memoizedState,H=s.stateNode,j=H.getSnapshotBeforeUpdate(s.elementType===s.type?me:ir(s.type,me),pt);H.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ht(s,s.return,ie)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return fe=cy,cy=!1,fe}function pl(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var _=m.destroy;m.destroy=void 0,_!==void 0&&Ef(s,l,_)}m=m.next}while(m!==h)}}function hc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function wf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function dy(i){var s=i.alternate;s!==null&&(i.alternate=null,dy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[wr],delete s[rl],delete s[Mh],delete s[FS],delete s[US])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function hy(i){return i.tag===5||i.tag===3||i.tag===4}function fy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function If(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=zu));else if(h!==4&&(i=i.child,i!==null))for(If(i,s,l),i=i.sibling;i!==null;)If(i,s,l),i=i.sibling}function Tf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Tf(i,s,l),i=i.sibling;i!==null;)Tf(i,s,l),i=i.sibling}var Vt=null,or=!1;function Pi(i,s,l){for(l=l.child;l!==null;)py(i,s,l),l=l.sibling}function py(i,s,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(_o,l)}catch{}switch(l.tag){case 5:Gt||Bs(l,s);case 6:var h=Vt,m=or;Vt=null,Pi(i,s,l),Vt=h,or=m,Vt!==null&&(or?(i=Vt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&(or?(i=Vt,l=l.stateNode,i.nodeType===8?Lh(i.parentNode,l):i.nodeType===1&&Lh(i,l),er(i)):Lh(Vt,l.stateNode));break;case 4:h=Vt,m=or,Vt=l.stateNode.containerInfo,or=!0,Pi(i,s,l),Vt=h,or=m;break;case 0:case 11:case 14:case 15:if(!Gt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var _=m,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Ef(l,s,T),m=m.next}while(m!==h)}Pi(i,s,l);break;case 1:if(!Gt&&(Bs(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(D){ht(l,s,D)}Pi(i,s,l);break;case 21:Pi(i,s,l);break;case 22:l.mode&1?(Gt=(h=Gt)||l.memoizedState!==null,Pi(i,s,l),Gt=h):Pi(i,s,l);break;default:Pi(i,s,l)}}function my(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new tC),s.forEach(function(h){var m=dC.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function sr(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var _=i,T=s,D=T;e:for(;D!==null;){switch(D.tag){case 5:Vt=D.stateNode,or=!1;break e;case 3:Vt=D.stateNode.containerInfo,or=!0;break e;case 4:Vt=D.stateNode.containerInfo,or=!0;break e}D=D.return}if(Vt===null)throw Error(t(160));py(_,T,m),Vt=null,or=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(Q){ht(m,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gy(s,i),s=s.sibling}function gy(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(sr(s,i),Sr(i),h&4){try{pl(3,i,i.return),hc(3,i)}catch(me){ht(i,i.return,me)}try{pl(5,i,i.return)}catch(me){ht(i,i.return,me)}}break;case 1:sr(s,i),Sr(i),h&512&&l!==null&&Bs(l,l.return);break;case 5:if(sr(s,i),Sr(i),h&512&&l!==null&&Bs(l,l.return),i.flags&32){var m=i.stateNode;try{di(m,"")}catch(me){ht(i,i.return,me)}}if(h&4&&(m=i.stateNode,m!=null)){var _=i.memoizedProps,T=l!==null?l.memoizedProps:_,D=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&Or(m,_),Oa(D,T);var Q=Oa(D,_);for(T=0;T<M.length;T+=2){var ne=M[T],re=M[T+1];ne==="style"?Da(m,re):ne==="dangerouslySetInnerHTML"?ba(m,re):ne==="children"?di(m,re):V(m,ne,re,Q)}switch(D){case"input":Lr(m,_);break;case"textarea":ns(m,_);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?Mr(m,!!_.multiple,ue,!1):te!==!!_.multiple&&(_.defaultValue!=null?Mr(m,!!_.multiple,_.defaultValue,!0):Mr(m,!!_.multiple,_.multiple?[]:"",!1))}m[rl]=_}catch(me){ht(i,i.return,me)}}break;case 6:if(sr(s,i),Sr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,_=i.memoizedProps;try{m.nodeValue=_}catch(me){ht(i,i.return,me)}}break;case 3:if(sr(s,i),Sr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{er(s.containerInfo)}catch(me){ht(i,i.return,me)}break;case 4:sr(s,i),Sr(i);break;case 13:sr(s,i),Sr(i),m=i.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(Af=Ze())),h&4&&my(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(Gt=(Q=Gt)||ne,sr(s,i),Gt=Q):sr(s,i),Sr(i),h&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(re=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:pl(4,te,te.return);break;case 1:Bs(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){h=te,l=te.return;try{s=h,fe.props=s.memoizedProps,fe.state=s.memoizedState,fe.componentWillUnmount()}catch(me){ht(h,l,me)}}break;case 5:Bs(te,te.return);break;case 22:if(te.memoizedState!==null){_y(re);continue}}ue!==null?(ue.return=te,he=ue):_y(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,Q?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=re.stateNode,M=re.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,D.style.display=xa("display",T))}catch(me){ht(i,i.return,me)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=Q?"":re.memoizedProps}catch(me){ht(i,i.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:sr(s,i),Sr(i),h&4&&my(i);break;case 21:break;default:sr(s,i),Sr(i)}}function Sr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(hy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(di(m,""),h.flags&=-33);var _=fy(i);Tf(i,_,m);break;case 3:case 4:var T=h.stateNode.containerInfo,D=fy(i);If(i,D,T);break;default:throw Error(t(161))}}catch(M){ht(i,i.return,M)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function rC(i,s,l){he=i,vy(i)}function vy(i,s,l){for(var h=(i.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||dc;if(!T){var D=m.alternate,M=D!==null&&D.memoizedState!==null||Gt;D=dc;var Q=Gt;if(dc=T,(Gt=M)&&!Q)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?Ey(m):M!==null?(M.return=T,he=M):Ey(m);for(;_!==null;)he=_,vy(_),_=_.sibling;he=m,dc=D,Gt=Q}yy(i)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,he=_):yy(i)}}function yy(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Gt||hc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Gt)if(l===null)h.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:ir(s.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var _=s.updateQueue;_!==null&&_v(s,_,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}_v(s,T,l)}break;case 5:var D=s.stateNode;if(l===null&&s.flags&4){l=D;var M=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var ne=Q.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&er(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||s.flags&512&&wf(s)}catch(te){ht(s,s.return,te)}}if(s===i){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function _y(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function Ey(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{hc(4,s)}catch(M){ht(s,l,M)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var m=s.return;try{h.componentDidMount()}catch(M){ht(s,m,M)}}var _=s.return;try{wf(s)}catch(M){ht(s,_,M)}break;case 5:var T=s.return;try{wf(s)}catch(M){ht(s,T,M)}}}catch(M){ht(s,s.return,M)}if(s===i){he=null;break}var D=s.sibling;if(D!==null){D.return=s.return,he=D;break}he=s.return}}var iC=Math.ceil,fc=q.ReactCurrentDispatcher,Sf=q.ReactCurrentOwner,Bn=q.ReactCurrentBatchConfig,$e=0,xt=null,vt=null,Ft=0,Sn=0,js=Ti(0),Ct=0,ml=null,No=0,pc=0,Cf=0,gl=null,un=null,Af=0,$s=1/0,Jr=null,mc=!1,Rf=null,bi=null,gc=!1,xi=null,vc=0,vl=0,Pf=null,yc=-1,_c=0;function tn(){return($e&6)!==0?Ze():yc!==-1?yc:yc=Ze()}function Di(i){return(i.mode&1)===0?1:($e&2)!==0&&Ft!==0?Ft&-Ft:jS.transition!==null?(_c===0&&(_c=wo()),_c):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:Ha(i.type)),i)}function ar(i,s,l,h){if(50<vl)throw vl=0,Pf=null,Error(t(185));mi(i,l,h),(($e&2)===0||i!==xt)&&(i===xt&&(($e&2)===0&&(pc|=l),Ct===4&&ki(i,Ft)),cn(i,h),l===1&&$e===0&&(s.mode&1)===0&&($s=Ze()+500,qu&&Ci()))}function cn(i,s){var l=i.callbackNode;Ur(i,s);var h=Eo(i,i===xt?Ft:0);if(h===0)l!==null&&Ba(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Ba(l),s===1)i.tag===0?BS(Iy.bind(null,i)):av(Iy.bind(null,i)),MS(function(){($e&6)===0&&Ci()}),l=null;else{switch(vi(h)){case 1:l=yo;break;case 4:l=hi;break;case 16:l=Nn;break;case 536870912:l=_u;break;default:l=Nn}l=xy(l,wy.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function wy(i,s){if(yc=-1,_c=0,($e&6)!==0)throw Error(t(327));var l=i.callbackNode;if(zs()&&i.callbackNode!==l)return null;var h=Eo(i,i===xt?Ft:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=Ec(i,h);else{s=h;var m=$e;$e|=2;var _=Sy();(xt!==i||Ft!==s)&&(Jr=null,$s=Ze()+500,Lo(i,s));do try{aC();break}catch(D){Ty(i,D)}while(!0);Hh(),fc.current=_,$e=m,vt!==null?s=0:(xt=null,Ft=0,s=Ct)}if(s!==0){if(s===2&&(m=_n(i),m!==0&&(h=m,s=bf(i,m))),s===1)throw l=ml,Lo(i,0),ki(i,h),cn(i,Ze()),l;if(s===6)ki(i,h);else{if(m=i.current.alternate,(h&30)===0&&!oC(m)&&(s=Ec(i,h),s===2&&(_=_n(i),_!==0&&(h=_,s=bf(i,_))),s===1))throw l=ml,Lo(i,0),ki(i,h),cn(i,Ze()),l;switch(i.finishedWork=m,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Mo(i,un,Jr);break;case 3:if(ki(i,h),(h&130023424)===h&&(s=Af+500-Ze(),10<s)){if(Eo(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){tn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Oh(Mo.bind(null,i,un,Jr),s);break}Mo(i,un,Jr);break;case 4:if(ki(i,h),(h&4194240)===h)break;for(s=i.eventTimes,m=-1;0<h;){var T=31-Xt(h);_=1<<T,T=s[T],T>m&&(m=T),h&=~_}if(h=m,h=Ze()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*iC(h/1960))-h,10<h){i.timeoutHandle=Oh(Mo.bind(null,i,un,Jr),h);break}Mo(i,un,Jr);break;case 5:Mo(i,un,Jr);break;default:throw Error(t(329))}}}return cn(i,Ze()),i.callbackNode===l?wy.bind(null,i):null}function bf(i,s){var l=gl;return i.current.memoizedState.isDehydrated&&(Lo(i,s).flags|=256),i=Ec(i,s),i!==2&&(s=un,un=l,s!==null&&xf(s)),i}function xf(i){un===null?un=i:un.push.apply(un,i)}function oC(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],_=m.getSnapshot;m=m.value;try{if(!nr(_(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ki(i,s){for(s&=~Cf,s&=~pc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Xt(s),h=1<<l;i[l]=-1,s&=~h}}function Iy(i){if(($e&6)!==0)throw Error(t(327));zs();var s=Eo(i,0);if((s&1)===0)return cn(i,Ze()),null;var l=Ec(i,s);if(i.tag!==0&&l===2){var h=_n(i);h!==0&&(s=h,l=bf(i,h))}if(l===1)throw l=ml,Lo(i,0),ki(i,s),cn(i,Ze()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Mo(i,un,Jr),cn(i,Ze()),null}function Df(i,s){var l=$e;$e|=1;try{return i(s)}finally{$e=l,$e===0&&($s=Ze()+500,qu&&Ci())}}function Oo(i){xi!==null&&xi.tag===0&&($e&6)===0&&zs();var s=$e;$e|=1;var l=Bn.transition,h=Ue;try{if(Bn.transition=null,Ue=1,i)return i()}finally{Ue=h,Bn.transition=l,$e=s,($e&6)===0&&Ci()}}function kf(){Sn=js.current,it(js)}function Lo(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,LS(l)),vt!==null)for(l=vt.return;l!==null;){var h=l;switch(Bh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Hu();break;case 3:Fs(),it(sn),it(zt),Zh();break;case 5:Jh(h);break;case 4:Fs();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Gh(h.type._context);break;case 22:case 23:kf()}l=l.return}if(xt=i,vt=i=Ni(i.current,null),Ft=Sn=s,Ct=0,ml=null,Cf=pc=No=0,un=gl=null,xo!==null){for(s=0;s<xo.length;s++)if(l=xo[s],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,_=l.pending;if(_!==null){var T=_.next;_.next=m,h.next=T}l.pending=h}xo=null}return i}function Ty(i,s){do{var l=vt;try{if(Hh(),rc.current=ac,ic){for(var h=ct.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}ic=!1}if(ko=0,bt=St=ct=null,ul=!1,cl=0,Sf.current=null,l===null||l.return===null){Ct=1,ml=s,vt=null;break}e:{var _=i,T=l.return,D=l,M=s;if(s=Ft,D.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=M,ne=D,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Kv(T);if(ue!==null){ue.flags&=-257,Qv(ue,T,D,_,s),ue.mode&1&&qv(_,Q,s),s=ue,M=Q;var fe=s.updateQueue;if(fe===null){var me=new Set;me.add(M),s.updateQueue=me}else fe.add(M);break e}else{if((s&1)===0){qv(_,Q,s),Nf();break e}M=Error(t(426))}}else if(at&&D.mode&1){var pt=Kv(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Qv(pt,T,D,_,s),zh(Us(M,D));break e}}_=M=Us(M,D),Ct!==4&&(Ct=2),gl===null?gl=[_]:gl.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,s&=-s,_.lanes|=s;var H=Hv(_,M,s);yv(_,H);break e;case 1:D=M;var j=_.type,K=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(bi===null||!bi.has(K)))){_.flags|=65536,s&=-s,_.lanes|=s;var ie=Gv(_,D,s);yv(_,ie);break e}}_=_.return}while(_!==null)}Ay(l)}catch(ve){s=ve,vt===l&&l!==null&&(vt=l=l.return);continue}break}while(!0)}function Sy(){var i=fc.current;return fc.current=ac,i===null?ac:i}function Nf(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),xt===null||(No&268435455)===0&&(pc&268435455)===0||ki(xt,Ft)}function Ec(i,s){var l=$e;$e|=2;var h=Sy();(xt!==i||Ft!==s)&&(Jr=null,Lo(i,s));do try{sC();break}catch(m){Ty(i,m)}while(!0);if(Hh(),$e=l,fc.current=h,vt!==null)throw Error(t(261));return xt=null,Ft=0,Ct}function sC(){for(;vt!==null;)Cy(vt)}function aC(){for(;vt!==null&&!vu();)Cy(vt)}function Cy(i){var s=by(i.alternate,i,Sn);i.memoizedProps=i.pendingProps,s===null?Ay(i):vt=s,Sf.current=null}function Ay(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=ZS(l,s,Sn),l!==null){vt=l;return}}else{if(l=eC(l,s),l!==null){l.flags&=32767,vt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ct=6,vt=null;return}}if(s=s.sibling,s!==null){vt=s;return}vt=s=i}while(s!==null);Ct===0&&(Ct=5)}function Mo(i,s,l){var h=Ue,m=Bn.transition;try{Bn.transition=null,Ue=1,lC(i,s,l,h)}finally{Bn.transition=m,Ue=h}return null}function lC(i,s,l,h){do zs();while(xi!==null);if(($e&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var _=l.lanes|l.childLanes;if(Xe(i,_),i===xt&&(vt=xt=null,Ft=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gc||(gc=!0,xy(Nn,function(){return zs(),null})),_=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||_){_=Bn.transition,Bn.transition=null;var T=Ue;Ue=1;var D=$e;$e|=4,Sf.current=null,nC(i,l),gy(l,i),PS(kh),_i=!!Dh,kh=Dh=null,i.current=l,rC(l),mh(),$e=D,Ue=T,Bn.transition=_}else i.current=l;if(gc&&(gc=!1,xi=i,vc=m),_=i.pendingLanes,_===0&&(bi=null),Eu(l.stateNode),cn(i,Ze()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(mc)throw mc=!1,i=Rf,Rf=null,i;return(vc&1)!==0&&i.tag!==0&&zs(),_=i.pendingLanes,(_&1)!==0?i===Pf?vl++:(vl=0,Pf=i):vl=0,Ci(),null}function zs(){if(xi!==null){var i=vi(vc),s=Bn.transition,l=Ue;try{if(Bn.transition=null,Ue=16>i?16:i,xi===null)var h=!1;else{if(i=xi,xi=null,vc=0,($e&6)!==0)throw Error(t(331));var m=$e;for($e|=4,he=i.current;he!==null;){var _=he,T=_.child;if((he.flags&16)!==0){var D=_.deletions;if(D!==null){for(var M=0;M<D.length;M++){var Q=D[M];for(he=Q;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:pl(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(dy(ne),ne===Q){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var fe=_.alternate;if(fe!==null){var me=fe.child;if(me!==null){fe.child=null;do{var pt=me.sibling;me.sibling=null,me=pt}while(me!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,he=T;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:pl(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,he=H;break e}he=_.return}}var j=i.current;for(he=j;he!==null;){T=he;var K=T.child;if((T.subtreeFlags&2064)!==0&&K!==null)K.return=T,he=K;else e:for(T=j;he!==null;){if(D=he,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:hc(9,D)}}catch(ve){ht(D,D.return,ve)}if(D===T){he=null;break e}var ie=D.sibling;if(ie!==null){ie.return=D.return,he=ie;break e}he=D.return}}if($e=m,Ci(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(_o,i)}catch{}h=!0}return h}finally{Ue=l,Bn.transition=s}}return!1}function Ry(i,s,l){s=Us(l,s),s=Hv(i,s,1),i=Ri(i,s,1),s=tn(),i!==null&&(mi(i,1,s),cn(i,s))}function ht(i,s,l){if(i.tag===3)Ry(i,i,l);else for(;s!==null;){if(s.tag===3){Ry(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(bi===null||!bi.has(h))){i=Us(l,i),i=Gv(s,i,1),s=Ri(s,i,1),i=tn(),s!==null&&(mi(s,1,i),cn(s,i));break}}s=s.return}}function uC(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=tn(),i.pingedLanes|=i.suspendedLanes&l,xt===i&&(Ft&l)===l&&(Ct===4||Ct===3&&(Ft&130023424)===Ft&&500>Ze()-Af?Lo(i,0):Cf|=l),cn(i,s)}function Py(i,s){s===0&&((i.mode&1)===0?s=1:(s=hs,hs<<=1,(hs&130023424)===0&&(hs=4194304)));var l=tn();i=Kr(i,s),i!==null&&(mi(i,s,l),cn(i,l))}function cC(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Py(i,l)}function dC(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),Py(i,l)}var by;by=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||sn.current)ln=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return ln=!1,XS(i,s,l);ln=(i.flags&131072)!==0}else ln=!1,at&&(s.flags&1048576)!==0&&lv(s,Qu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;cc(i,s),i=s.pendingProps;var m=Ds(s,zt.current);Vs(s,l),m=nf(null,s,h,i,m,l);var _=rf();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,an(h)?(_=!0,Gu(s)):_=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qh(s),m.updater=lc,s.stateNode=m,m._reactInternals=s,cf(s,h,i,l),s=pf(null,s,h,!0,_,l)):(s.tag=0,at&&_&&Uh(s),en(null,s,m,l),s=s.child),s;case 16:h=s.elementType;e:{switch(cc(i,s),i=s.pendingProps,m=h._init,h=m(h._payload),s.type=h,m=s.tag=fC(h),i=ir(h,i),m){case 0:s=ff(null,s,h,i,l);break e;case 1:s=ty(null,s,h,i,l);break e;case 11:s=Yv(null,s,h,i,l);break e;case 14:s=Jv(null,s,h,ir(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:ir(h,m),ff(i,s,h,m,l);case 1:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:ir(h,m),ty(i,s,h,m,l);case 3:e:{if(ny(s),i===null)throw Error(t(387));h=s.pendingProps,_=s.memoizedState,m=_.element,vv(i,s),tc(s,h,null,l);var T=s.memoizedState;if(h=T.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){m=Us(Error(t(423)),s),s=ry(i,s,h,l,m);break e}else if(h!==m){m=Us(Error(t(424)),s),s=ry(i,s,h,l,m);break e}else for(Tn=Ii(s.stateNode.containerInfo.firstChild),In=s,at=!0,rr=null,l=mv(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Os(),h===m){s=Yr(i,s,l);break e}en(i,s,h,l)}s=s.child}return s;case 5:return Ev(s),i===null&&$h(s),h=s.type,m=s.pendingProps,_=i!==null?i.memoizedProps:null,T=m.children,Nh(h,m)?T=null:_!==null&&Nh(h,_)&&(s.flags|=32),ey(i,s),en(i,s,T,l),s.child;case 6:return i===null&&$h(s),null;case 13:return iy(i,s,l);case 4:return Yh(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Ls(s,null,h,l):en(i,s,h,l),s.child;case 11:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:ir(h,m),Yv(i,s,h,m,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,m=s.pendingProps,_=s.memoizedProps,T=m.value,et(Xu,h._currentValue),h._currentValue=T,_!==null)if(nr(_.value,T)){if(_.children===m.children&&!sn.current){s=Yr(i,s,l);break e}}else for(_=s.child,_!==null&&(_.return=s);_!==null;){var D=_.dependencies;if(D!==null){T=_.child;for(var M=D.firstContext;M!==null;){if(M.context===h){if(_.tag===1){M=Qr(-1,l&-l),M.tag=2;var Q=_.updateQueue;if(Q!==null){Q=Q.shared;var ne=Q.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),Q.pending=M}}_.lanes|=l,M=_.alternate,M!==null&&(M.lanes|=l),qh(_.return,l,s),D.lanes|=l;break}M=M.next}}else if(_.tag===10)T=_.type===s.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=l,D=T.alternate,D!==null&&(D.lanes|=l),qh(T,l,s),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===s){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}en(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,h=s.pendingProps.children,Vs(s,l),m=Fn(m),h=h(m),s.flags|=1,en(i,s,h,l),s.child;case 14:return h=s.type,m=ir(h,s.pendingProps),m=ir(h.type,m),Jv(i,s,h,m,l);case 15:return Xv(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,m=s.pendingProps,m=s.elementType===h?m:ir(h,m),cc(i,s),s.tag=1,an(h)?(i=!0,Gu(s)):i=!1,Vs(s,l),zv(s,h,m),cf(s,h,m,l),pf(null,s,h,!0,i,l);case 19:return sy(i,s,l);case 22:return Zv(i,s,l)}throw Error(t(156,s.tag))};function xy(i,s){return cs(i,s)}function hC(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,s,l,h){return new hC(i,s,l,h)}function Of(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fC(i){if(typeof i=="function")return Of(i)?1:0;if(i!=null){if(i=i.$$typeof,i===$)return 11;if(i===Ke)return 14}return 2}function Ni(i,s){var l=i.alternate;return l===null?(l=jn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function wc(i,s,l,h,m,_){var T=2;if(h=i,typeof i=="function")Of(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case N:return Vo(l.children,m,_,s);case P:T=8,m|=8;break;case b:return i=jn(12,l,s,m|2),i.elementType=b,i.lanes=_,i;case A:return i=jn(13,l,s,m),i.elementType=A,i.lanes=_,i;case Ce:return i=jn(19,l,s,m),i.elementType=Ce,i.lanes=_,i;case Fe:return Ic(l,m,_,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:T=10;break e;case L:T=9;break e;case $:T=11;break e;case Ke:T=14;break e;case Qe:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=jn(T,l,s,m),s.elementType=i,s.type=h,s.lanes=_,s}function Vo(i,s,l,h){return i=jn(7,i,h,s),i.lanes=l,i}function Ic(i,s,l,h){return i=jn(22,i,h,s),i.elementType=Fe,i.lanes=l,i.stateNode={isHidden:!1},i}function Lf(i,s,l){return i=jn(6,i,null,s),i.lanes=l,i}function Mf(i,s,l){return s=jn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function pC(i,s,l,h,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Vf(i,s,l,h,m,_,T,D,M){return i=new pC(i,s,l,D,M),s===1?(s=1,_===!0&&(s|=8)):s=0,_=jn(3,null,null,s),i.current=_,_.stateNode=i,_.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(_),i}function mC(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Dy(i){if(!i)return Si;i=i._reactInternals;e:{if(Qn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(an(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(an(l))return ov(i,l,s)}return s}function ky(i,s,l,h,m,_,T,D,M){return i=Vf(l,h,!0,i,m,_,T,D,M),i.context=Dy(null),l=i.current,h=tn(),m=Di(l),_=Qr(h,m),_.callback=s??null,Ri(l,_,m),i.current.lanes=m,mi(i,m,h),cn(i,h),i}function Tc(i,s,l,h){var m=s.current,_=tn(),T=Di(m);return l=Dy(l),s.context===null?s.context=l:s.pendingContext=l,s=Qr(_,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Ri(m,s,T),i!==null&&(ar(i,m,T,_),ec(i,m,T)),T}function Sc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ny(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Ff(i,s){Ny(i,s),(i=i.alternate)&&Ny(i,s)}function gC(){return null}var Oy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Uf(i){this._internalRoot=i}Cc.prototype.render=Uf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Tc(i,s,null,null)},Cc.prototype.unmount=Uf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Oo(function(){Tc(null,i,null,null)}),s[Wr]=null}};function Cc(i){this._internalRoot=i}Cc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Cu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<vr.length&&s!==0&&s<vr[l].priority;l++);vr.splice(l,0,i),l===0&&Pu(i)}};function Bf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ac(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Ly(){}function vC(i,s,l,h,m){if(m){if(typeof h=="function"){var _=h;h=function(){var Q=Sc(T);_.call(Q)}}var T=ky(s,h,i,0,null,!1,!1,"",Ly);return i._reactRootContainer=T,i[Wr]=T.current,tl(i.nodeType===8?i.parentNode:i),Oo(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var D=h;h=function(){var Q=Sc(M);D.call(Q)}}var M=Vf(i,0,!1,null,null,!1,!1,"",Ly);return i._reactRootContainer=M,i[Wr]=M.current,tl(i.nodeType===8?i.parentNode:i),Oo(function(){Tc(s,M,l,h)}),M}function Rc(i,s,l,h,m){var _=l._reactRootContainer;if(_){var T=_;if(typeof m=="function"){var D=m;m=function(){var M=Sc(T);D.call(M)}}Tc(s,T,i,m)}else T=vC(l,s,i,m,h);return Sc(T)}Tu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=fi(s.pendingLanes);l!==0&&(gi(s,l|1),cn(s,Ze()),($e&6)===0&&($s=Ze()+500,Ci()))}break;case 13:Oo(function(){var h=Kr(i,1);if(h!==null){var m=tn();ar(h,i,1,m)}}),Ff(i,1)}},fs=function(i){if(i.tag===13){var s=Kr(i,134217728);if(s!==null){var l=tn();ar(s,i,134217728,l)}Ff(i,134217728)}},Su=function(i){if(i.tag===13){var s=Di(i),l=Kr(i,s);if(l!==null){var h=tn();ar(l,i,s,h)}Ff(i,s)}},Cu=function(){return Ue},Au=function(i,s){var l=Ue;try{return Ue=i,s()}finally{Ue=l}},is=function(i,s,l){switch(s){case"input":if(Lr(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var m=Wu(h);if(!m)throw Error(t(90));kr(h),Lr(h,m)}}}break;case"textarea":ns(i,l);break;case"select":s=l.value,s!=null&&Mr(i,!!l.multiple,s,!1)}},po=Df,Ma=Oo;var yC={usingClientEntryPoint:!1,Events:[il,bs,Wu,mr,La,Df]},yl={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_C={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ua(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{_o=Pc.inject(_C),yn=Pc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC,dn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(s))throw Error(t(200));return mC(i,s,null,l)},dn.createRoot=function(i,s){if(!Bf(i))throw Error(t(299));var l=!1,h="",m=Oy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Vf(i,1,!1,null,null,l,!1,h,m),i[Wr]=s.current,tl(i.nodeType===8?i.parentNode:i),new Uf(s)},dn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ua(s),i=i===null?null:i.stateNode,i},dn.flushSync=function(i){return Oo(i)},dn.hydrate=function(i,s,l){if(!Ac(s))throw Error(t(200));return Rc(null,i,s,!0,l)},dn.hydrateRoot=function(i,s,l){if(!Bf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,_="",T=Oy;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(_=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=ky(s,null,i,1,l??null,m,!1,_,T),i[Wr]=s.current,tl(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Cc(s)},dn.render=function(i,s,l){if(!Ac(s))throw Error(t(200));return Rc(null,i,s,!1,l)},dn.unmountComponentAtNode=function(i){if(!Ac(i))throw Error(t(40));return i._reactRootContainer?(Oo(function(){Rc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},dn.unstable_batchedUpdates=Df,dn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Ac(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Rc(i,s,l,!1,h)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var zy;function Ew(){if(zy)return zf.exports;zy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zf.exports=AC(),zf.exports}var Wy;function RC(){if(Wy)return bc;Wy=1;var n=Ew();return bc.createRoot=n.createRoot,bc.hydrateRoot=n.hydrateRoot,bc}var PC=RC();const bC=xd(PC);var El={},Hy;function xC(){if(Hy)return El;Hy=1,Object.defineProperty(El,"__esModule",{value:!0}),El.parse=u,El.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,I){const S=new a,x=E.length;if(x<2)return S;const R=(I==null?void 0:I.decode)||g;let k=0;do{const B=E.indexOf("=",k);if(B===-1)break;const V=E.indexOf(";",k),q=V===-1?x:V;if(B>q){k=E.lastIndexOf(";",B-1)+1;continue}const G=c(E,k,B),Z=f(E,B,G),N=E.slice(G,Z);if(S[N]===void 0){let P=c(E,B+1,q),b=f(E,q,P);const O=R(E.slice(P,b));S[N]=O}k=q+1}while(k<x);return S}function c(E,I,S){do{const x=E.charCodeAt(I);if(x!==32&&x!==9)return I}while(++I<S);return S}function f(E,I,S){for(;I>S;){const x=E.charCodeAt(--I);if(x!==32&&x!==9)return I+1}return S}function p(E,I,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const R=x(I);if(!e.test(R))throw new TypeError(`argument val is invalid: ${I}`);let k=E+"="+R;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return o.call(E)==="[object Date]"}return El}xC();var Gy="popstate";function DC(n={}){function e(r,o){let{pathname:a,search:u,hash:c}=r.location;return Ep("",{pathname:a,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Fl(o)}return NC(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substring(2,10)}function qy(n,e){return{usr:n.state,key:n.key,idx:e}}function Ep(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:t,key:e&&e.key||r||kC()}}function Fl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function fa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function NC(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,c="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){c="POP";let R=g(),k=R==null?null:R-p;p=R,f&&f({action:c,location:x.location,delta:k})}function E(R,k){c="PUSH";let B=Ep(x.location,R,k);p=g()+1;let V=qy(B,p),q=x.createHref(B);try{u.pushState(V,"",q)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;o.location.assign(q)}a&&f&&f({action:c,location:x.location,delta:1})}function I(R,k){c="REPLACE";let B=Ep(x.location,R,k);p=g();let V=qy(B,p),q=x.createHref(B);u.replaceState(V,"",q),a&&f&&f({action:c,location:x.location,delta:0})}function S(R){let k=o.location.origin!=="null"?o.location.origin:o.location.href,B=typeof R=="string"?R:Fl(R);return B=B.replace(/ $/,"%20"),lt(k,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,k)}let x={get action(){return c},get location(){return n(o,u)},listen(R){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Gy,v),f=R,()=>{o.removeEventListener(Gy,v),f=null}},createHref(R){return e(o,R)},createURL:S,encodeLocation(R){let k=S(R);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:E,replace:I,go(R){return u.go(R)}};return x}function ww(n,e,t="/"){return OC(n,e,t,!1)}function OC(n,e,t,r){let o=typeof e=="string"?fa(e):e,a=ri(o.pathname||"/",t);if(a==null)return null;let u=Iw(n);LC(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let p=GC(a);c=WC(u[f],p,r)}return c}function Iw(n,e=[],t=[],r=""){let o=(a,u,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(lt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ei([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Iw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:$C(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,u);else for(let f of Tw(a.path))o(a,u,f)}),e}function Tw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=Tw(r.join("/")),c=[];return c.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function LC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:zC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var MC=/^:[\w-]+$/,VC=3,FC=2,UC=1,BC=10,jC=-2,Ky=n=>n==="*";function $C(n,e){let t=n.split("/"),r=t.length;return t.some(Ky)&&(r+=jC),e&&(r+=FC),t.filter(o=>!Ky(o)).reduce((o,a)=>o+(MC.test(a)?VC:a===""?UC:BC),r)}function zC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function WC(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=ed({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),u.push({params:o,pathname:ei([a,v.pathname]),pathnameBase:YC(ei([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=ei([a,v.pathnameBase]))}return u}function ed(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=HC(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},E)=>{if(g==="*"){let S=c[E]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const I=c[E];return v&&!I?p[g]=void 0:p[g]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function HC(n,e=!1,t=!0){cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function GC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ri(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function qC(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?fa(n):n;return{pathname:t?t.startsWith("/")?t:KC(t,e):e,search:JC(r),hash:XC(o)}}function KC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Gf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function im(n){let e=QC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function om(n,e,t,r=!1){let o;typeof n=="string"?o=fa(n):(o={...n},lt(!o.pathname||!o.pathname.includes("?"),Gf("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Gf("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Gf("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,c;if(u==null)c=t;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;o.pathname=E.join("/")}c=v>=0?e[v]:"/"}let f=qC(o,c),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ei=n=>n.join("/").replace(/\/\/+/g,"/"),YC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Sw=["POST","PUT","PATCH","DELETE"];new Set(Sw);var eA=["GET",...Sw];new Set(eA);var pa=F.createContext(null);pa.displayName="DataRouter";var Dd=F.createContext(null);Dd.displayName="DataRouterState";var Cw=F.createContext({isTransitioning:!1});Cw.displayName="ViewTransition";var tA=F.createContext(new Map);tA.displayName="Fetchers";var nA=F.createContext(null);nA.displayName="Await";var fr=F.createContext(null);fr.displayName="Navigation";var eu=F.createContext(null);eu.displayName="Location";var Dr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var sm=F.createContext(null);sm.displayName="RouteError";function rA(n,{relative:e}={}){lt(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=F.useContext(fr),{hash:o,pathname:a,search:u}=tu(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:ei([t,a])),r.createHref({pathname:c,search:u,hash:o})}function ma(){return F.useContext(eu)!=null}function io(){return lt(ma(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(eu).location}var Aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rw(n){F.useContext(fr).static||F.useLayoutEffect(n)}function ga(){let{isDataRoute:n}=F.useContext(Dr);return n?gA():iA()}function iA(){lt(ma(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(pa),{basename:e,navigator:t}=F.useContext(fr),{matches:r}=F.useContext(Dr),{pathname:o}=io(),a=JSON.stringify(im(r)),u=F.useRef(!1);return Rw(()=>{u.current=!0}),F.useCallback((f,p={})=>{if(cr(u.current,Aw),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=om(f,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ei([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,o,n])}F.createContext(null);function tu(n,{relative:e}={}){let{matches:t}=F.useContext(Dr),{pathname:r}=io(),o=JSON.stringify(im(t));return F.useMemo(()=>om(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function oA(n,e){return Pw(n,e)}function Pw(n,e,t,r){var B;lt(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=F.useContext(fr),{matches:u}=F.useContext(Dr),c=u[u.length-1],f=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",v=c&&c.route;{let V=v&&v.path||"";bw(p,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let E=io(),I;if(e){let V=typeof e=="string"?fa(e):e;lt(g==="/"||((B=V.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${V.pathname}" was given in the \`location\` prop.`),I=V}else I=E;let S=I.pathname||"/",x=S;if(g!=="/"){let V=g.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let R=!a&&t&&t.matches&&t.matches.length>0?t.matches:ww(n,{pathname:x});cr(v||R!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),cr(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=cA(R&&R.map(V=>Object.assign({},V,{params:Object.assign({},f,V.params),pathname:ei([g,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?g:ei([g,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,t,r);return e&&k?F.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},k):k}function sA(){let n=mA(),e=ZC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:a},"ErrorBoundary")," or"," ",F.createElement("code",{style:a},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,u)}var aA=F.createElement(sA,null),lA=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Dr.Provider,{value:this.props.routeContext},F.createElement(sm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uA({routeContext:n,match:e,children:t}){let r=F.useContext(pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Dr.Provider,{value:n},t)}function cA(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);lt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(t)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:v}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,E=!1,I=null,S=null;t&&(v=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||aA,u&&(c<0&&g===0?(bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,S=null):c===g&&(E=!0,S=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,g+1)),R=()=>{let k;return v?k=I:E?k=S:p.route.Component?k=F.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,F.createElement(uA,{match:p,routeContext:{outlet:f,matches:x,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?F.createElement(lA,{location:t.location,revalidation:t.revalidation,component:I,error:v,children:R(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):R()},null)}function am(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dA(n){let e=F.useContext(pa);return lt(e,am(n)),e}function hA(n){let e=F.useContext(Dd);return lt(e,am(n)),e}function fA(n){let e=F.useContext(Dr);return lt(e,am(n)),e}function lm(n){let e=fA(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pA(){return lm("useRouteId")}function mA(){var r;let n=F.useContext(sm),e=hA("useRouteError"),t=lm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function gA(){let{router:n}=dA("useNavigate"),e=lm("useNavigate"),t=F.useRef(!1);return Rw(()=>{t.current=!0}),F.useCallback(async(o,a={})=>{cr(t.current,Aw),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Qy={};function bw(n,e,t){!e&&!Qy[n]&&(Qy[n]=!0,cr(!1,t))}F.memo(vA);function vA({routes:n,future:e,state:t}){return Pw(n,void 0,t,e)}function kd({to:n,replace:e,state:t,relative:r}){lt(ma(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(fr);cr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=F.useContext(Dr),{pathname:u}=io(),c=ga(),f=om(n,im(a),u,r==="path"),p=JSON.stringify(f);return F.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function Uo(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yA({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){lt(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=fa(t));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:E="default"}=t,I=F.useMemo(()=>{let S=ri(f,u);return S==null?null:{location:{pathname:S,search:p,hash:g,state:v,key:E},navigationType:r}},[u,f,p,g,v,E,r]);return cr(I!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:F.createElement(fr.Provider,{value:c},F.createElement(eu.Provider,{children:e,value:I}))}function _A({children:n,location:e}){return oA(wp(n),e)}function wp(n,e=[]){let t=[];return F.Children.forEach(n,(r,o)=>{if(!F.isValidElement(r))return;let a=[...e,o];if(r.type===F.Fragment){t.push.apply(t,wp(r.props.children,a));return}lt(r.type===Uo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=wp(r.props.children,a)),t.push(u)}),t}var jc="get",$c="application/x-www-form-urlencoded";function Nd(n){return n!=null&&typeof n.tagName=="string"}function EA(n){return Nd(n)&&n.tagName.toLowerCase()==="button"}function wA(n){return Nd(n)&&n.tagName.toLowerCase()==="form"}function IA(n){return Nd(n)&&n.tagName.toLowerCase()==="input"}function TA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SA(n,e){return n.button===0&&(!e||e==="_self")&&!TA(n)}var xc=null;function CA(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var AA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(n){return n!=null&&!AA.has(n)?(cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):n}function RA(n,e){let t,r,o,a,u;if(wA(n)){let c=n.getAttribute("action");r=c?ri(c,e):null,t=n.getAttribute("method")||jc,o=qf(n.getAttribute("enctype"))||$c,a=new FormData(n)}else if(EA(n)||IA(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ri(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||jc,o=qf(n.getAttribute("formenctype"))||qf(c.getAttribute("enctype"))||$c,a=new FormData(c,n),!CA()){let{name:p,type:g,value:v}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,v)}}else{if(Nd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jc,r=null,o=$c,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function um(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function PA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xA(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await PA(a,t);return u.links?u.links():[]}return[]}));return OA(r.flat(1).filter(bA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(n,e,t,r,o,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{var v;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function DA(n,e,{includeHydrateFallback:t}={}){return kA(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function kA(n){return[...new Set(n)]}function NA(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function OA(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(NA(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}var LA=new Set([100,101,204,205]);function MA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ri(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function xw(){let n=F.useContext(pa);return um(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function VA(){let n=F.useContext(Dd);return um(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var cm=F.createContext(void 0);cm.displayName="FrameworkContext";function Dw(){let n=F.useContext(cm);return um(n,"You must render this element inside a <HydratedRouter> element"),n}function FA(n,e){let t=F.useContext(cm),[r,o]=F.useState(!1),[a,u]=F.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,E=F.useRef(null);F.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let x=k=>{k.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(x,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[n]),F.useEffect(()=>{if(r){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[r]);let I=()=>{o(!0)},S=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:wl(c,I),onBlur:wl(f,S),onMouseEnter:wl(p,I),onMouseLeave:wl(g,S),onTouchStart:wl(v,I)}]:[!1,E,{}]}function wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function UA({page:n,...e}){let{router:t}=xw(),r=F.useMemo(()=>ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?F.createElement(jA,{page:n,matches:r,...e}):null}function BA(n){let{manifest:e,routeModules:t}=Dw(),[r,o]=F.useState([]);return F.useEffect(()=>{let a=!1;return xA(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function jA({page:n,matches:e,...t}){let r=io(),{manifest:o,routeModules:a}=Dw(),{basename:u}=xw(),{loaderData:c,matches:f}=VA(),p=F.useMemo(()=>Yy(n,e,f,o,r,"data"),[n,e,f,o,r]),g=F.useMemo(()=>Yy(n,e,f,o,r,"assets"),[n,e,f,o,r]),v=F.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(k=>{var V;let B=o.routes[k.route.id];!B||!B.hasLoader||(!p.some(q=>q.route.id===k.route.id)&&k.route.id in c&&((V=a[k.route.id])!=null&&V.shouldRevalidate)||B.hasClientLoader?x=!0:S.add(k.route.id))}),S.size===0)return[];let R=MA(n,u);return x&&S.size>0&&R.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[R.pathname+R.search]},[u,c,r,o,p,e,n,a]),E=F.useMemo(()=>DA(g,o),[g,o]),I=BA(g);return F.createElement(F.Fragment,null,v.map(S=>F.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),E.map(S=>F.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),I.map(({key:S,link:x})=>F.createElement("link",{key:S,...x})))}function $A(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kw&&(window.__reactRouterVersion="7.5.2")}catch{}function zA({basename:n,children:e,window:t}){let r=F.useRef();r.current==null&&(r.current=DC({window:t,v5Compat:!0}));let o=r.current,[a,u]=F.useState({action:o.action,location:o.location}),c=F.useCallback(f=>{F.startTransition(()=>u(f))},[u]);return F.useLayoutEffect(()=>o.listen(c),[o,c]),F.createElement(yA,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=F.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:c,target:f,to:p,preventScrollReset:g,viewTransition:v,...E},I){let{basename:S}=F.useContext(fr),x=typeof p=="string"&&Nw.test(p),R,k=!1;if(typeof p=="string"&&x&&(R=p,kw))try{let b=new URL(window.location.href),O=p.startsWith("//")?new URL(b.protocol+p):new URL(p),L=ri(O.pathname,S);O.origin===b.origin&&L!=null?p=L+O.search+O.hash:k=!0}catch{cr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=rA(p,{relative:o}),[V,q,G]=FA(r,E),Z=qA(p,{replace:u,state:c,target:f,preventScrollReset:g,relative:o,viewTransition:v});function N(b){e&&e(b),b.defaultPrevented||Z(b)}let P=F.createElement("a",{...E,...G,href:R||B,onClick:k||a?e:N,ref:$A(I,q),target:f,"data-discover":!x&&t==="render"?"true":void 0});return V&&!x?F.createElement(F.Fragment,null,P,F.createElement(UA,{page:B})):P});ji.displayName="Link";var WA=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:c,children:f,...p},g){let v=tu(u,{relative:p.relative}),E=io(),I=F.useContext(Dd),{navigator:S,basename:x}=F.useContext(fr),R=I!=null&&XA(v)&&c===!0,k=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,B=E.pathname,V=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(B=B.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&x&&(V=ri(V,x)||V);const q=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let G=B===k||!o&&B.startsWith(k)&&B.charAt(q)==="/",Z=V!=null&&(V===k||!o&&V.startsWith(k)&&V.charAt(k.length)==="/"),N={isActive:G,isPending:Z,isTransitioning:R},P=G?e:void 0,b;typeof r=="function"?b=r(N):b=[r,G?"active":null,Z?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(N):a;return F.createElement(ji,{...p,"aria-current":P,className:b,ref:g,style:O,to:u,viewTransition:c},typeof f=="function"?f(N):f)});WA.displayName="NavLink";var HA=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=jc,action:c,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:v,...E},I)=>{let S=YA(),x=JA(c,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&Nw.test(c),B=V=>{if(f&&f(V),V.defaultPrevented)return;V.preventDefault();let q=V.nativeEvent.submitter,G=(q==null?void 0:q.getAttribute("formmethod"))||u;S(q||V.currentTarget,{fetcherKey:e,method:G,navigate:t,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:v})};return F.createElement("form",{ref:I,method:R,action:x,onSubmit:r?f:B,...E,"data-discover":!k&&n==="render"?"true":void 0})});HA.displayName="Form";function GA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ow(n){let e=F.useContext(pa);return lt(e,GA(n)),e}function qA(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let c=ga(),f=io(),p=tu(n,{relative:a});return F.useCallback(g=>{if(SA(g,e)){g.preventDefault();let v=t!==void 0?t:Fl(f)===Fl(p);c(n,{replace:v,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,c,p,t,r,e,n,o,a,u])}var KA=0,QA=()=>`__${String(++KA)}__`;function YA(){let{router:n}=Ow("useSubmit"),{basename:e}=F.useContext(fr),t=pA();return F.useCallback(async(r,o={})=>{let{action:a,method:u,encType:c,formData:f,body:p}=RA(r,e);if(o.navigate===!1){let g=o.fetcherKey||QA();await n.fetch(g,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function JA(n,{relative:e}={}){let{basename:t}=F.useContext(fr),r=F.useContext(Dr);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...tu(n||".",{relative:e})},u=io();if(n==null){a.search=u.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ei([t,a.pathname])),Fl(a)}function XA(n,e={}){let t=F.useContext(Cw);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ow("useViewTransitionState"),o=tu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ri(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ri(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ed(o.pathname,u)!=null||ed(o.pathname,a)!=null}new TextEncoder;[...LA];var Lw=Ew();const ZA=xd(Lw),eR=()=>{};var Jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],c=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,c=u?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,g=a>>2,v=(a&3)<<4|c>>4;let E=(c&15)<<2|p>>6,I=p&63;f||(I=64,u||(E=64)),r.push(t[g],t[v],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Mw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const v=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||c==null||p==null||v==null)throw new nR;const E=a<<2|c>>4;if(r.push(E),p!==64){const I=c<<4&240|p>>2;if(r.push(I),v!==64){const S=p<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(n){const e=Mw(n);return Vw.encodeByteArray(e,!0)},td=function(n){return rR(n).replace(/\./g,"")},Fw=function(n){try{return Vw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=()=>iR().__FIREBASE_DEFAULTS__,sR=()=>{if(typeof process>"u"||typeof Jy>"u")return;const n=Jy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Fw(n[1]);return e&&JSON.parse(e)},Od=()=>{try{return eR()||oR()||sR()||aR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Uw=n=>{var e,t;return(t=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lR=n=>{const e=Uw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Bw=()=>{var n;return(n=Od())===null||n===void 0?void 0:n.config},jw=n=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[td(JSON.stringify(t)),td(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function hR(){var n;const e=(n=Od())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gR(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vR(){return!hR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yR(){try{return typeof indexedDB=="object"}catch{return!1}}function _R(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ER,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?wR(a,r):"Error",c=`${this.serviceName}: ${u} (${o}).`;return new ui(o,c,r)}}function wR(n,e){return n.replace(IR,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const IR=/\{\$([^}]+)}/g;function TR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Xy(a)&&Xy(u)){if(!zo(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Xy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SR(n,e){const t=new CR(n,e);return t.subscribe.bind(t)}class CR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Kf),o.error===void 0&&(o.error=Kf),o.complete===void 0&&(o.complete=Kf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n){return n&&n._delegate?n._delegate:n}class Wo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bR(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:PR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PR(n){return n===Bo?void 0:n}function bR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const DR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},kR=Me.INFO,NR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},OR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=NR[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const LR=(n,e)=>e.some(t=>n instanceof t);let Zy,e_;function MR(){return Zy||(Zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VR(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $w=new WeakMap,Ip=new WeakMap,zw=new WeakMap,Qf=new WeakMap,hm=new WeakMap;function FR(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(zi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&$w.set(t,n)}).catch(()=>{}),hm.set(e,n),e}function UR(n){if(Ip.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Ip.set(n,e)}let Tp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ip.get(n);if(e==="objectStoreNames")return n.objectStoreNames||zw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BR(n){Tp=n(Tp)}function jR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Yf(this),e,...t);return zw.set(r,e.sort?e.sort():[e]),zi(r)}:VR().includes(n)?function(...e){return n.apply(Yf(this),e),zi($w.get(this))}:function(...e){return zi(n.apply(Yf(this),e))}}function $R(n){return typeof n=="function"?jR(n):(n instanceof IDBTransaction&&UR(n),LR(n,MR())?new Proxy(n,Tp):n)}function zi(n){if(n instanceof IDBRequest)return FR(n);if(Qf.has(n))return Qf.get(n);const e=$R(n);return e!==n&&(Qf.set(n,e),hm.set(e,n)),e}const Yf=n=>hm.get(n);function zR(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),c=zi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(zi(u.result),f.oldVersion,f.newVersion,zi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const WR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],Jf=new Map;function t_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=HR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||WR.includes(t)))return;const a=async function(u,...c){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),o&&f.done]))[0]};return Jf.set(e,a),a}BR(n=>({...n,get:(e,t,r)=>t_(e,t)||n.get(e,t,r),has:(e,t)=>!!t_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",n_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new dm("@firebase/app"),KR="@firebase/app-compat",QR="@firebase/analytics-compat",YR="@firebase/analytics",JR="@firebase/app-check-compat",XR="@firebase/app-check",ZR="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/data-connect",rP="@firebase/database-compat",iP="@firebase/functions",oP="@firebase/functions-compat",sP="@firebase/installations",aP="@firebase/installations-compat",lP="@firebase/messaging",uP="@firebase/messaging-compat",cP="@firebase/performance",dP="@firebase/performance-compat",hP="@firebase/remote-config",fP="@firebase/remote-config-compat",pP="@firebase/storage",mP="@firebase/storage-compat",gP="@firebase/firestore",vP="@firebase/vertexai",yP="@firebase/firestore-compat",_P="firebase",EP="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",wP={[Sp]:"fire-core",[KR]:"fire-core-compat",[YR]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[JR]:"fire-app-check-compat",[ZR]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-data-connect",[rP]:"fire-rtdb-compat",[iP]:"fire-fn",[oP]:"fire-fn-compat",[sP]:"fire-iid",[aP]:"fire-iid-compat",[lP]:"fire-fcm",[uP]:"fire-fcm-compat",[cP]:"fire-perf",[dP]:"fire-perf-compat",[hP]:"fire-rc",[fP]:"fire-rc-compat",[pP]:"fire-gcs",[mP]:"fire-gcs-compat",[gP]:"fire-fst",[yP]:"fire-fst-compat",[vP]:"fire-vertex","fire-js":"fire-js",[_P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,IP=new Map,Ap=new Map;function r_(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ta(n){const e=n.name;if(Ap.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,n);for(const t of nd.values())r_(t,n);for(const t of IP.values())r_(t,n);return!0}function fm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new nu("app","Firebase",TP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=EP;function Ww(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Wi.create("bad-app-name",{appName:String(o)});if(t||(t=Bw()),!t)throw Wi.create("no-options");const a=nd.get(o);if(a){if(zo(t,a.options)&&zo(r,a.config))return a;throw Wi.create("duplicate-app",{appName:o})}const u=new xR(o);for(const f of Ap.values())u.addComponent(f);const c=new SP(t,r,u);return nd.set(o,c),c}function Hw(n=Cp){const e=nd.get(n);if(!e&&n===Cp&&Bw())return Ww();if(!e)throw Wi.create("no-app",{appName:n});return e}function Hi(n,e,t){var r;let o=(r=wP[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${o}" with version "${e}":`];a&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(c.join(" "));return}ta(new Wo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebase-heartbeat-database",AP=1,Ul="firebase-heartbeat-store";let Xf=null;function Gw(){return Xf||(Xf=zR(CP,AP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw Wi.create("idb-open",{originalErrorMessage:n.message})})),Xf}async function RP(n){try{const t=(await Gw()).transaction(Ul),r=await t.objectStore(Ul).get(qw(n));return await t.done,r}catch(e){if(e instanceof ui)ii.warn(e.message);else{const t=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function i_(n,e){try{const r=(await Gw()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,qw(n)),await r.done}catch(t){if(t instanceof ui)ii.warn(t.message);else{const r=Wi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(r.message)}}}function qw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=1024,bP=30;class xP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=o_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>bP){const u=NP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=o_(),{heartbeatsToSend:r,unsentEntries:o}=DP(this._heartbeatsCache.heartbeats),a=td(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function o_(){return new Date().toISOString().substring(0,10)}function DP(n,e=PP){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),s_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),s_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yR()?_R().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return i_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function s_(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function NP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n){ta(new Wo("platform-logger",e=>new GR(e),"PRIVATE")),ta(new Wo("heartbeat",e=>new xP(e),"PRIVATE")),Hi(Sp,n_,n),Hi(Sp,n_,"esm2017"),Hi("fire-js","")}OP("");function pm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LP=Kw,Qw=new nu("auth","Firebase",Kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new dm("@firebase/auth");function MP(n,...e){rd.logLevel<=Me.WARN&&rd.warn(`Auth (${va}): ${n}`,...e)}function zc(n,...e){rd.logLevel<=Me.ERROR&&rd.error(`Auth (${va}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(n,...e){throw mm(n,...e)}function Ar(n,...e){return mm(n,...e)}function Yw(n,e,t){const r=Object.assign(Object.assign({},LP()),{[e]:t});return new nu("auth","Firebase",r).create(e,{appName:n.name})}function ti(n){return Yw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qw.create(n,...e)}function Te(n,e,...t){if(!n)throw mm(e,...t)}function Xr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zc(e),new Error(e)}function oi(n,e){n||Xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function VP(){return a_()==="http:"||a_()==="https:"}function a_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VP()||pR()||"connection"in navigator)?navigator.onLine:!0}function UP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,oi(t>e,"Short delay should be less than long delay!"),this.isMobile=dR()||mR()}get(){return FP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(n,e){oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$P=new iu(3e4,6e4);function oo(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ci(n,e,t,r,o={}){return Xw(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const c=ru(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return fR()||(p.referrerPolicy="no-referrer"),Jw.fetch()(await Zw(n,n.config.apiHost,t,c),p)})}async function Xw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},BP),e);try{const o=new WP(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Dc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Dc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Dc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Yw(n,g,p);dr(n,g)}}catch(o){if(o instanceof ui)throw o;dr(n,"network-request-failed",{message:String(o)})}}async function ou(n,e,t,r,o={}){const a=await ci(n,e,t,r,o);return"mfaPendingCredential"in a&&dr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function Zw(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?gm(n.config,o):`${n.config.apiScheme}://${o}`;return jP.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function zP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),$P.get())})}}function Dc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Ar(n,e,r);return o.customData._tokenResponse=t,o}function l_(n){return n!==void 0&&n.enterprise!==void 0}class HP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GP(n,e){return ci(n,"GET","/v2/recaptchaConfig",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(n,e){return ci(n,"POST","/v1/accounts:delete",e)}async function id(n,e){return ci(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KP(n,e=!1){const t=Et(n),r=await t.getIdToken(e),o=vm(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Dl(Zf(o.auth_time)),issuedAtTime:Dl(Zf(o.iat)),expirationTime:Dl(Zf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Zf(n){return Number(n)*1e3}function vm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Fw(t);return o?JSON.parse(o):(zc("Failed to decode base64 JWT payload"),null)}catch(o){return zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function u_(n){const e=vm(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&QP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function QP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(n){var e;const t=n.auth,r=await n.getIdToken(),o=await na(n,id(t,{idToken:r}));Te(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?eI(a.providerUserInfo):[],c=XP(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Pp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function JP(n){const e=Et(n);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XP(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function eI(n){return n.map(e=>{var{providerId:t}=e,r=pm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(n,e){const t=await Xw(n,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await Zw(n,o,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Jw.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eb(n,e){return ci(n,"POST","/v2/accounts:revokeToken",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=u_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await ZP(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Ys;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return Xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=pm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Pp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await na(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KP(this,e)}reload(){return JP(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await na(this,qP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,c,f,p,g;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,x=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,k=(p=t.createdAt)!==null&&p!==void 0?p:void 0,B=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:V,emailVerified:q,isAnonymous:G,providerData:Z,stsTokenManager:N}=t;Te(V&&N,e,"internal-error");const P=Ys.fromJSON(this.name,N);Te(typeof V=="string",e,"internal-error"),Li(v,e.name),Li(E,e.name),Te(typeof q=="boolean",e,"internal-error"),Te(typeof G=="boolean",e,"internal-error"),Li(I,e.name),Li(S,e.name),Li(x,e.name),Li(R,e.name),Li(k,e.name),Li(B,e.name);const b=new lr({uid:V,auth:e,email:E,emailVerified:q,displayName:v,isAnonymous:G,photoURL:S,phoneNumber:I,tenantId:x,stsTokenManager:P,createdAt:k,lastLoginAt:B});return Z&&Array.isArray(Z)&&(b.providerData=Z.map(O=>Object.assign({},O))),R&&(b._redirectEventId=R),b}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ys;o.updateFromServerResponse(t);const a=new lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await od(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?eI(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),c=new Ys;c.updateFromIdToken(r);const f=new lr({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;function Zr(n){oi(n instanceof Function,"Expected a class definition");let e=c_.get(n);return e?(oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,c_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tI.type="NONE";const d_=tI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n,e,t){return`firebase:${n}:${e}:${t}`}class Js{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Wc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await id(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Js(Zr(d_),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||Zr(d_);const u=Wc(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(u);if(g){let v;if(typeof g=="string"){const E=await id(e,{idToken:g}).catch(()=>{});if(!E)break;v=await lr._fromGetAccountInfoResponse(e,E,g)}else v=lr._fromJSON(e,g);p!==a&&(c=v),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Js(a,e,r):(a=f[0],c&&await a._set(u,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Js(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aI(e))return"Blackberry";if(lI(e))return"Webos";if(rI(e))return"Safari";if((e.includes("chrome/")||iI(e))&&!e.includes("edge/"))return"Chrome";if(sI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nI(n=Jt()){return/firefox\//i.test(n)}function rI(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iI(n=Jt()){return/crios\//i.test(n)}function oI(n=Jt()){return/iemobile/i.test(n)}function sI(n=Jt()){return/android/i.test(n)}function aI(n=Jt()){return/blackberry/i.test(n)}function lI(n=Jt()){return/webos/i.test(n)}function ym(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tb(n=Jt()){var e;return ym(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nb(){return gR()&&document.documentMode===10}function uI(n=Jt()){return ym(n)||sI(n)||lI(n)||aI(n)||/windows phone/i.test(n)||oI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(n,e=[]){let t;switch(n){case"Browser":t=h_(Jt());break;case"Worker":t=`${h_(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,c)=>{try{const f=e(a);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(n,e={}){return ci(n,"GET","/v2/passwordPolicy",oo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=6;class sb{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:ob,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,c;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(c=f.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f_(this),this.idTokenSubscription=new f_(this),this.beforeStateQueue=new rb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zr(t)),this._initializationPromise=this.queue(async()=>{var r,o,a;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await id(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(ti(this));const t=e?Et(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ib(this),t=new sb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await eb(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[Zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&MP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Yo(n){return Et(n)}class f_{constructor(e){this.auth=e,this.observer=null,this.addObserver=SR(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lb(n){Ld=n}function dI(n){return Ld.loadJS(n)}function ub(){return Ld.recaptchaEnterpriseScript}function cb(){return Ld.gapiScript}function db(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hb{constructor(){this.enterprise=new fb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fb{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pb="recaptcha-enterprise",hI="NO_RECAPTCHA";class mb{constructor(e){this.type=pb,this.auth=Yo(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,c)=>{GP(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new HP(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{c(f)})})}function o(a,u,c){const f=window.grecaptcha;l_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(hI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hb().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(c=>{if(!t&&l_(window.grecaptcha))o(c,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=ub();f.length!==0&&(f+=c),dI(f).then(()=>{o(c,a,u)}).catch(p=>{u(p)})}}).catch(c=>{u(c)})})}}async function p_(n,e,t,r=!1,o=!1){const a=new mb(n);let u;if(o)u=hI;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:u}):Object.assign(c,{captchaResponse:u}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function bp(n,e,t,r,o){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await p_(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await p_(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n,e){const t=fm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(zo(a,e??{}))return o;dr(o,"already-initialized")}return t.initialize({options:e})}function vb(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yb(n,e,t){const r=Yo(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=fI(e),{host:u,port:c}=_b(e),f=c===null?"":`:${c}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(zo(p,r.config.emulator)&&zo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Eb()}function fI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _b(n){const e=fI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:m_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:m_(u)}}}function m_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Eb(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xr("not implemented")}_getIdTokenResponse(e){return Xr("not implemented")}_linkToIdToken(e,t){return Xr("not implemented")}_getReauthenticationResolver(e){return Xr("not implemented")}}async function wb(n,e){return ci(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(n,e){return ou(n,"POST","/v1/accounts:signInWithPassword",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(n,e){return ou(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}async function Sb(n,e){return ou(n,"POST","/v1/accounts:signInWithEmailLink",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends _m{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Bl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Bl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,t,"signInWithPassword",Ib);case"emailLink":return Tb(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(e,r,"signUpPassword",wb);case"emailLink":return Sb(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(n,e){return ou(n,"POST","/v1/accounts:signInWithIdp",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="http://localhost";class Ho extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=pm(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Ho(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xs(e,t)}buildRequest(){const e={requestUri:Cb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ru(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Rb(n){const e=Cl(Al(n)).link,t=e?Cl(Al(e)).deep_link_id:null,r=Cl(Al(n)).deep_link_id;return(r?Cl(Al(r)).link:null)||r||t||e||n}class Em{constructor(e){var t,r,o,a,u,c;const f=Cl(Al(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,g=(r=f.oobCode)!==null&&r!==void 0?r:null,v=Ab((o=f.mode)!==null&&o!==void 0?o:null);Te(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(c=f.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=Rb(e);try{return new Em(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.providerId=ya.PROVIDER_ID}static credential(e,t){return Bl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Em.parseLink(t);return Te(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}ya.PROVIDER_ID="password";ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends pI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends su{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ho._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Vi.credential(t,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends su{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends su{constructor(){super("twitter.com")}static credential(e,t){return Ho._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ui.credential(t,r)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(n,e){return ou(n,"POST","/v1/accounts:signUp",oo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await lr._fromIdTokenResponse(e,r,o),u=g_(r);return new Go({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=g_(r);return new Go({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function g_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends ui{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new sd(e,t,r,o)}}function mI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(n,a,e,r):a})}async function bb(n,e,t=!1){const r=await na(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Go._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(n,e,t=!1){const{auth:r}=n;if(zn(r.app))return Promise.reject(ti(r));const o="reauthenticate";try{const a=await na(n,mI(r,o,e,n),t);Te(a.idToken,r,"internal-error");const u=vm(a.idToken);Te(u,r,"internal-error");const{sub:c}=u;return Te(n.uid===c,r,"user-mismatch"),Go._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e,t=!1){if(zn(n.app))return Promise.reject(ti(n));const r="signIn",o=await mI(n,r,e),a=await Go._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function Db(n,e){return gI(Yo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vI(n){const e=Yo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function kb(n,e,t){if(zn(n.app))return Promise.reject(ti(n));const r=Yo(n),u=await bp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Pb).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&vI(n),f}),c=await Go._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(c.user),c}function Nb(n,e,t){return zn(n.app)?Promise.reject(ti(n)):Db(Et(n),ya.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ob(n,e){return ci(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lb(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Et(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await na(r,Ob(r.auth,a));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Mb(n,e,t,r){return Et(n).onIdTokenChanged(e,t,r)}function Vb(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function Fb(n,e,t,r){return Et(n).onAuthStateChanged(e,t,r)}function Ub(n){return Et(n).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1e3,jb=10;class _I extends yI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);nb()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jb):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_I.type="LOCAL";const $b=_I;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends yI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}EI.type="SESSION";const wI=EI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(u).map(async p=>p(t.origin,a)),f=await zb(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((c,f)=>{const p=wm("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function Hb(n){Rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function Gb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qb(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Kb(){return II()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="firebaseLocalStorageDb",Qb=1,ld="firebaseLocalStorage",SI="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vd(n,e){return n.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function Yb(){const n=indexedDB.deleteDatabase(TI);return new au(n).toPromise()}function xp(){const n=indexedDB.open(TI,Qb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ld,{keyPath:SI})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await Yb(),e(await xp()))})})}async function v_(n,e,t){const r=Vd(n,!0).put({[SI]:e,value:t});return new au(r).toPromise()}async function Jb(n,e){const t=Vd(n,!1).get(e),r=await new au(t).toPromise();return r===void 0?null:r.value}function y_(n,e){const t=Vd(n,!0).delete(e);return new au(t).toPromise()}const Xb=800,Zb=3;class CI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Zb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return II()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(Kb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Gb(),!this.activeServiceWorker)return;this.sender=new Wb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await v_(e,ad,"1"),await y_(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>v_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Jb(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>y_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Vd(o,!1).getAll();return new au(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CI.type="LOCAL";const ex=CI;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,e){return e?Zr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends _m{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nx(n){return gI(n.auth,new Im(n),n.bypassAuthState)}function rx(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),xb(t,new Im(n),n.bypassAuthState)}async function ix(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),bb(t,new Im(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nx;case"linkViaPopup":case"linkViaRedirect":return ix;case"reauthViaPopup":case"reauthViaRedirect":return rx;default:dr(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new iu(2e3,1e4);class Qs extends AI{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Qs.currentPopupAction&&Qs.currentPopupAction.cancel(),Qs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ox.get())};e()}}Qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="pendingRedirect",Hc=new Map;class ax extends AI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const r=await lx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lx(n,e){const t=dx(e),r=cx(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function ux(n,e){Hc.set(n._key(),e)}function cx(n){return Zr(n._redirectPersistence)}function dx(n){return Wc(sx,n.config.apiKey,n.name)}async function hx(n,e,t=!1){if(zn(n.app))return Promise.reject(ti(n));const r=Yo(n),o=tx(r,e),u=await new ax(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=10*60*1e3;class px{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mx(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RI(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fx&&this.cachedEventUids.clear(),this.cachedEventUids.has(__(e))}saveEventToCache(e){this.cachedEventUids.add(__(e)),this.lastProcessedEventTime=Date.now()}}function __(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mx(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(n,e={}){return ci(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yx=/^https?/;async function _x(n){if(n.config.emulator)return;const{authorizedDomains:e}=await gx(n);for(const t of e)try{if(Ex(t))return}catch{}dr(n,"unauthorized-domain")}function Ex(n){const e=Rp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!yx.test(t))return!1;if(vx.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new iu(3e4,6e4);function E_(){const n=Rr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Ix(n){return new Promise((e,t)=>{var r,o,a;function u(){E_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E_(),t(Ar(n,"network-request-failed"))},timeout:wx.get()})}if(!((o=(r=Rr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Rr().gapi)===null||a===void 0)&&a.load)u();else{const c=db("iframefcb");return Rr()[c]=()=>{gapi.load?u():t(Ar(n,"network-request-failed"))},dI(`${cb()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function Tx(n){return Gc=Gc||Ix(n),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new iu(5e3,15e3),Cx="__/auth/iframe",Ax="emulator/auth/iframe",Rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Px=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bx(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gm(e,Ax):`https://${n.config.authDomain}/${Cx}`,r={apiKey:e.apiKey,appName:n.name,v:va},o=Px.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${ru(r).slice(1)}`}async function xx(n){const e=await Tx(n),t=Rr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:bx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rx,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ar(n,"network-request-failed"),c=Rr().setTimeout(()=>{a(u)},Sx.get());function f(){Rr().clearTimeout(c),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,Nx=600,Ox="_blank",Lx="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mx(n,e,t,r=kx,o=Nx){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f=Object.assign(Object.assign({},Dx),{width:r.toString(),height:o.toString(),top:a,left:u}),p=Jt().toLowerCase();t&&(c=iI(p)?Ox:t),nI(p)&&(e=e||Lx,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[I,S])=>`${E}${I}=${S},`,"");if(tb(p)&&c!=="_self")return Vx(e||"",c),new w_(null);const v=window.open(e||"",c,g);Te(v,n,"popup-blocked");try{v.focus()}catch{}return new w_(v)}function Vx(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__/auth/handler",Ux="emulator/auth/handler",Bx=encodeURIComponent("fac");async function I_(n,e,t,r,o,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:va,eventId:o};if(e instanceof pI){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",TR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof su){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),p=f?`#${Bx}=${encodeURIComponent(f)}`:"";return`${jx(n)}?${ru(c).slice(1)}${p}`}function jx({config:n}){return n.emulator?gm(n,Ux):`https://${n.authDomain}/${Fx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="webStorageSupport";class $x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wI,this._completeRedirectFn=hx,this._overrideRedirectResult=ux}async _openPopup(e,t,r,o){var a;oi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await I_(e,t,r,Rp(),o);return Mx(e,u,wm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await I_(e,t,r,Rp(),o);return Hb(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(oi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xx(e),r=new px(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ep,{type:ep},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[ep];u!==void 0&&t(!!u),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_x(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uI()||rI()||ym()}}const zx=$x;var T_="@firebase/auth",S_="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Gx(n){ta(new Wo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cI(n)},p=new ab(r,o,a,f);return vb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ta(new Wo("auth-internal",e=>{const t=Yo(e.getProvider("auth").getImmediate());return(r=>new Wx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(T_,S_,Hx(n)),Hi(T_,S_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=5*60,Kx=jw("authIdTokenMaxAge")||qx;let C_=null;const Qx=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Kx)return;const o=t==null?void 0:t.token;C_!==o&&(C_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yx(n=Hw()){const e=fm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=gb(n,{popupRedirectResolver:zx,persistence:[ex,$b,wI]}),r=jw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Qx(a.toString());Vb(t,u,()=>u(t.currentUser)),Mb(t,c=>u(c))}}const o=Uw("auth");return o&&yb(t,`http://${o}`),t}function Jx(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lb({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Ar("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",Jx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Gx("Browser");var Xx="firebase",Zx="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(Xx,Zx,"app");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,PI;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,P){function b(){}b.prototype=P.prototype,N.D=P.prototype,N.prototype=new b,N.prototype.constructor=N,N.C=function(O,L,$){for(var A=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)A[Ce-2]=arguments[Ce];return P.prototype[L].apply(O,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,P,b){b||(b=0);var O=Array(16);if(typeof P=="string")for(var L=0;16>L;++L)O[L]=P.charCodeAt(b++)|P.charCodeAt(b++)<<8|P.charCodeAt(b++)<<16|P.charCodeAt(b++)<<24;else for(L=0;16>L;++L)O[L]=P[b++]|P[b++]<<8|P[b++]<<16|P[b++]<<24;P=N.g[0],b=N.g[1],L=N.g[2];var $=N.g[3],A=P+($^b&(L^$))+O[0]+3614090360&4294967295;P=b+(A<<7&4294967295|A>>>25),A=$+(L^P&(b^L))+O[1]+3905402710&4294967295,$=P+(A<<12&4294967295|A>>>20),A=L+(b^$&(P^b))+O[2]+606105819&4294967295,L=$+(A<<17&4294967295|A>>>15),A=b+(P^L&($^P))+O[3]+3250441966&4294967295,b=L+(A<<22&4294967295|A>>>10),A=P+($^b&(L^$))+O[4]+4118548399&4294967295,P=b+(A<<7&4294967295|A>>>25),A=$+(L^P&(b^L))+O[5]+1200080426&4294967295,$=P+(A<<12&4294967295|A>>>20),A=L+(b^$&(P^b))+O[6]+2821735955&4294967295,L=$+(A<<17&4294967295|A>>>15),A=b+(P^L&($^P))+O[7]+4249261313&4294967295,b=L+(A<<22&4294967295|A>>>10),A=P+($^b&(L^$))+O[8]+1770035416&4294967295,P=b+(A<<7&4294967295|A>>>25),A=$+(L^P&(b^L))+O[9]+2336552879&4294967295,$=P+(A<<12&4294967295|A>>>20),A=L+(b^$&(P^b))+O[10]+4294925233&4294967295,L=$+(A<<17&4294967295|A>>>15),A=b+(P^L&($^P))+O[11]+2304563134&4294967295,b=L+(A<<22&4294967295|A>>>10),A=P+($^b&(L^$))+O[12]+1804603682&4294967295,P=b+(A<<7&4294967295|A>>>25),A=$+(L^P&(b^L))+O[13]+4254626195&4294967295,$=P+(A<<12&4294967295|A>>>20),A=L+(b^$&(P^b))+O[14]+2792965006&4294967295,L=$+(A<<17&4294967295|A>>>15),A=b+(P^L&($^P))+O[15]+1236535329&4294967295,b=L+(A<<22&4294967295|A>>>10),A=P+(L^$&(b^L))+O[1]+4129170786&4294967295,P=b+(A<<5&4294967295|A>>>27),A=$+(b^L&(P^b))+O[6]+3225465664&4294967295,$=P+(A<<9&4294967295|A>>>23),A=L+(P^b&($^P))+O[11]+643717713&4294967295,L=$+(A<<14&4294967295|A>>>18),A=b+($^P&(L^$))+O[0]+3921069994&4294967295,b=L+(A<<20&4294967295|A>>>12),A=P+(L^$&(b^L))+O[5]+3593408605&4294967295,P=b+(A<<5&4294967295|A>>>27),A=$+(b^L&(P^b))+O[10]+38016083&4294967295,$=P+(A<<9&4294967295|A>>>23),A=L+(P^b&($^P))+O[15]+3634488961&4294967295,L=$+(A<<14&4294967295|A>>>18),A=b+($^P&(L^$))+O[4]+3889429448&4294967295,b=L+(A<<20&4294967295|A>>>12),A=P+(L^$&(b^L))+O[9]+568446438&4294967295,P=b+(A<<5&4294967295|A>>>27),A=$+(b^L&(P^b))+O[14]+3275163606&4294967295,$=P+(A<<9&4294967295|A>>>23),A=L+(P^b&($^P))+O[3]+4107603335&4294967295,L=$+(A<<14&4294967295|A>>>18),A=b+($^P&(L^$))+O[8]+1163531501&4294967295,b=L+(A<<20&4294967295|A>>>12),A=P+(L^$&(b^L))+O[13]+2850285829&4294967295,P=b+(A<<5&4294967295|A>>>27),A=$+(b^L&(P^b))+O[2]+4243563512&4294967295,$=P+(A<<9&4294967295|A>>>23),A=L+(P^b&($^P))+O[7]+1735328473&4294967295,L=$+(A<<14&4294967295|A>>>18),A=b+($^P&(L^$))+O[12]+2368359562&4294967295,b=L+(A<<20&4294967295|A>>>12),A=P+(b^L^$)+O[5]+4294588738&4294967295,P=b+(A<<4&4294967295|A>>>28),A=$+(P^b^L)+O[8]+2272392833&4294967295,$=P+(A<<11&4294967295|A>>>21),A=L+($^P^b)+O[11]+1839030562&4294967295,L=$+(A<<16&4294967295|A>>>16),A=b+(L^$^P)+O[14]+4259657740&4294967295,b=L+(A<<23&4294967295|A>>>9),A=P+(b^L^$)+O[1]+2763975236&4294967295,P=b+(A<<4&4294967295|A>>>28),A=$+(P^b^L)+O[4]+1272893353&4294967295,$=P+(A<<11&4294967295|A>>>21),A=L+($^P^b)+O[7]+4139469664&4294967295,L=$+(A<<16&4294967295|A>>>16),A=b+(L^$^P)+O[10]+3200236656&4294967295,b=L+(A<<23&4294967295|A>>>9),A=P+(b^L^$)+O[13]+681279174&4294967295,P=b+(A<<4&4294967295|A>>>28),A=$+(P^b^L)+O[0]+3936430074&4294967295,$=P+(A<<11&4294967295|A>>>21),A=L+($^P^b)+O[3]+3572445317&4294967295,L=$+(A<<16&4294967295|A>>>16),A=b+(L^$^P)+O[6]+76029189&4294967295,b=L+(A<<23&4294967295|A>>>9),A=P+(b^L^$)+O[9]+3654602809&4294967295,P=b+(A<<4&4294967295|A>>>28),A=$+(P^b^L)+O[12]+3873151461&4294967295,$=P+(A<<11&4294967295|A>>>21),A=L+($^P^b)+O[15]+530742520&4294967295,L=$+(A<<16&4294967295|A>>>16),A=b+(L^$^P)+O[2]+3299628645&4294967295,b=L+(A<<23&4294967295|A>>>9),A=P+(L^(b|~$))+O[0]+4096336452&4294967295,P=b+(A<<6&4294967295|A>>>26),A=$+(b^(P|~L))+O[7]+1126891415&4294967295,$=P+(A<<10&4294967295|A>>>22),A=L+(P^($|~b))+O[14]+2878612391&4294967295,L=$+(A<<15&4294967295|A>>>17),A=b+($^(L|~P))+O[5]+4237533241&4294967295,b=L+(A<<21&4294967295|A>>>11),A=P+(L^(b|~$))+O[12]+1700485571&4294967295,P=b+(A<<6&4294967295|A>>>26),A=$+(b^(P|~L))+O[3]+2399980690&4294967295,$=P+(A<<10&4294967295|A>>>22),A=L+(P^($|~b))+O[10]+4293915773&4294967295,L=$+(A<<15&4294967295|A>>>17),A=b+($^(L|~P))+O[1]+2240044497&4294967295,b=L+(A<<21&4294967295|A>>>11),A=P+(L^(b|~$))+O[8]+1873313359&4294967295,P=b+(A<<6&4294967295|A>>>26),A=$+(b^(P|~L))+O[15]+4264355552&4294967295,$=P+(A<<10&4294967295|A>>>22),A=L+(P^($|~b))+O[6]+2734768916&4294967295,L=$+(A<<15&4294967295|A>>>17),A=b+($^(L|~P))+O[13]+1309151649&4294967295,b=L+(A<<21&4294967295|A>>>11),A=P+(L^(b|~$))+O[4]+4149444226&4294967295,P=b+(A<<6&4294967295|A>>>26),A=$+(b^(P|~L))+O[11]+3174756917&4294967295,$=P+(A<<10&4294967295|A>>>22),A=L+(P^($|~b))+O[2]+718787259&4294967295,L=$+(A<<15&4294967295|A>>>17),A=b+($^(L|~P))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+P&4294967295,N.g[1]=N.g[1]+(L+(A<<21&4294967295|A>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+$&4294967295}r.prototype.u=function(N,P){P===void 0&&(P=N.length);for(var b=P-this.blockSize,O=this.B,L=this.h,$=0;$<P;){if(L==0)for(;$<=b;)o(this,N,$),$+=this.blockSize;if(typeof N=="string"){for(;$<P;)if(O[L++]=N.charCodeAt($++),L==this.blockSize){o(this,O),L=0;break}}else for(;$<P;)if(O[L++]=N[$++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=P},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var P=1;P<N.length-8;++P)N[P]=0;var b=8*this.o;for(P=N.length-8;P<N.length;++P)N[P]=b&255,b/=256;for(this.u(N),N=Array(16),P=b=0;4>P;++P)for(var O=0;32>O;O+=8)N[b++]=this.g[P]>>>O&255;return N};function a(N,P){var b=c;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=P(N)}function u(N,P){this.h=P;for(var b=[],O=!0,L=N.length-1;0<=L;L--){var $=N[L]|0;O&&$==P||(b[L]=$,O=!1)}this.g=b}var c={};function f(N){return-128<=N&&128>N?a(N,function(P){return new u([P|0],0>P?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return R(p(-N));for(var P=[],b=1,O=0;N>=b;O++)P[O]=N/b|0,b*=4294967296;return new u(P,0)}function g(N,P){if(N.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N.charAt(0)=="-")return R(g(N.substring(1),P));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(P,8)),O=v,L=0;L<N.length;L+=8){var $=Math.min(8,N.length-L),A=parseInt(N.substring(L,L+$),P);8>$?($=p(Math.pow(P,$)),O=O.j($).add(p(A))):(O=O.j(b),O=O.add(p(A)))}return O}var v=f(0),E=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(x(this))return-R(this).m();for(var N=0,P=1,b=0;b<this.g.length;b++){var O=this.i(b);N+=(0<=O?O:4294967296+O)*P,P*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(x(this))return"-"+R(this).toString(N);for(var P=p(Math.pow(N,6)),b=this,O="";;){var L=q(b,P).g;b=k(b,L.j(P));var $=((0<b.g.length?b.g[0]:b.h)>>>0).toString(N);if(b=L,S(b))return $+O;for(;6>$.length;)$="0"+$;O=$+O}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(var P=0;P<N.g.length;P++)if(N.g[P]!=0)return!1;return!0}function x(N){return N.h==-1}n.l=function(N){return N=k(this,N),x(N)?-1:S(N)?0:1};function R(N){for(var P=N.g.length,b=[],O=0;O<P;O++)b[O]=~N.g[O];return new u(b,~N.h).add(E)}n.abs=function(){return x(this)?R(this):this},n.add=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],O=0,L=0;L<=P;L++){var $=O+(this.i(L)&65535)+(N.i(L)&65535),A=($>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);O=A>>>16,$&=65535,A&=65535,b[L]=A<<16|$}return new u(b,b[b.length-1]&-2147483648?-1:0)};function k(N,P){return N.add(R(P))}n.j=function(N){if(S(this)||S(N))return v;if(x(this))return x(N)?R(this).j(R(N)):R(R(this).j(N));if(x(N))return R(this.j(R(N)));if(0>this.l(I)&&0>N.l(I))return p(this.m()*N.m());for(var P=this.g.length+N.g.length,b=[],O=0;O<2*P;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<N.g.length;L++){var $=this.i(O)>>>16,A=this.i(O)&65535,Ce=N.i(L)>>>16,Ke=N.i(L)&65535;b[2*O+2*L]+=A*Ke,B(b,2*O+2*L),b[2*O+2*L+1]+=$*Ke,B(b,2*O+2*L+1),b[2*O+2*L+1]+=A*Ce,B(b,2*O+2*L+1),b[2*O+2*L+2]+=$*Ce,B(b,2*O+2*L+2)}for(O=0;O<P;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=P;O<2*P;O++)b[O]=0;return new u(b,0)};function B(N,P){for(;(N[P]&65535)!=N[P];)N[P+1]+=N[P]>>>16,N[P]&=65535,P++}function V(N,P){this.g=N,this.h=P}function q(N,P){if(S(P))throw Error("division by zero");if(S(N))return new V(v,v);if(x(N))return P=q(R(N),P),new V(R(P.g),R(P.h));if(x(P))return P=q(N,R(P)),new V(R(P.g),P.h);if(30<N.g.length){if(x(N)||x(P))throw Error("slowDivide_ only works with positive integers.");for(var b=E,O=P;0>=O.l(N);)b=G(b),O=G(O);var L=Z(b,1),$=Z(O,1);for(O=Z(O,2),b=Z(b,2);!S(O);){var A=$.add(O);0>=A.l(N)&&(L=L.add(b),$=A),O=Z(O,1),b=Z(b,1)}return P=k(N,L.j(P)),new V(L,P)}for(L=v;0<=N.l(P);){for(b=Math.max(1,Math.floor(N.m()/P.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),$=p(b),A=$.j(P);x(A)||0<A.l(N);)b-=O,$=p(b),A=$.j(P);S($)&&($=E),L=L.add($),N=k(N,A)}return new V(L,N)}n.A=function(N){return q(this,N).h},n.and=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],O=0;O<P;O++)b[O]=this.i(O)&N.i(O);return new u(b,this.h&N.h)},n.or=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],O=0;O<P;O++)b[O]=this.i(O)|N.i(O);return new u(b,this.h|N.h)},n.xor=function(N){for(var P=Math.max(this.g.length,N.g.length),b=[],O=0;O<P;O++)b[O]=this.i(O)^N.i(O);return new u(b,this.h^N.h)};function G(N){for(var P=N.g.length+1,b=[],O=0;O<P;O++)b[O]=N.i(O)<<1|N.i(O-1)>>>31;return new u(b,N.h)}function Z(N,P){var b=P>>5;P%=32;for(var O=N.g.length-b,L=[],$=0;$<O;$++)L[$]=0<P?N.i($+b)>>>P|N.i($+b+1)<<32-P:N.i($+b);return new u(L,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PI=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Gi=u}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bI,Rl,xI,qc,Dp,DI,kI,NI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,w){return d==Array.prototype||d==Object.prototype||(d[y]=w.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var y=0;y<d.length;++y){var w=d[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function o(d,y){if(y)e:{var w=r;d=d.split(".");for(var C=0;C<d.length-1;C++){var W=d[C];if(!(W in w))break e;w=w[W]}d=d[d.length-1],C=w[d],y=y(C),y!=C&&y!=null&&e(w,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var w=0,C=!1,W={next:function(){if(!C&&w<d.length){var Y=w++;return{value:y(Y,d[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(d){return d||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function f(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,w){return d.call.apply(d.bind,arguments)}function v(d,y,w){if(!d)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function E(d,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function I(d,y){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function S(d,y){function w(){}w.prototype=y.prototype,d.aa=y.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(C,W,Y){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return y.prototype[W].apply(C,ae)}}function x(d){const y=d.length;if(0<y){const w=Array(y);for(let C=0;C<y;C++)w[C]=d[C];return w}return[]}function R(d,y){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(f(C)){const W=d.length||0,Y=C.length||0;d.length=W+Y;for(let ae=0;ae<Y;ae++)d[W+ae]=C[ae]}else d.push(C)}}class k{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var G=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Z(d,y,w){for(const C in d)y.call(w,d[C],C,d)}function N(d,y){for(const w in d)y.call(void 0,d[w],w,d)}function P(d){const y={};for(const w in d)y[w]=d[w];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let w,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(w in C)d[w]=C[w];for(let Y=0;Y<b.length;Y++)w=b[Y],Object.prototype.hasOwnProperty.call(C,w)&&(d[w]=C[w])}}function L(d){var y=1;d=d.split(":");const w=[];for(;0<y&&d.length;)w.push(d.shift()),y--;return d.length&&w.push(d.join(":")),w}function $(d){c.setTimeout(()=>{throw d},0)}function A(){var d=ge;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class Ce{constructor(){this.h=this.g=null}add(y,w){const C=Ke.get();C.set(y,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Ke=new k(()=>new Qe,d=>d.reset());class Qe{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,oe=!1,ge=new Ce,le=()=>{const d=c.Promise.resolve(void 0);Fe=()=>{d.then(z)}};var z=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(w){$(w)}var y=Ke;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}oe=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};c.addEventListener("test",w,y),c.removeEventListener("test",w,y)}catch{}return d}();function Ae(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(G){e:{try{q(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else w=="mouseover"?y=d.fromElement:w=="mouseout"&&(y=d.toElement);this.relatedTarget=y,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}S(Ae,pe);var De={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Le=0;function He(d,y,w,C,W){this.listener=d,this.proxy=null,this.src=y,this.type=w,this.capture=!!C,this.ha=W,this.key=++Le,this.da=this.fa=!1}function nt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function gn(d){this.src=d,this.g={},this.h=0}gn.prototype.add=function(d,y,w,C,W){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ae=bn(d,y,C,W);return-1<ae?(y=d[ae],w||(y.fa=!1)):(y=new He(y,this.src,Y,!!C,W),y.fa=w,d.push(y)),y};function kr(d,y){var w=y.type;if(w in d.g){var C=d.g[w],W=Array.prototype.indexOf.call(C,y,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(C,W,1),Y&&(nt(y),d.g[w].length==0&&(delete d.g[w],d.h--))}}function bn(d,y,w,C){for(var W=0;W<d.length;++W){var Y=d[W];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==C)return W}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Nr={};function Or(d,y,w,C,W){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Or(d,y[Y],w,C,W);return null}return w=Pa(w),d&&d[Oe]?d.K(y,w,p(C)?!!C.capture:!1,W):Lr(d,y,w,!1,C,W)}function Lr(d,y,w,C,W,Y){if(!y)throw Error("Invalid event type");var ae=p(W)?!!W.capture:!!W,Ye=ts(d);if(Ye||(d[xn]=Ye=new gn(d)),w=Ye.add(y,w,C,ae,Y),w.proxy)return w;if(C=es(),w.proxy=C,C.src=d,C.listener=w,d.addEventListener)be||(W=ae),W===void 0&&(W=!1),d.addEventListener(y.toString(),C,W);else if(d.attachEvent)d.attachEvent(Mr(y.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function es(){function d(w){return y.call(d.src,d.listener,w)}const y=Ra;return d}function Dn(d,y,w,C,W){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Dn(d,y[Y],w,C,W);else C=p(C)?!!C.capture:!!C,w=Pa(w),d&&d[Oe]?(d=d.i,y=String(y).toString(),y in d.g&&(Y=d.g[y],w=bn(Y,w,C,W),-1<w&&(nt(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete d.g[y],d.h--)))):d&&(d=ts(d))&&(y=d.g[y.toString()],d=-1,y&&(d=bn(y,w,C,W)),(w=-1<d?y[d]:null)&&vn(w))}function vn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Oe])kr(y.i,d);else{var w=d.type,C=d.proxy;y.removeEventListener?y.removeEventListener(w,C,d.capture):y.detachEvent?y.detachEvent(Mr(w),C):y.addListener&&y.removeListener&&y.removeListener(C),(w=ts(y))?(kr(w,d),w.h==0&&(w.src=null,y[xn]=null)):nt(d)}}}function Mr(d){return d in Nr?Nr[d]:Nr[d]="on"+d}function Ra(d,y){if(d.da)d=!0;else{y=new Ae(y,this);var w=d.listener,C=d.ha||d.src;d.fa&&vn(d),d=w.call(C,y)}return d}function ts(d){return d=d[xn],d instanceof gn?d:null}var ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pa(d){return typeof d=="function"?d:(d[ns]||(d[ns]=function(y){return d.handleEvent(y)}),d[ns])}function wt(){J.call(this),this.i=new gn(this),this.M=this,this.F=null}S(wt,J),wt.prototype[Oe]=!0,wt.prototype.removeEventListener=function(d,y,w,C){Dn(this,d,y,w,C)};function It(d,y){var w,C=d.F;if(C)for(w=[];C;C=C.F)w.push(C);if(d=d.M,C=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var W=y;y=new pe(C,d),O(y,W)}if(W=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ae=y.g=w[Y];W=Vr(ae,C,!0,y)&&W}if(ae=y.g=d,W=Vr(ae,C,!0,y)&&W,W=Vr(ae,C,!1,y)&&W,w)for(Y=0;Y<w.length;Y++)ae=y.g=w[Y],W=Vr(ae,C,!1,y)&&W}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var w=d.g[y],C=0;C<w.length;C++)nt(w[C]);delete d.g[y],d.h--}}this.F=null},wt.prototype.K=function(d,y,w,C){return this.i.add(String(d),y,!1,w,C)},wt.prototype.L=function(d,y,w,C){return this.i.add(String(d),y,!0,w,C)};function Vr(d,y,w,C){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Y=0;Y<y.length;++Y){var ae=y[Y];if(ae&&!ae.da&&ae.capture==w){var Ye=ae.listener,Tt=ae.ha||ae.src;ae.fa&&kr(d.i,ae),W=Ye.call(Tt,C)!==!1&&W}}return W&&!C.defaultPrevented}function ba(d,y,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function di(d){d.g=ba(()=>{d.g=null,d.i&&(d.i=!1,di(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class co extends J{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:di(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ho(d){J.call(this),this.h=d,this.g={}}S(ho,J);var xa=[];function Da(d){Z(d.g,function(y,w){this.g.hasOwnProperty(w)&&vn(y)},d),d.g={}}ho.prototype.N=function(){ho.aa.N.call(this),Da(this)},ho.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=c.JSON.stringify,Na=c.JSON.parse,Oa=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function fo(){}fo.prototype.h=null;function rs(d){return d.h||(d.h=d.i())}function is(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){pe.call(this,"d")}S(pr,pe);function os(){pe.call(this,"c")}S(os,pe);var mr={},La=null;function po(){return La=La||new wt}mr.La="serverreachability";function Ma(d){pe.call(this,mr.La,d)}S(Ma,pe);function Fr(d){const y=po();It(y,new Ma(y))}mr.STAT_EVENT="statevent";function Va(d,y){pe.call(this,mr.STAT_EVENT,d),this.stat=y}S(Va,pe);function ft(d){const y=po();It(y,new Va(y,d))}mr.Ma="timingevent";function ss(d,y){pe.call(this,mr.Ma,d),this.size=y}S(ss,pe);function qn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function mo(){this.g=!0}mo.prototype.xa=function(){this.g=!1};function go(d,y,w,C,W,Y){d.info(function(){if(d.g)if(Y)for(var ae="",Ye=Y.split("&"),Tt=0;Tt<Ye.length;Tt++){var Be=Ye[Tt].split("=");if(1<Be.length){var Pt=Be[0];Be=Be[1];var gt=Pt.split("_");ae=2<=gt.length&&gt[1]=="type"?ae+(Pt+"="+Be+"&"):ae+(Pt+"=redacted&")}}else ae=null;else ae=Y;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+y+`
`+w+`
`+ae})}function as(d,y,w,C,W,Y,ae){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+y+`
`+w+`
`+Y+" "+ae})}function Kn(d,y,w,C){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+ph(d,w)+(C?" "+C:"")})}function Fa(d,y){d.info(function(){return"TIMEOUT: "+y})}mo.prototype.info=function(){};function ph(d,y){if(!d.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var C=w[d];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return ka(w)}catch{return y}}var ls={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function vo(){}S(vo,fo),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},Qn=new vo;function Yn(d,y,w,C){this.j=d,this.i=y,this.l=w,this.R=C||1,this.U=new ho(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gu}function gu(){this.i=null,this.g="",this.h=!1}var Ua={},us={};function cs(d,y,w){d.L=1,d.v=gi(_n(y)),d.m=w,d.P=!0,Ba(d,null)}function Ba(d,y){d.F=Date.now(),Ze(d),d.A=_n(d.v);var w=d.A,C=d.R;Array.isArray(C)||(C=[String(C)]),yi(w.i,"t",C),d.C=0,w=d.j.J,d.h=new gu,d.g=Ou(d.j,w?y:null,!d.m),0<d.O&&(d.M=new co(E(d.Y,d,d.g),d.O)),y=d.U,w=d.g,C=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(xa[0]=W.toString()),W=xa);for(var Y=0;Y<W.length;Y++){var ae=Or(w,W[Y],C||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Fr(),go(d.i,d.u,d.A,d.l,d.R,d.m)}Yn.prototype.ca=function(d){d=d.target;const y=this.M;y&&on(d)==3?y.j():this.Y(d)},Yn.prototype.Y=function(d){try{if(d==this.g)e:{const gt=on(this.g);var y=this.g.Ba();const Ln=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Ga(this.g)))){this.J||gt!=4||y==7||(y==8||0>=Ln?Fr(3):Fr(2)),yo(this);var w=this.g.Z();this.X=w;t:if(vu(this)){var C=Ga(this.g);d="";var W=C.length,Y=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),hi(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(C[y],{stream:!(Y&&y==W-1)});C.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,as(this.i,this.u,this.A,this.l,this.R,gt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Tt=this.g;if((Ye=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Ye)){var Be=Ye;break t}}Be=null}if(w=Be)Kn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,w);else{this.o=!1,this.s=3,ft(12),Nn(this),hi(this);break e}}if(this.P){w=!0;let wn;for(;!this.J&&this.C<ae.length;)if(wn=mh(this,ae),wn==us){gt==4&&(this.s=4,ft(14),w=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==Ua){this.s=4,ft(15),Kn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Kn(this.i,this.l,wn,null),ja(this,wn);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ae.length!=0||this.h.h||(this.s=1,ft(16),w=!1),this.o=this.o&&w,!w)Kn(this.i,this.l,ae,"[Invalid Chunked Response]"),Nn(this),hi(this);else if(0<ae.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ka(Pt),Pt.M=!0,ft(11))}}else Kn(this.i,this.l,ae,null),ja(this,ae);gt==4&&Nn(this),this.o&&!this.J&&(gt==4?ws(this.j,this):(this.o=!1,Ze(this)))}else gs(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Nn(this),hi(this)}}}catch{}finally{}};function vu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mh(d,y){var w=d.C,C=y.indexOf(`
`,w);return C==-1?us:(w=Number(y.substring(w,C)),isNaN(w)?Ua:(C+=1,C+w>y.length?us:(y=y.slice(C,C+w),d.C=C+w,y)))}Yn.prototype.cancel=function(){this.J=!0,Nn(this)};function Ze(d){d.S=Date.now()+d.I,yu(d,d.I)}function yu(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=qn(E(d.ba,d),y)}function yo(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Yn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Fa(this.i,this.A),this.L!=2&&(Fr(),ft(17)),Nn(this),this.s=2,hi(this)):yu(this,this.S-d)};function hi(d){d.j.G==0||d.J||ws(d.j,d)}function Nn(d){yo(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Da(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function ja(d,y){try{var w=d.j;if(w.G!=0&&(w.g==d||Xt(w.h,d))){if(!d.K&&Xt(w.h,d)&&w.G==3){try{var C=w.Da.g.parse(y)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Es(w),tr(w);else break e;_s(w),ft(18)}}else w.za=W[1],0<w.za-w.T&&37500>W[2]&&w.F&&w.v==0&&!w.C&&(w.C=qn(E(w.Za,w),6e3));if(1>=Eu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else zr(w,11)}else if((d.K||w.g==d)&&Es(w),!B(y))for(W=w.Da.g.parse(y),y=0;y<W.length;y++){let Be=W[y];if(w.T=Be[0],Be=Be[1],w.G==2)if(Be[0]=="c"){w.K=Be[1],w.ia=Be[2];const Pt=Be[3];Pt!=null&&(w.la=Pt,w.j.info("VER="+w.la));const gt=Be[4];gt!=null&&(w.Aa=gt,w.j.info("SVER="+w.Aa));const Ln=Be[5];Ln!=null&&typeof Ln=="number"&&0<Ln&&(C=1.5*Ln,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const wn=d.g;if(wn){const Co=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Co){var Y=C.h;Y.g||Co.indexOf("spdy")==-1&&Co.indexOf("quic")==-1&&Co.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($a(Y,Y.h),Y.h=null))}if(C.D){const Ts=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ts&&(C.ya=Ts,Xe(C.I,C.D,Ts))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ae=d;if(C.qa=Nu(C,C.J?C.ia:null,C.W),ae.K){wu(C.h,ae);var Ye=ae,Tt=C.L;Tt&&(Ye.I=Tt),Ye.B&&(yo(Ye),Ze(Ye)),C.g=ae}else So(C);0<w.i.length&&_r(w)}else Be[0]!="stop"&&Be[0]!="close"||zr(w,7);else w.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?zr(w,7):Mt(w):Be[0]!="noop"&&w.l&&w.l.ta(Be),w.v=0)}}Fr(4)}catch{}}var _u=class{constructor(d,y){this.g=d,this.map=y}};function _o(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Eu(d){return d.h?1:d.g?d.g.size:0}function Xt(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function $a(d,y){d.g?d.g.add(y):d.h=y}function wu(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}_o.prototype.cancel=function(){if(this.i=Iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Iu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const w of d.g.values())y=y.concat(w.D);return y}return x(d.i)}function ds(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var y=[],w=d.length,C=0;C<w;C++)y.push(d[C]);return y}y=[],w=0;for(C in d)y[w++]=d[C];return y}function hs(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var y=[];d=d.length;for(var w=0;w<d;w++)y.push(w);return y}y=[],w=0;for(const C in d)y[w++]=C;return y}}}function fi(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var w=hs(d),C=ds(d),W=C.length,Y=0;Y<W;Y++)y.call(void 0,C[Y],w&&w[Y],d)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(d,y){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var C=d[w].indexOf("="),W=null;if(0<=C){var Y=d[w].substring(0,C);W=d[w].substring(C+1)}else Y=d[w];y(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ur(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ur){this.h=d.h,wo(this,d.j),this.o=d.o,this.g=d.g,pi(this,d.s),this.l=d.l;var y=d.i,w=new gr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),mi(this,w),this.m=d.m}else d&&(y=String(d).match(Eo))?(this.h=!1,wo(this,y[1]||"",!0),this.o=Ue(y[2]||""),this.g=Ue(y[3]||"",!0),pi(this,y[4]),this.l=Ue(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=Ue(y[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}Ur.prototype.toString=function(){var d=[],y=this.j;y&&d.push(vi(y,fs,!0),":");var w=this.g;return(w||y=="file")&&(d.push("//"),(y=this.o)&&d.push(vi(y,fs,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(vi(w,w.charAt(0)=="/"?Cu:Su,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",vi(w,za)),d.join("")};function _n(d){return new Ur(d)}function wo(d,y,w){d.j=w?Ue(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function pi(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function mi(d,y,w){y instanceof gr?(d.i=y,vr(d.i,d.h)):(w||(y=vi(y,Au)),d.i=new gr(y,d.h))}function Xe(d,y,w){d.i.set(y,w)}function gi(d){return Xe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ue(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function vi(d,y,w){return typeof d=="string"?(d=encodeURI(d).replace(y,Tu),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Tu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fs=/[#\/\?@]/g,Su=/[#\?:]/g,Cu=/[#\?]/g,Au=/[#\?@]/g,za=/#/g;function gr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Lt(d){d.g||(d.g=new Map,d.h=0,d.i&&gh(d.i,function(y,w){d.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=gr.prototype,n.add=function(d,y){Lt(this),this.i=null,d=On(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(y),this.h+=1,this};function Jn(d,y){Lt(d),y=On(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Xn(d,y){return Lt(d),y=On(d,y),d.g.has(y)}n.forEach=function(d,y){Lt(this),this.g.forEach(function(w,C){w.forEach(function(W){d.call(y,W,C,this)},this)},this)},n.na=function(){Lt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let C=0;C<y.length;C++){const W=d[C];for(let Y=0;Y<W.length;Y++)w.push(y[C])}return w},n.V=function(d){Lt(this);let y=[];if(typeof d=="string")Xn(this,d)&&(y=y.concat(this.g.get(On(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)y=y.concat(d[w])}return y},n.set=function(d,y){return Lt(this),this.i=null,d=On(this,d),Xn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function yi(d,y,w){Jn(d,y),0<w.length&&(d.i=null,d.g.set(On(d,y),x(w)),d.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var C=y[w];const Y=encodeURIComponent(String(C)),ae=this.V(C);for(C=0;C<ae.length;C++){var W=Y;ae[C]!==""&&(W+="="+encodeURIComponent(String(ae[C]))),d.push(W)}}return this.i=d.join("&")};function On(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function vr(d,y){y&&!d.j&&(Lt(d),d.i=null,d.g.forEach(function(w,C){var W=C.toLowerCase();C!=W&&(Jn(this,C),yi(this,W,w))},d)),d.j=y}function vh(d,y){const w=new mo;if(c.Image){const C=new Image;C.onload=I(rn,w,"TestLoadImage: loaded",!0,y,C),C.onerror=I(rn,w,"TestLoadImage: error",!1,y,C),C.onabort=I(rn,w,"TestLoadImage: abort",!1,y,C),C.ontimeout=I(rn,w,"TestLoadImage: timeout",!1,y,C),c.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else y(!1)}function Ru(d,y){const w=new mo,C=new AbortController,W=setTimeout(()=>{C.abort(),rn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:C.signal}).then(Y=>{clearTimeout(W),Y.ok?rn(w,"TestPingServer: ok",!0,y):rn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),rn(w,"TestPingServer: error",!1,y)})}function rn(d,y,w,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(w)}catch{}}function yh(){this.g=new Oa}function Pu(d,y,w){const C=w||"";try{fi(d,function(W,Y){let ae=W;p(W)&&(ae=ka(W)),y.push(C+Y+"="+encodeURIComponent(ae))})}catch(W){throw y.push(C+"type="+encodeURIComponent("_badmap")),W}}function Br(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Br,fo),Br.prototype.g=function(){return new Io(this.l,this.j)},Br.prototype.i=function(d){return function(){return d}}({});function Io(d,y){wt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Io,wt),n=Io.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,er(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Zn(this):er(this),this.readyState==3&&bu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Zn(this))},n.Qa=function(d){this.g&&(this.response=d,Zn(this))},n.ga=function(){this.g&&Zn(this)};function Zn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,er(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=y.next();return d.join(`\r
`)};function er(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function jr(d){let y="";return Z(d,function(w,C){y+=C,y+=":",y+=w,y+=`\r
`}),y}function _i(d,y,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=jr(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):Xe(d,y,w))}function st(d){wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(st,wt);var _h=/^https?$/i,Wa=["POST","PUT"];n=st.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?rs(this.o):rs(Qn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Y){To(this,Y);return}if(d=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)w.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())w.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Wa,y,void 0))||C||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ae]of w)this.g.setRequestHeader(Y,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){To(this,Y)}};function To(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,ps(d),En(d)}function ps(d){d.A||(d.A=!0,It(d,"complete"),It(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,It(this,"complete"),It(this,"abort"),En(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(d){if(d.h&&typeof u<"u"&&(!d.v[1]||on(d)!=4||d.Z()!=2)){if(d.u&&on(d)==4)ba(d.Ea,0,d);else if(It(d,"readystatechange"),on(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var C;if(C=ae===0){var W=String(d.D).match(Eo)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),C=!_h.test(W?W.toLowerCase():"")}w=C}if(w)It(d,"complete"),It(d,"success");else{d.m=6;try{var Y=2<on(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",ps(d)}}finally{En(d)}}}}function En(d,y){if(d.g){ms(d);const w=d.g,C=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||It(d,"ready");try{w.onreadystatechange=C}catch{}}}function ms(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function on(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Na(y)}};function Ga(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function gs(d){const y={};d=(d.g&&2<=on(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(B(d[C]))continue;var w=L(d[C]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[W]||[];y[W]=Y,Y.push(w)}N(y,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(d,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||y}function qa(d){this.Aa=0,this.i=[],this.j=new mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,d),this.cb=yr("retryDelaySeedMs",1e4,d),this.Wa=yr("forwardChannelMaxRetries",2,d),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new _o(d&&d.concurrentRequestLimit),this.Da=new yh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=qa.prototype,n.la=8,n.G=1,n.connect=function(d,y,w,C){ft(0),this.W=d,this.H=y||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=Nu(this,null,this.W),_r(this)};function Mt(d){if(vs(d),d.G==3){var y=d.U++,w=_n(d.I);if(Xe(w,"SID",d.K),Xe(w,"RID",y),Xe(w,"TYPE","terminate"),$r(d,w),y=new Yn(d,d.j,y),y.L=2,y.v=gi(_n(w)),w=!1,c.navigator&&c.navigator.sendBeacon)try{w=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&c.Image&&(new Image().src=y.v,w=!0),w||(y.g=Ou(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ze(y)}ku(d)}function tr(d){d.g&&(Ka(d),d.g.cancel(),d.g=null)}function vs(d){tr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Es(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function _r(d){if(!yn(d.h)&&!d.s){d.s=!0;var y=d.Ga;Fe||le(),oe||(Fe(),oe=!0),ge.add(y,d),d.B=0}}function Eh(d,y){return Eu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=qn(E(d.Ga,d,y),Du(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Yn(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=P(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(y+=C,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Ei(this,W,y),w=_n(this.I),Xe(w,"RID",d),Xe(w,"CVER",22),this.D&&Xe(w,"X-HTTP-Session-Id",this.D),$r(this,w),Y&&(this.O?y="headers="+encodeURIComponent(String(jr(Y)))+"&"+y:this.m&&_i(w,this.m,Y)),$a(this.h,W),this.Ua&&Xe(w,"TYPE","init"),this.P?(Xe(w,"$req",y),Xe(w,"SID","null"),W.T=!0,cs(W,w,null)):cs(W,w,y),this.G=2}}else this.G==3&&(d?ys(this,d):this.i.length==0||yn(this.h)||ys(this))};function ys(d,y){var w;y?w=y.l:w=d.U++;const C=_n(d.I);Xe(C,"SID",d.K),Xe(C,"RID",w),Xe(C,"AID",d.T),$r(d,C),d.m&&d.o&&_i(C,d.m,d.o),w=new Yn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Ei(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),$a(d.h,w),cs(w,C,y)}function $r(d,y){d.H&&Z(d.H,function(w,C){Xe(y,C,w)}),d.l&&fi({},function(w,C){Xe(y,C,w)})}function Ei(d,y,w){w=Math.min(d.i.length,w);var C=d.l?E(d.l.Na,d.l,d):null;e:{var W=d.i;let Y=-1;for(;;){const ae=["count="+w];Y==-1?0<w?(Y=W[0].g,ae.push("ofs="+Y)):Y=0:ae.push("ofs="+Y);let Ye=!0;for(let Tt=0;Tt<w;Tt++){let Be=W[Tt].g;const Pt=W[Tt].map;if(Be-=Y,0>Be)Y=Math.max(0,W[Tt].g-100),Ye=!1;else try{Pu(Pt,ae,"req"+Be+"_")}catch{C&&C(Pt)}}if(Ye){C=ae.join("&");break e}}}return d=d.i.splice(0,w),y.D=d,C}function So(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;Fe||le(),oe||(Fe(),oe=!0),ge.add(y,d),d.v=0}}function _s(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=qn(E(d.Fa,d),Du(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=qn(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),tr(this),xu(this))};function Ka(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function xu(d){d.g=new Yn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=_n(d.qa);Xe(y,"RID","rpc"),Xe(y,"SID",d.K),Xe(y,"AID",d.T),Xe(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xe(y,"TO",d.ja),Xe(y,"TYPE","xmlhttp"),$r(d,y),d.m&&d.o&&_i(y,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=gi(_n(y)),w.m=null,w.P=!0,Ba(w,d)}n.Za=function(){this.C!=null&&(this.C=null,tr(this),_s(this),ft(19))};function Es(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function ws(d,y){var w=null;if(d.g==y){Es(d),Ka(d),d.g=null;var C=2}else if(Xt(d.h,y))w=y.D,wu(d.h,y),C=1;else return;if(d.G!=0){if(y.o)if(C==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;C=po(),It(C,new ss(C,w)),_r(d)}else So(d);else if(W=y.s,W==3||W==0&&0<y.X||!(C==1&&Eh(d,y)||C==2&&_s(d)))switch(w&&0<w.length&&(y=d.h,y.i=y.i.concat(w)),W){case 1:zr(d,5);break;case 4:zr(d,10);break;case 3:zr(d,6);break;default:zr(d,2)}}}function Du(d,y){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*y}function zr(d,y){if(d.j.info("Error code "+y),y==2){var w=E(d.fb,d),C=d.Xa;const W=!C;C=new Ur(C||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||wo(C,"https"),gi(C),W?vh(C.toString(),w):Ru(C.toString(),w)}else ft(2);d.G=0,d.l&&d.l.sa(y),ku(d),vs(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function ku(d){if(d.G=0,d.ka=[],d.l){const y=Iu(d.h);(y.length!=0||d.i.length!=0)&&(R(d.ka,y),R(d.ka,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.ra()}}function Nu(d,y,w){var C=w instanceof Ur?_n(w):new Ur(w);if(C.g!="")y&&(C.g=y+"."+C.g),pi(C,C.s);else{var W=c.location;C=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Y=new Ur(null);C&&wo(Y,C),y&&(Y.g=y),W&&pi(Y,W),w&&(Y.l=w),C=Y}return w=d.D,y=d.ya,w&&y&&Xe(C,w,y),Xe(C,"VER",d.la),$r(d,C),C}function Ou(d,y,w){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new st(new Br({eb:w})):new st(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qa(){}n=Qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Is(){}Is.prototype.g=function(d,y){return new Zt(d,y)};function Zt(d,y){wt.call(this),this.g=new qa(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!B(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Er(this)}S(Zt,wt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Mt(this.g)},Zt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=ka(d),d=w);y.i.push(new _u(y.Ya++,d)),y.G==3&&_r(y)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,Zt.aa.N.call(this)};function Lu(d){pr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const w in y){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(Lu,pr);function Mu(){os.call(this),this.status=1}S(Mu,os);function Er(d){this.g=d}S(Er,Qa),Er.prototype.ua=function(){It(this.g,"a")},Er.prototype.ta=function(d){It(this.g,new Lu(d))},Er.prototype.sa=function(d){It(this.g,new Mu)},Er.prototype.ra=function(){It(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,NI=function(){return new Is},kI=function(){return po()},DI=mr,Dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,qc=ls,mu.COMPLETE="complete",xI=mu,is.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Rl=is,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,bI=st}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",P_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new dm("@firebase/firestore");function Hs(){return qo.logLevel}function ce(n,...e){if(qo.logLevel<=Me.DEBUG){const t=e.map(Tm);qo.debug(`Firestore (${_a}): ${n}`,...t)}}function si(n,...e){if(qo.logLevel<=Me.ERROR){const t=e.map(Tm);qo.error(`Firestore (${_a}): ${n}`,...t)}}function ra(n,...e){if(qo.logLevel<=Me.WARN){const t=e.map(Tm);qo.warn(`Firestore (${_a}): ${n}`,...t)}}function Tm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,OI(n,r,t)}function OI(n,e,t){let r=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw si(r),new Error(r)}function qe(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||OI(e,o,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class tD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nD{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ni,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},c=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ni)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new LI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class rD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new rD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new b_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=sD(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function kp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return ke(r,o);{const a=MI(),u=aD(a.encode(x_(n,t)),a.encode(x_(e,t)));return u!==0?u:ke(r,o)}}t+=r>65535?2:1}return ke(n.length,e.length)}function x_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function aD(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function ia(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,k_=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*k_);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<D_)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new At(0,0))}static max(){return new Pe(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class Cr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Cr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return ke(e.length,t.length)}static compareSegments(e,t){const r=Cr.isNumericId(e),o=Cr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class ot extends Cr{construct(e,t,r){return new ot(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const lD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Cr{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return lD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Bt([N_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new de(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(r+=c,o++):(a(),o++)}if(a(),u)throw new de(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function uD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Ji(o,_e.empty(),e)}function cD(n){return new Ji(n.readTime,n.key,jl)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(Pe.min(),_e.empty(),jl)}static max(){return new Ji(Pe.max(),_e.empty(),jl)}}function dD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==hD)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,r)=>{t(e)})}static reject(e){return new ee((t,r)=>{r(e)})}static waitFor(e){return new ee((t,r)=>{let o=0,a=0,u=!1;e.forEach(c=>{++o,c.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=ee.resolve(!1);for(const r of e)t=t.next(o=>o?ee.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ee((r,o)=>{const a=e.length,u=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{u[p]=g,++c,c===a&&r(u)},g=>o(g))}})}static doWhile(e,t){return new ee((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function pD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function Ud(n){return n==null}function ud(n){return n===0&&1/n==-1/0}function mD(n){return typeof n=="number"&&Number.isInteger(n)&&!ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="";function gD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=O_(e)),e=vD(n.get(t),e);return O_(e)}function vD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case FI:t+="";break;default:t+=a}}return t}function O_(n){return n+FI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function so(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=o??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Ut(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M_(this.data.getIterator())}getIteratorFrom(e){return new M_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class M_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Rt(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BI("Invalid base64 string: "+a):a}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const yD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=yD.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?$t.fromBase64String(n):$t.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="server_timestamp",$I="__type__",zI="__previous_value__",WI="__local_write_time__";function Cm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$I])===null||t===void 0?void 0:t.stringValue)===jI}function Bd(n){const e=n.mapValue.fields[zI];return Cm(e)?Bd(e):e}function $l(n){const e=Xi(n.mapValue.fields[WI].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,r,o,a,u,c,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p}}const cd="(default)";class zl{constructor(e,t){this.projectId=e,this.database=t||cd}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===cd}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="__type__",ED="__max__",Oc={mapValue:{}},GI="__vector__",dd="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Cm(n)?4:ID(n)?9007199254740991:wD(n)?10:11:Se(28295,{value:n})}function xr(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Xi(o.timestampValue),c=Xi(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Zi(o.bytesValue).isEqual(Zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return mt(o.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return mt(o.integerValue)===mt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=mt(o.doubleValue),c=mt(a.doubleValue);return u===c?ud(u)===ud(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return ia(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},c=a.mapValue.fields||{};if(L_(u)!==L_(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!xr(u[f],c[f])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function Wl(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function oa(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(a,u){const c=mt(a.integerValue||a.doubleValue),f=mt(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return V_(n.timestampValue,e.timestampValue);case 4:return V_($l(n),$l(e));case 5:return kp(n.stringValue,e.stringValue);case 6:return function(a,u){const c=Zi(a),f=Zi(u);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),f=u.split("/");for(let p=0;p<c.length&&p<f.length;p++){const g=ke(c[p],f[p]);if(g!==0)return g}return ke(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const c=ke(mt(a.latitude),mt(u.latitude));return c!==0?c:ke(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return F_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var c,f,p,g;const v=a.fields||{},E=u.fields||{},I=(c=v[dd])===null||c===void 0?void 0:c.arrayValue,S=(f=E[dd])===null||f===void 0?void 0:f.arrayValue,x=ke(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return x!==0?x:F_(I,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Oc.mapValue&&u===Oc.mapValue)return 0;if(a===Oc.mapValue)return 1;if(u===Oc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let v=0;v<f.length&&v<g.length;++v){const E=kp(f[v],g[v]);if(E!==0)return E;const I=oa(c[f[v]],p[g[v]]);if(I!==0)return I}return ke(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function V_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Xi(n),r=Xi(e),o=ke(t.seconds,r.seconds);return o!==0?o:ke(t.nanos,r.nanos)}function F_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=oa(t[o],r[o]);if(a)return a}return ke(t.length,r.length)}function sa(n){return Np(n)}function Np(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Np(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${Np(t.fields[u])}`;return o+"}"}(n.mapValue):Se(61005,{value:n})}function Kc(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(n);return e?16+Kc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Kc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return so(r.fields,(a,u)=>{o+=a.length+Kc(u)}),o}(n.mapValue);default:throw Se(13486,{value:n})}}function U_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Op(n){return!!n&&"integerValue"in n}function Am(n){return!!n&&"arrayValue"in n}function B_(n){return!!n&&"nullValue"in n}function j_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qc(n){return!!n&&"mapValue"in n}function wD(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[HI])===null||t===void 0?void 0:t.stringValue)===GI}function kl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return so(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ID(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ED}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(t)}setAll(e){let t=Bt.emptyPath(),r={},o=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=c.popLast()}u?r[c.lastSegment()]=kl(u):o.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){so(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new pn(kl(this.value))}}function qI(n){const e=[];return so(n.fields,(t,r)=>{const o=new Bt([t]);if(Qc(r)){const a=qI(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,r,o,a,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Qt(e,0,Pe.min(),Pe.min(),Pe.min(),pn.empty(),0)}static newFoundDocument(e,t,r,o){return new Qt(e,1,t,Pe.min(),r,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Pe.min(),Pe.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Pe.min(),Pe.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t){this.position=e,this.inclusive=t}}function $_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=oa(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function z_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t="asc"){this.field=e,this.dir=t}}function TD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{}class _t extends KI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new CD(e,t,r):t==="array-contains"?new PD(e,r):t==="in"?new bD(e,r):t==="not-in"?new xD(e,r):t==="array-contains-any"?new DD(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new AD(e,r):new RD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(oa(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends KI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new hr(e,t)}matches(e){return QI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function QI(n){return n.op==="and"}function YI(n){return SD(n)&&QI(n)}function SD(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function Lp(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+sa(n.value);if(YI(n))return n.filters.map(e=>Lp(e)).join(",");{const e=n.filters.map(t=>Lp(t)).join(",");return`${n.op}(${e})`}}function JI(n,e){return n instanceof _t?function(r,o){return o instanceof _t&&r.op===o.op&&r.field.isEqual(o.field)&&xr(r.value,o.value)}(n,e):n instanceof hr?function(r,o){return o instanceof hr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,c)=>a&&JI(u,o.filters[c]),!0):!1}(n,e):void Se(19439)}function XI(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${sa(t.value)}`}(n):n instanceof hr?function(t){return t.op.toString()+" {"+t.getFilters().map(XI).join(" ,")+"}"}(n):"Filter"}class CD extends _t{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class AD extends _t{constructor(e,t){super(e,"in",t),this.keys=ZI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class RD extends _t{constructor(e,t){super(e,"not-in",t),this.keys=ZI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class PD extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Am(t)&&Wl(t.arrayValue,this.value)}}class bD extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}}class xD extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Wl(this.value.arrayValue,t)}}class DD extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Am(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t=null,r=[],o=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=c,this.Ie=null}}function W_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new kD(n,e,t,r,o,a,u)}function Rm(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Lp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sa(r)).join(",")),e.Ie=t}return e.Ie}function Pm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!TD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!z_(n.startAt,e.startAt)&&z_(n.endAt,e.endAt)}function Mp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t=null,r=[],o=[],a=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ND(n,e,t,r,o,a,u,c){return new Ia(n,e,t,r,o,a,u,c)}function jd(n){return new Ia(n)}function H_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eT(n){return n.collectionGroup!==null}function Nl(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Rt(Bt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new Hl(a,r))}),t.has(Bt.keyField().canonicalString())||e.Ee.push(new Hl(Bt.keyField(),r))}return e.Ee}function Pr(n){const e=xe(n);return e.de||(e.de=OD(e,Nl(n))),e.de}function OD(n,e){if(n.limitType==="F")return W_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Hl(o.field,a)});const t=n.endAt?new hd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new hd(n.startAt.position,n.startAt.inclusive):null;return W_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Vp(n,e){const t=n.filters.concat([e]);return new Ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fp(n,e,t){return new Ia(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $d(n,e){return Pm(Pr(n),Pr(e))&&n.limitType===e.limitType}function tT(n){return`${Rm(Pr(n))}|lt:${n.limitType}`}function Gs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>XI(o)).join(", ")}]`),Ud(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>sa(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>sa(o)).join(",")),`Target(${r})`}(Pr(n))}; limitType=${n.limitType})`}function zd(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):_e.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Nl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,c,f){const p=$_(u,c,f);return u.inclusive?p<=0:p<0}(r.startAt,Nl(r),o)||r.endAt&&!function(u,c,f){const p=$_(u,c,f);return u.inclusive?p>=0:p>0}(r.endAt,Nl(r),o))}(n,e)}function LD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nT(n){return(e,t)=>{let r=!1;for(const o of Nl(n)){const a=MD(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function MD(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,u,c){const f=u.data.field(a),p=c.data.field(a);return f!==null&&p!==null?oa(f,p):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){so(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return UI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new dt(_e.comparator);function ai(){return VD}const rT=new dt(_e.comparator);function Pl(...n){let e=rT;for(const t of n)e=e.insert(t.key,t);return e}function iT(n){let e=rT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $o(){return Ol()}function oT(){return Ol()}function Ol(){return new Jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const FD=new dt(_e.comparator),UD=new Rt(_e.comparator);function Ve(...n){let e=UD;for(const t of n)e=e.add(t);return e}const BD=new Rt(ke);function jD(){return BD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function sT(n){return{integerValue:""+n}}function $D(n,e){return mD(e)?sT(e):bm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(){this._=void 0}}function zD(n,e,t){return n instanceof fd?function(o,a){const u={fields:{[$I]:{stringValue:jI},[WI]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Cm(a)&&(a=Bd(a)),a&&(u.fields[zI]=a),{mapValue:u}}(t,e):n instanceof Gl?lT(n,e):n instanceof ql?uT(n,e):function(o,a){const u=aT(o,a),c=G_(u)+G_(o.Re);return Op(u)&&Op(o.Re)?sT(c):bm(o.serializer,c)}(n,e)}function WD(n,e,t){return n instanceof Gl?lT(n,e):n instanceof ql?uT(n,e):t}function aT(n,e){return n instanceof pd?function(r){return Op(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class fd extends Wd{}class Gl extends Wd{constructor(e){super(),this.elements=e}}function lT(n,e){const t=cT(e);for(const r of n.elements)t.some(o=>xr(o,r))||t.push(r);return{arrayValue:{values:t}}}class ql extends Wd{constructor(e){super(),this.elements=e}}function uT(n,e){let t=cT(e);for(const r of n.elements)t=t.filter(o=>!xr(o,r));return{arrayValue:{values:t}}}class pd extends Wd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function G_(n){return mt(n.integerValue||n.doubleValue)}function cT(n){return Am(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function HD(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Gl&&o instanceof Gl||r instanceof ql&&o instanceof ql?ia(r.elements,o.elements,xr):r instanceof pd&&o instanceof pd?xr(r.Re,o.Re):r instanceof fd&&o instanceof fd}(n.transform,e.transform)}class GD{constructor(e,t){this.version=e,this.transformResults=t}}class Hn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Hd{}function dT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new xm(n.key,Hn.none()):new lu(n.key,n.data,Hn.none());{const t=n.data,r=pn.empty();let o=new Rt(Bt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new ao(n.key,r,new Cn(o.toArray()),Hn.none())}}function qD(n,e,t){n instanceof lu?function(o,a,u){const c=o.value.clone(),f=K_(o.fieldTransforms,a,u.transformResults);c.setAll(f),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ao?function(o,a,u){if(!Yc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const c=K_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(hT(o)),f.setAll(c),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ll(n,e,t,r){return n instanceof lu?function(a,u,c,f){if(!Yc(a.precondition,u))return c;const p=a.value.clone(),g=Q_(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof ao?function(a,u,c,f){if(!Yc(a.precondition,u))return c;const p=Q_(a.fieldTransforms,f,u),g=u.data;return g.setAll(hT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,u,c){return Yc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function KD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=aT(r.transform,o||null);a!=null&&(t===null&&(t=pn.empty()),t.set(r.field,a))}return t||null}function q_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ia(r,o,(a,u)=>HD(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends Hd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ao extends Hd{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function K_(n,e,t){const r=new Map;qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,c=e.data.field(a.field);r.set(a.field,WD(u,c,t[o]))}return r}function Q_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,zD(a,u,e))}return r}class xm extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QD extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&qD(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=oT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=t.has(o.key)?null:c;const f=dT(u,c);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,(t,r)=>q_(t,r))&&ia(this.baseMutations,e.baseMutations,(t,r)=>q_(t,r))}}class Dm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){qe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let o=function(){return FD}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Dm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,je;function ZD(n){switch(n){case X.OK:return Se(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function fT(n){if(n===void 0)return si("GRPC error has no .code"),X.UNKNOWN;switch(n){case yt.OK:return X.OK;case yt.CANCELLED:return X.CANCELLED;case yt.UNKNOWN:return X.UNKNOWN;case yt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case yt.INTERNAL:return X.INTERNAL;case yt.UNAVAILABLE:return X.UNAVAILABLE;case yt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case yt.NOT_FOUND:return X.NOT_FOUND;case yt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case yt.ABORTED:return X.ABORTED;case yt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case yt.DATA_LOSS:return X.DATA_LOSS;default:return Se(39323,{code:n})}}(je=yt||(yt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=new Gi([4294967295,4294967295],0);function Y_(n){const e=MI().encode(n),t=new PI;return t.update(e),new Uint8Array(t.digest())}function J_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Gi([t,r],0),new Gi([o,a],0)]}class km{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new bl(`Invalid padding: ${t}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new bl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gi.fromNumber(this.pe)}we(e,t,r){let o=e.add(t.multiply(Gi.fromNumber(r)));return o.compare(ek)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Y_(e),[r,o]=J_(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,o,a);if(!this.be(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new km(a,o,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.pe===0)return;const t=Y_(e),[r,o]=J_(t);for(let a=0;a<this.hashCount;a++){const u=this.we(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gd(Pe.min(),o,new dt(ke),ai(),Ve())}}class uu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uu(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t,r,o){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=o}}class pT{constructor(e,t){this.targetId=e,this.Ce=t}}class mT{constructor(e,t,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class X_{constructor(){this.Fe=0,this.Me=Z_(),this.xe=$t.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),r=Ve();return this.Me.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Se(38017,{changeType:a})}}),new uu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Z_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class tk{constructor(e){this.ze=e,this.je=new Map,this.He=ai(),this.Je=Lc(),this.Ye=Lc(),this.Ze=new dt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,r=e.Ce.count,o=this._t(t);if(o){const a=o.target;if(Mp(a))if(r===0){const u=new _e(a.path);this.tt(t,u,Qt.newNoDocument(u,Pe.min()))}else qe(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const c=this.ct(e),f=c?this.lt(c,e,u):1;if(f!==0){this.st(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,c;try{u=Zi(r).toUint8Array()}catch(f){if(f instanceof BI)return ra("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new km(u,o,a)}catch(f){return ra(f instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.ze.Pt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),o++)}),o}It(e){const t=new Map;this.je.forEach((a,u)=>{const c=this._t(u);if(c){if(a.current&&Mp(c.target)){const f=new _e(c.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Qt.newNoDocument(f,e))}a.Le&&(t.set(u,a.qe()),a.Qe())}});let r=Ve();this.Ye.forEach((a,u)=>{let c=!0;u.forEachWhile(f=>{const p=this._t(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,u)=>u.setReadTime(e));const o=new Gd(e,t,this.Ze,this.He,r);return this.He=ai(),this.Je=Lc(),this.Ye=Lc(),this.Ze=new dt(ke),o}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new X_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Rt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Rt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new X_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Lc(){return new dt(_e.comparator)}function Z_(){return new dt(_e.comparator)}const nk={asc:"ASCENDING",desc:"DESCENDING"},rk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ik={and:"AND",or:"OR"};class ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function md(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sk(n,e){return md(n,e.toTimestamp())}function br(n){return qe(!!n,49232),Pe.fromTimestamp(function(t){const r=Xi(t);return new At(r.seconds,r.nanos)}(n))}function Nm(n,e){return Bp(n,e).canonicalString()}function Bp(n,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vT(n){const e=ot.fromString(n);return qe(IT(e),10190,{key:e.toString()}),e}function jp(n,e){return Nm(n.databaseId,e.path)}function tp(n,e){const t=vT(e);if(t.get(1)!==n.databaseId.projectId)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(_T(t))}function yT(n,e){return Nm(n.databaseId,e)}function ak(n){const e=vT(n);return e.length===4?ot.emptyPath():_T(e)}function $p(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _T(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function eE(n,e,t){return{name:jp(n,e),fields:t.value.mapValue.fields}}function lk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(qe(g===void 0||typeof g=="string",58123),$t.fromBase64String(g||"")):(qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),$t.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(p){const g=p.code===void 0?X.UNKNOWN:fT(p.code);return new de(g,p.message||"")}(u);t=new mT(r,o,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=tp(n,r.document.name),a=br(r.document.updateTime),u=r.document.createTime?br(r.document.createTime):Pe.min(),c=new pn({mapValue:{fields:r.document.fields}}),f=Qt.newFoundDocument(o,a,u,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new Jc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=tp(n,r.document),a=r.readTime?br(r.readTime):Pe.min(),u=Qt.newNoDocument(o,a),c=r.removedTargetIds||[];t=new Jc([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=tp(n,r.document),a=r.removedTargetIds||[];t=new Jc([],a,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new XD(o,a),c=r.targetId;t=new pT(c,u)}}return t}function uk(n,e){let t;if(e instanceof lu)t={update:eE(n,e.key,e.value)};else if(e instanceof xm)t={delete:jp(n,e.key)};else if(e instanceof ao)t={update:eE(n,e.key,e.data),updateMask:yk(e.fieldMask)};else{if(!(e instanceof QD))return Se(16599,{ft:e.type});t={verify:jp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const c=u.transform;if(c instanceof fd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pd)return{fieldPath:u.field.canonicalString(),increment:c.Re};throw Se(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:sk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)}(n,e.precondition)),t}function ck(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?br(o.updateTime):br(a);return u.isEqual(Pe.min())&&(u=br(a)),new GD(u,o.transformResults||[])}(t,e))):[]}function dk(n,e){return{documents:[yT(n,e.path)]}}function hk(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yT(n,o);const a=function(p){if(p.length!==0)return wT(hr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:qs(E.field),direction:mk(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=Up(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:o}}function fk(n){let e=ak(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){qe(r===1,65062);const g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(v){const E=ET(v);return E instanceof hr&&YI(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(v){return v.map(E=>function(S){return new Hl(Ks(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(E))}(t.orderBy));let c=null;t.limit&&(c=function(v){let E;return E=typeof v=="object"?v.value:v,Ud(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(v){const E=!!v.before,I=v.values||[];return new hd(I,E)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const E=!v.before,I=v.values||[];return new hd(I,E)}(t.endAt)),ND(e,o,u,a,c,"F",f,p)}function pk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ET(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ks(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ks(t.unaryFilter.field);return _t.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ks(t.unaryFilter.field);return _t.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ks(t.unaryFilter.field);return _t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return _t.create(Ks(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return hr.create(t.compositeFilter.filters.map(r=>ET(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function mk(n){return nk[n]}function gk(n){return rk[n]}function vk(n){return ik[n]}function qs(n){return{fieldPath:n.canonicalString()}}function Ks(n){return Bt.fromServerFormat(n.fieldPath)}function wT(n){return n instanceof _t?function(t){if(t.op==="=="){if(j_(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NAN"}};if(B_(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(j_(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NAN"}};if(B_(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(t.field),op:gk(t.op),value:t.value}}}(n):n instanceof hr?function(t){const r=t.getFilters().map(o=>wT(o));return r.length===1?r[0]:{compositeFilter:{op:vk(t.op),filters:r}}}(n):Se(54877,{filter:n})}function yk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,t,r,o,a=Pe.min(),u=Pe.min(),c=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new $i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.wt=e}}function Ek(n){const e=fk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.yn=new Ik}addToCollectionParentIndex(e,t){return this.yn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(Ji.min())}updateCollectionGroup(e,t,r){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class Ik{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Rt(ot.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Rt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(TT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new aa(0)}static ir(){return new aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",Tk=1048576;function rE([n,e],[t,r]){const o=ke(n,t);return o===0?ke(e,r):o}class Sk{constructor(e){this.cr=e,this.buffer=new Rt(rE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ck{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ce(nE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?ce(nE,"Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.Ir(3e5)})}}class Ak{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Fd.le);const r=new Sk(t);return this.Er.forEachTarget(e,o=>r.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>r.Pr(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(tE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,o,a,u,c,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Hs()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(c-u)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:v})))}}function Rk(n,e){return new Ak(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.changes=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ee.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Ll(r.mutation,o,Cn.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const o=$o();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=Pl();return a.forEach((c,f)=>{u=u.insert(c,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=$o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,o){let a=ai();const u=Ol(),c=function(){return Ol()}();return t.forEach((f,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof ao)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Ll(g.mutation,p,g.mutation.getFieldMask(),At.now())):u.set(p.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var v;return c.set(p,new bk(g,(v=u.get(p))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Ol();let o=new dt((u,c)=>u-c),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||Cn.empty();g=c.applyToLocalView(p,g),r.set(f,g);const v=(o.get(c.batchId)||Ve()).add(f);o=o.insert(c.batchId,v)})}).next(()=>{const u=[],c=o.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,g=f.value,v=oT();g.forEach(E=>{if(!a.has(E)){const I=dT(t.get(E),r.get(E));I!==null&&v.set(E,I),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):eT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ee.resolve($o());let c=jl,f=a;return u.next(p=>ee.forEach(p,(g,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ve())).next(g=>({batchId:c,changes:iT(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let o=Pl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=Pl();return this.indexManager.getCollectionParents(e,a).next(c=>ee.forEach(c,f=>{const p=function(v,E){return new Ia(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(g=>{g.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Qt.newInvalidDocument(g)))});let c=Pl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Ll(g.mutation,p,Cn.empty(),At.now()),zd(t,p)&&(c=c.insert(f,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:br(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(o){return{name:o.name,query:Ek(o.bundledQuery),readTime:br(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.overlays=new dt(_e.comparator),this.Or=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$o();return ee.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),ee.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Or.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),ee.resolve()}getOverlaysForCollection(e,t,r){const o=$o(),a=t.length+1,u=new _e(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new dt((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=$o(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=$o(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=o)););return ee.resolve(c)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Or.get(o.largestBatchId).delete(r.key);this.Or.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new JD(t,r));let a=this.Or.get(t);a===void 0&&(a=Ve(),this.Or.set(t,a)),this.Or.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Nr=new Rt(kt.Br),this.Lr=new Rt(kt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new kt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new _e(new ot([])),r=new kt(t,e),o=new kt(t,e+1),a=[];return this.Lr.forEachInRange([r,o],u=>{this.Qr(u),a.push(u.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new _e(new ot([])),r=new kt(t,e),o=new kt(t,e+1);let a=Ve();return this.Lr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return _e.comparator(e.key,t.key)||ke(e.Gr,t.Gr)}static kr(e,t){return ke(e.Gr,t.Gr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Rt(kt.Br)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new YD(a,t,r,o);this.mutationQueue.push(u);for(const c of o)this.zr=this.zr.add(new kt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,t){return ee.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Hr(r),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Sm:this.Jn-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,o],u=>{const c=this.jr(u.Gr);a.push(c)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(ke);return t.forEach(o=>{const a=new kt(o,0),u=new kt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,u],c=>{r=r.add(c.Gr)})}),ee.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;_e.isDocumentKey(a)||(a=a.child(""));const u=new kt(new _e(a),0);let c=new Rt(ke);return this.zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(c=c.add(f.Gr)),!0)},u),ee.resolve(this.Jr(c))}Jr(e){const t=[];return e.forEach(r=>{const o=this.jr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return ee.forEach(t.mutations,o=>{const a=new kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new kt(t,0),o=this.zr.firstAfterOrEqual(r);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Zr=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ee.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let r=ai();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Qt.newInvalidDocument(o))}),ee.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ai();const u=t.path,c=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||dD(cD(g),r)<=0||(o.has(g.key)||zd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Se(9500)}Xr(e,t){return ee.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Mk(this)}getSize(e){return ee.resolve(this.size)}}class Mk extends Pk{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.vr.addEntry(e,o)):this.vr.removeEntry(r)}),ee.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.persistence=e,this.ei=new Jo(t=>Rm(t),Pm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.ti=0,this.ni=new Om,this.targetCount=0,this.ri=aa.rr()}forEachTarget(e,t){return this.ei.forEach((r,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),ee.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new aa(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.ar(t),ee.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ei.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ei.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return ee.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),ee.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return ee.resolve(r)}containsKey(e,t){return ee.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,t){this.ii={},this.overlays={},this.si=new Fd(0),this.oi=!1,this.oi=!0,this._i=new Nk,this.referenceDelegate=e(this),this.ai=new Vk(this),this.indexManager=new wk,this.remoteDocumentCache=function(o){return new Lk(o)}(r=>this.referenceDelegate.ui(r)),this.serializer=new _k(t),this.ci=new Dk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new Ok(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new Fk(this.si.next());return this.referenceDelegate.li(),r(o).next(a=>this.referenceDelegate.hi(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Pi(e,t){return ee.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class Fk extends fD{constructor(e){super(),this.currentSequenceNumber=e}}class Lm{constructor(e){this.persistence=e,this.Ti=new Om,this.Ii=null}static Ei(e){return new Lm(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),ee.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(o=>this.di.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.di,r=>{const o=_e.fromPath(r);return this.Ai(e,o).next(a=>{a||t.removeEntry(o,Pe.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ee.or([()=>ee.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class gd{constructor(e,t){this.persistence=e,this.Ri=new Jo(r=>gD(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=Rk(this,t)}static Ei(e,t){return new gd(e,t)}li(){}hi(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return ee.forEach(this.Ri,(r,o)=>this.gr(e,r,o).next(a=>a?ee.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Xr(e,u=>this.gr(e,u,t).next(c=>{c||(r++,a.removeEntry(u,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ee.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kc(e.data.value)),t}gr(e,t,r){return ee.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.Ri.get(t);return ee.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=o}static Ps(e,t){let r=Ve(),o=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Mm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return vR()?8:pD(Jt())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.Vs(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Uk;return this.fs(e,t,u).next(c=>{if(a.result=c,this.Is)return this.gs(e,t,u,c.size)})}).next(()=>a.result)}gs(e,t,r,o){return r.documentReadCount<this.Es?(Hs()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Gs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ee.resolve()):(Hs()<=Me.DEBUG&&ce("QueryEngine","Query:",Gs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Hs()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Gs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):ee.resolve())}Rs(e,t){if(H_(t))return ee.resolve(null);let r=Pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Fp(t,null,"F"),r=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ve(...a);return this.As.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.ps(t,c);return this.ys(t,p,u,f.readTime)?this.Rs(e,Fp(t,null,"F")):this.ws(e,p,t,f)}))})))}Vs(e,t,r,o){return H_(t)||o.isEqual(Pe.min())?ee.resolve(null):this.As.getDocuments(e,r).next(a=>{const u=this.ps(t,a);return this.ys(t,u,r,o)?ee.resolve(null):(Hs()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Gs(t)),this.ws(e,u,t,uD(o,jl)).next(c=>c))})}ps(e,t){let r=new Rt(nT(e));return t.forEach((o,a)=>{zd(e,a)&&(r=r.add(a))}),r}ys(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}fs(e,t,r){return Hs()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Gs(t)),this.As.getDocumentsMatchingQuery(e,t,Ji.min(),r)}ws(e,t,r,o){return this.As.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="LocalStore",jk=3e8;class $k{constructor(e,t,r,o){this.persistence=e,this.bs=t,this.serializer=o,this.Ss=new dt(ke),this.Ds=new Jo(a=>Rm(a),Pm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xk(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function zk(n,e,t,r){return new $k(n,e,t,r)}async function CT(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],c=[];let f=Ve();for(const p of o){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:c}))})})}function Wk(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Cs.newChangeBuffer({trackRemovals:!0});return function(c,f,p,g){const v=p.batch,E=v.keys();let I=ee.resolve();return E.forEach(S=>{I=I.next(()=>g.getEntry(f,S)).next(x=>{const R=p.docVersions.get(S);qe(R!==null,48541),x.version.compareTo(R)<0&&(v.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Ve();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function AT(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function Hk(n,e){const t=xe(n),r=e.snapshotVersion;let o=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Cs.newChangeBuffer({trackRemovals:!0});o=t.Ss;const c=[];e.targetChanges.forEach((g,v)=>{const E=o.get(v);if(!E)return;c.push(t.ai.removeMatchingKeys(a,g.removedDocuments,v).next(()=>t.ai.addMatchingKeys(a,g.addedDocuments,v)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken($t.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),o=o.insert(v,I),function(x,R,k){return x.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=jk?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(E,I,g)&&c.push(t.ai.updateTargetData(a,I))});let f=ai(),p=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(Gk(a,u,e.documentUpdates).next(g=>{f=g.xs,p=g.Os})),!r.isEqual(Pe.min())){const g=t.ai.getLastRemoteSnapshotVersion(a).next(v=>t.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ee.waitFor(c).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ss=o,a))}function Gk(n,e,t){let r=Ve(),o=Ve();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ai();return t.forEach((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(c)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):ce(Vm,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)}),{xs:u,Os:o}})}function qk(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kk(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ai.getTargetData(r,e).next(a=>a?(o=a,ee.resolve(o)):t.ai.allocateTargetId(r).next(u=>(o=new $i(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ss.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function zp(n,e,t){const r=xe(n),o=r.Ss.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!wa(u))throw u;ce(Vm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(o.target)}function iE(n,e,t){const r=xe(n);let o=Pe.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const v=xe(f),E=v.Ds.get(g);return E!==void 0?ee.resolve(v.Ss.get(E)):v.ai.getTargetData(p,g)}(r,u,Pr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,c.targetId).next(f=>{a=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,t?o:Pe.min(),t?a:Ve())).next(c=>(Qk(r,LD(e),c),{documents:c,Ns:a})))}function Qk(n,e,t){let r=n.vs.get(e)||Pe.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.vs.set(e,r)}class oE{constructor(){this.activeTargetIds=jD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yk{constructor(){this.So=new oE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new oE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class aE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ce(sE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ce(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Wp(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",Xk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zk{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${o}`,this.qo=this.databaseId.database===cd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Qo(e,t,r,o,a){const u=Wp(),c=this.$o(e,t.toUriEncodedString());ce(np,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,o,a),this.Ko(e,c,f,r).then(p=>(ce(np,`Received RPC '${e}' ${u}: `,p),p),p=>{throw ra(np,`RPC '${e}' ${u} failed with error: `,p,"url: ",c,"request:",r),p})}Wo(e,t,r,o,a,u){return this.Qo(e,t,r,o,a)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}$o(e,t){const r=Xk[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class t1 extends Zk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,o){const a=Wp();return new Promise((u,c)=>{const f=new bI;f.setWithCredentials(!0),f.listenOnce(xI.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case qc.NO_ERROR:const g=f.getResponseJson();ce(qt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case qc.TIMEOUT:ce(qt,`RPC '${e}' ${a} timed out`),c(new de(X.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const v=f.getStatus();if(ce(qt,`RPC '${e}' ${a} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const I=E==null?void 0:E.error;if(I&&I.status&&I.message){const S=function(R){const k=R.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(k)>=0?k:X.UNKNOWN}(I.status);c(new de(S,I.message))}else c(new de(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new de(X.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:a,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ce(qt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);ce(qt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",p,r,15)})}a_(e,t,r){const o=Wp(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=NI(),c=kI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(qt,`Creating RPC '${e}' stream ${o}: ${g}`,f);const v=u.createWebChannel(g,f);let E=!1,I=!1;const S=new e1({Go:R=>{I?ce(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(E||(ce(qt,`Opening RPC '${e}' stream ${o} transport.`),v.open(),E=!0),ce(qt,`RPC '${e}' stream ${o} sending:`,R),v.send(R))},zo:()=>v.close()}),x=(R,k,B)=>{R.listen(k,V=>{try{B(V)}catch(q){setTimeout(()=>{throw q},0)}})};return x(v,Rl.EventType.OPEN,()=>{I||(ce(qt,`RPC '${e}' stream ${o} transport opened.`),S.t_())}),x(v,Rl.EventType.CLOSE,()=>{I||(I=!0,ce(qt,`RPC '${e}' stream ${o} transport closed`),S.r_())}),x(v,Rl.EventType.ERROR,R=>{I||(I=!0,ra(qt,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),S.r_(new de(X.UNAVAILABLE,"The operation could not be completed")))}),x(v,Rl.EventType.MESSAGE,R=>{var k;if(!I){const B=R.data[0];qe(!!B,16349);const V=B,q=(V==null?void 0:V.error)||((k=V[0])===null||k===void 0?void 0:k.error);if(q){ce(qt,`RPC '${e}' stream ${o} received error:`,q);const G=q.status;let Z=function(b){const O=yt[b];if(O!==void 0)return fT(O)}(G),N=q.message;Z===void 0&&(Z=X.INTERNAL,N="Unknown error status: "+G+" with message "+q.message),I=!0,S.r_(new de(Z,N)),v.close()}else ce(qt,`RPC '${e}' stream ${o} received:`,B),S.i_(B)}}),x(c,DI.STAT_EVENT,R=>{R.stat===Dp.PROXY?ce(qt,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===Dp.NOPROXY&&ce(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n){return new ok(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t,r=1e3,o=1.5,a=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=o,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class PT{constructor(e,t,r,o,a,u,c,f){this.bi=e,this.R_=r,this.V_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new RT(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(si(t.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.m_===t&&this.B_(r,o)},r=>{e(()=>{const o=new de(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(o)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{r(()=>this.L_(o))}),this.stream.onMessage(o=>{r(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ce(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(ce(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n1 extends PT{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=lk(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?br(u.readTime):Pe.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=$p(this.serializer),t.addTarget=function(a,u){let c;const f=u.target;if(c=Mp(f)?{documents:dk(a,f)}:{query:hk(a,f).gt},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=gT(a,u.resumeToken);const p=Up(a,u.expectedCount);p!==null&&(c.expectedCount=p)}else if(u.snapshotVersion.compareTo(Pe.min())>0){c.readTime=md(a,u.snapshotVersion.toTimestamp());const p=Up(a,u.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=pk(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=$p(this.serializer),t.removeTarget=e,this.F_(t)}}class r1 extends PT{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=ck(e.writeResults,e.commitTime),r=br(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=$p(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>uk(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class o1 extends i1{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Qo(e,Bp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new de(X.UNKNOWN,a.toString())})}Wo(e,t,r,o,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Wo(e,Bp(t,r),o,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(X.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class s1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(si(t),this.ea=!1):ce("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="RemoteStore";class a1{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Xo(this)&&(ce(Ko,"Restarting streams for network reachability change."),await async function(f){const p=xe(f);p.aa.add(4),await cu(p),p.la.set("Unknown"),p.aa.delete(4),await Kd(p)}(this))})}),this.la=new s1(r,o)}}async function Kd(n){if(Xo(n))for(const e of n.ua)await e(!0)}async function cu(n){for(const e of n.ua)await e(!1)}function bT(n,e){const t=xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),jm(t)?Bm(t):Ta(t).b_()&&Um(t,e))}function Fm(n,e){const t=xe(n),r=Ta(t);t._a.delete(e),r.b_()&&xT(t,e),t._a.size===0&&(r.b_()?r.v_():Xo(t)&&t.la.set("Unknown"))}function Um(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ta(n).U_(e)}function xT(n,e){n.ha.Ke(e),Ta(n).K_(e)}function Bm(n){n.ha=new tk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ta(n).start(),n.la.ta()}function jm(n){return Xo(n)&&!Ta(n).w_()&&n._a.size>0}function Xo(n){return xe(n).aa.size===0}function DT(n){n.ha=void 0}async function l1(n){n.la.set("Online")}async function u1(n){n._a.forEach((e,t)=>{Um(n,e)})}async function c1(n,e){DT(n),jm(n)?(n.la.ia(e),Bm(n)):n.la.set("Unknown")}async function d1(n,e,t){if(n.la.set("Online"),e instanceof mT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const c of a.targetIds)o._a.has(c)&&(await o.remoteSyncer.rejectListen(c,u),o._a.delete(c),o.ha.removeTarget(c))}(n,e)}catch(r){ce(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vd(n,r)}else if(e instanceof Jc?n.ha.Xe(e):e instanceof pT?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Pe.min()))try{const r=await AT(n.localStore);t.compareTo(r)>=0&&await function(a,u){const c=a.ha.It(u);return c.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a._a.get(p);g&&a._a.set(p,g.withResumeToken(f.resumeToken,u))}}),c.targetMismatches.forEach((f,p)=>{const g=a._a.get(f);if(!g)return;a._a.set(f,g.withResumeToken($t.EMPTY_BYTE_STRING,g.snapshotVersion)),xT(a,f);const v=new $i(g.target,f,p,g.sequenceNumber);Um(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ce(Ko,"Failed to raise snapshot:",r),await vd(n,r)}}async function vd(n,e,t){if(!wa(e))throw e;n.aa.add(1),await cu(n),n.la.set("Offline"),t||(t=()=>AT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Ko,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Kd(n)})}function kT(n,e){return e().catch(t=>vd(n,t,e))}async function Qd(n){const e=xe(n),t=to(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Sm;for(;h1(e);)try{const o=await qk(e.localStore,r);if(o===null){e.oa.length===0&&t.v_();break}r=o.batchId,f1(e,o)}catch(o){await vd(e,o)}NT(e)&&OT(e)}function h1(n){return Xo(n)&&n.oa.length<10}function f1(n,e){n.oa.push(e);const t=to(n);t.b_()&&t.W_&&t.G_(e.mutations)}function NT(n){return Xo(n)&&!to(n).w_()&&n.oa.length>0}function OT(n){to(n).start()}async function p1(n){to(n).H_()}async function m1(n){const e=to(n);for(const t of n.oa)e.G_(t.mutations)}async function g1(n,e,t){const r=n.oa.shift(),o=Dm.from(r,e,t);await kT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Qd(n)}async function v1(n,e){e&&to(n).W_&&await async function(r,o){if(function(u){return ZD(u)&&u!==X.ABORTED}(o.code)){const a=r.oa.shift();to(r).D_(),await kT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Qd(r)}}(n,e),NT(n)&&OT(n)}async function uE(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),ce(Ko,"RemoteStore received new credentials");const r=Xo(t);t.aa.add(3),await cu(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Kd(t)}async function y1(n,e){const t=xe(n);e?(t.aa.delete(2),await Kd(t)):e||(t.aa.add(2),await cu(t),t.la.set("Unknown"))}function Ta(n){return n.Pa||(n.Pa=function(t,r,o){const a=xe(t);return a.Y_(),new n1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:l1.bind(null,n),Jo:u1.bind(null,n),Zo:c1.bind(null,n),Q_:d1.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),jm(n)?Bm(n):n.la.set("Unknown")):(await n.Pa.stop(),DT(n))})),n.Pa}function to(n){return n.Ta||(n.Ta=function(t,r,o){const a=xe(t);return a.Y_(),new r1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:p1.bind(null,n),Zo:v1.bind(null,n),z_:m1.bind(null,n),j_:g1.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Qd(n)):(await n.Ta.stop(),n.oa.length>0&&(ce(Ko,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,c=new $m(e,t,u,o,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(n,e){if(si("AsyncQueue",`${e}: ${n}`),wa(n))return new de(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Pl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Ia=new dt(_e.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class la{constructor(e,t,r,o,a,u,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new la(e,t,Zs.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class E1{constructor(){this.queries=dE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const o=xe(t),a=o.queries;o.queries=dE(),a.forEach((u,c)=>{for(const f of c.Ra)f.onError(r)})})(this,new de(X.ABORTED,"Firestore shutting down"))}}function dE(){return new Jo(n=>tT(n),$d)}async function Wm(n,e){const t=xe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Va()&&e.ma()&&(r=2):(a=new _1,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await t.onListen(o,!0);break;case 1:a.Aa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const c=zm(u,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,a),a.Ra.push(e),e.ga(t.onlineState),a.Aa&&e.pa(a.Aa)&&Gm(t)}async function Hm(n,e){const t=xe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Ra.indexOf(e);u>=0&&(a.Ra.splice(u,1),a.Ra.length===0?o=e.ma()?0:1:!a.Va()&&e.ma()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function w1(n,e){const t=xe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const c of u.Ra)c.pa(o)&&(r=!0);u.Aa=o}}r&&Gm(t)}function I1(n,e,t){const r=xe(n),o=r.queries.get(e);if(o)for(const a of o.Ra)a.onError(t);r.queries.delete(e)}function Gm(n){n.fa.forEach(e=>{e.next()})}var Hp,hE;(hE=Hp||(Hp={})).ya="default",hE.Cache="cache";class qm{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new la(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=la.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class MT{constructor(e){this.key=e}}class T1{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ve(),this.mutatedKeys=Ve(),this.Ua=nT(e),this.Ka=new Zs(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new cE,o=t?t.Ka:this.Ka;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,c=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((g,v)=>{const E=o.get(g),I=zd(this.query,v)?v:null,S=!!E&&this.mutatedKeys.has(E.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;E&&I?E.data.isEqual(I.data)?S!==x&&(r.track({type:3,doc:I}),R=!0):this.ja(E,I)||(r.track({type:2,doc:I}),R=!0,(f&&this.Ua(I,f)>0||p&&this.Ua(I,p)<0)&&(c=!0)):!E&&I?(r.track({type:0,doc:I}),R=!0):E&&!I&&(r.track({type:1,doc:E}),R=!0,(f||p)&&(c=!0)),R&&(I?(u=u.add(I),a=x?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{Ka:u,za:r,ys:c,mutatedKeys:a}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,v)=>function(I,S){const x=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:R})}};return x(I)-x(S)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(r),o=o!=null&&o;const c=t&&!o?this.Ja():[],f=this.$a.size===0&&this.current&&!o?1:0,p=f!==this.Qa;return this.Qa=f,u.length!==0||p?{snapshot:new la(this.query,e.Ka,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new cE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ve(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new MT(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new LT(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Ve();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return la.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Km="SyncEngine";class S1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class C1{constructor(e){this.key=e,this.tu=!1}}class A1{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Jo(c=>tT(c),$d),this.iu=new Map,this.su=new Set,this.ou=new dt(_e.comparator),this._u=new Map,this.au=new Om,this.uu={},this.cu=new Map,this.lu=aa.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function R1(n,e,t=!0){const r=$T(n);let o;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.eu()):o=await VT(r,e,t,!0),o}async function P1(n,e){const t=$T(n);await VT(t,e,!0,!1)}async function VT(n,e,t,r){const o=await Kk(n.localStore,Pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await b1(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&bT(n.remoteStore,o),c}async function b1(n,e,t,r,o){n.Pu=(v,E,I)=>async function(x,R,k,B){let V=R.view.Ga(k);V.ys&&(V=await iE(x.localStore,R.query,!1).then(({documents:N})=>R.view.Ga(N,V)));const q=B&&B.targetChanges.get(R.targetId),G=B&&B.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(V,x.isPrimaryClient,q,G);return pE(x,R.targetId,Z.Ya),Z.snapshot}(n,v,E,I);const a=await iE(n.localStore,e,!0),u=new T1(e,a.Ns),c=u.Ga(a.documents),f=uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(c,n.isPrimaryClient,f);pE(n,t,p.Ya);const g=new S1(e,t,u);return n.ru.set(e,g),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function x1(n,e,t){const r=xe(n),o=r.ru.get(e),a=r.iu.get(o.targetId);if(a.length>1)return r.iu.set(o.targetId,a.filter(u=>!$d(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await zp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Fm(r.remoteStore,o.targetId),Gp(r,o.targetId)}).catch(Ea)):(Gp(r,o.targetId),await zp(r.localStore,o.targetId,!0))}async function D1(n,e){const t=xe(n),r=t.ru.get(e),o=t.iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Fm(t.remoteStore,r.targetId))}async function k1(n,e,t){const r=U1(n);try{const o=await function(u,c){const f=xe(u),p=At.now(),g=c.reduce((I,S)=>I.add(S.key),Ve());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=ai(),x=Ve();return f.Cs.getEntries(I,g).next(R=>{S=R,S.forEach((k,B)=>{B.isValidDocument()||(x=x.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,S)).next(R=>{v=R;const k=[];for(const B of c){const V=KD(B,v.get(B.key).overlayedDocument);V!=null&&k.push(new ao(B.key,V,qI(V.value.mapValue),Hn.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,k,c)}).next(R=>{E=R;const k=R.applyToLocalDocumentSet(v,x);return f.documentOverlayCache.saveOverlays(I,R.batchId,k)})}).then(()=>({batchId:E.batchId,changes:iT(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,c,f){let p=u.uu[u.currentUser.toKey()];p||(p=new dt(ke)),p=p.insert(c,f),u.uu[u.currentUser.toKey()]=p}(r,o.batchId,t),await du(r,o.changes),await Qd(r.remoteStore)}catch(o){const a=zm(o,"Failed to persist write");t.reject(a)}}async function FT(n,e){const t=xe(n);try{const r=await Hk(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t._u.get(a);u&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.tu=!0:o.modifiedDocuments.size>0?qe(u.tu,14607):o.removedDocuments.size>0&&(qe(u.tu,42227),u.tu=!1))}),await du(t,r,e)}catch(r){await Ea(r)}}function fE(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ru.forEach((a,u)=>{const c=u.view.ga(e);c.snapshot&&o.push(c.snapshot)}),function(u,c){const f=xe(u);f.onlineState=c;let p=!1;f.queries.forEach((g,v)=>{for(const E of v.Ra)E.ga(c)&&(p=!0)}),p&&Gm(f)}(r.eventManager,e),o.length&&r.nu.Q_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N1(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r._u.get(e),a=o&&o.key;if(a){let u=new dt(_e.comparator);u=u.insert(a,Qt.newNoDocument(a,Pe.min()));const c=Ve().add(a),f=new Gd(Pe.min(),new Map,new dt(ke),u,c);await FT(r,f),r.ou=r.ou.remove(a),r._u.delete(e),Qm(r)}else await zp(r.localStore,e,!1).then(()=>Gp(r,e,t)).catch(Ea)}async function O1(n,e){const t=xe(n),r=e.batch.batchId;try{const o=await Wk(t.localStore,e);BT(t,r,null),UT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await du(t,o)}catch(o){await Ea(o)}}async function L1(n,e,t){const r=xe(n);try{const o=await function(u,c){const f=xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,c).next(v=>(qe(v!==null,37113),g=v.keys(),f.mutationQueue.removeMutationBatch(p,v))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);BT(r,e,t),UT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await du(r,o)}catch(o){await Ea(o)}}function UT(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function BT(n,e,t){const r=xe(n);let o=r.uu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.uu[r.currentUser.toKey()]=o}}function Gp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||jT(n,r)})}function jT(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Fm(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Qm(n))}function pE(n,e,t){for(const r of t)r instanceof LT?(n.au.addReference(r.key,e),M1(n,r)):r instanceof MT?(ce(Km,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||jT(n,r.key)):Se(19791,{Iu:r})}function M1(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(ce(Km,"New document in limbo: "+t),n.su.add(r),Qm(n))}function Qm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new _e(ot.fromString(e)),r=n.lu.next();n._u.set(r,new C1(t)),n.ou=n.ou.insert(t,r),bT(n.remoteStore,new $i(Pr(jd(t.path)),r,"TargetPurposeLimboResolution",Fd.le))}}async function du(n,e,t){const r=xe(n),o=[],a=[],u=[];r.ru.isEmpty()||(r.ru.forEach((c,f)=>{u.push(r.Pu(f,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Mm.Ps(f.targetId,p);a.push(v)}}))}),await Promise.all(u),r.nu.Q_(o),await async function(f,p){const g=xe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ee.forEach(p,E=>ee.forEach(E.ls,I=>g.persistence.referenceDelegate.addReference(v,E.targetId,I)).next(()=>ee.forEach(E.hs,I=>g.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))}catch(v){if(!wa(v))throw v;ce(Vm,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=g.Ss.get(E),S=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(S);g.Ss=g.Ss.insert(E,x)}}}(r.localStore,a))}async function V1(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){ce(Km,"User change. New user:",e.toKey());const r=await CT(t.localStore,e);t.currentUser=e,function(a,u){a.cu.forEach(c=>{c.forEach(f=>{f.reject(new de(X.CANCELLED,u))})}),a.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(t,r.Ms)}}function F1(n,e){const t=xe(n),r=t._u.get(e);if(r&&r.tu)return Ve().add(r.key);{let o=Ve();const a=t.iu.get(e);if(!a)return o;for(const u of a){const c=t.ru.get(u);o=o.unionWith(c.view.Wa)}return o}}function $T(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N1.bind(null,e),e.nu.Q_=w1.bind(null,e.eventManager),e.nu.Tu=I1.bind(null,e.eventManager),e}function U1(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L1.bind(null,e),e}class yd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return zk(this.persistence,new Bk,e.initialUser,this.serializer)}Ru(e){return new ST(Lm.Ei,this.serializer)}Au(e){return new Yk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yd.provider={build:()=>new yd};class B1 extends yd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){qe(this.persistence.referenceDelegate instanceof gd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ck(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ST(r=>gd.Ei(r,t),this.serializer)}}class qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=V1.bind(null,this.syncEngine),await y1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new E1}()}createDatastore(e){const t=qd(e.databaseInfo.databaseId),r=function(a){return new t1(a)}(e.databaseInfo);return function(a,u,c,f){return new o1(a,u,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,c){return new a1(r,o,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>fE(this.syncEngine,t,0),function(){return aE.C()?new aE:new Jk}())}createSyncEngine(e,t){return function(o,a,u,c,f,p,g){const v=new A1(o,a,u,c,f,p);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=xe(o);ce(Ko,"RemoteStore shutting down."),a.aa.add(5),await cu(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}qp.provider={build:()=>new qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):si("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class j1{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=VI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=zm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),ce(no,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await CT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $1(n);ce(no,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>uE(e.remoteStore,o)),n._onlineComponents=e}async function $1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(no,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ra("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new yd)}}else ce(no,"Using default OfflineComponentProvider"),await ip(n,new B1(void 0));return n._offlineComponents}async function zT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(no,"Using user provided OnlineComponentProvider"),await mE(n,n._uninitializedComponentsProvider._online)):(ce(no,"Using default OnlineComponentProvider"),await mE(n,new qp))),n._onlineComponents}function z1(n){return zT(n).then(e=>e.syncEngine)}async function _d(n){const e=await zT(n),t=e.eventManager;return t.onListen=R1.bind(null,e.syncEngine),t.onUnlisten=x1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=D1.bind(null,e.syncEngine),t}function W1(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,c,f,p){const g=new Ym({next:E=>{g.yu(),u.enqueueAndForget(()=>Hm(a,v));const I=E.docs.has(c);!I&&E.fromCache?p.reject(new de(X.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new de(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new qm(jd(c.path),g,{includeMetadataChanges:!0,Fa:!0});return Wm(a,v)}(await _d(n),n.asyncQueue,e,t,r)),r.promise}function H1(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,c,f,p){const g=new Ym({next:E=>{g.yu(),u.enqueueAndForget(()=>Hm(a,v)),E.fromCache&&f.source==="server"?p.reject(new de(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new qm(c,g,{includeMetadataChanges:!0,Fa:!0});return Wm(a,v)}(await _d(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e,t){if(!t)throw new de(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function G1(n,e,t,r){if(e===!0&&r===!0)throw new de(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vE(n){if(!_e.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yE(n){if(_e.isDocumentKey(n))throw new de(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Yd(n);throw new de(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",_E=!0;class EE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=_E}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_E;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tk)throw new de(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eD;switch(r.type){case"firstParty":return new iD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=gE.get(t);r&&(ce("ComponentProvider","Removing Datastore"),gE.delete(t),r.terminate())}(this),Promise.resolve()}}function q1(n,e,t,r={}){var o;const a=(n=mn(n,Jd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;a.host!==GT&&a.host!==c&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!zo(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Kt.MOCK_USER;else{p=cR(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new de(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Kt(v)}n._authCredentials=new tD(new LI(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class qi extends lo{constructor(e,t,r){super(e,t,jd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new _e(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function Kp(n,e,...t){if(n=Et(n),HT("collection","path",e),n instanceof Jd){const r=ot.fromString(e,...t);return yE(r),new qi(n,null,r)}{if(!(n instanceof Yt||n instanceof qi))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return yE(r),new qi(n.firestore,null,r)}}function ea(n,e,...t){if(n=Et(n),arguments.length===1&&(e=VI.newId()),HT("doc","path",e),n instanceof Jd){const r=ot.fromString(e,...t);return vE(r),new Yt(n,null,new _e(r))}{if(!(n instanceof Yt||n instanceof qi))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ot.fromString(e,...t));return vE(r),new Yt(n.firestore,n instanceof qi?n.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class IE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new RT(this,"async_queue_retry"),this.ju=()=>{const r=rp();r&&ce(wE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ni;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wa(e))throw e;ce(wE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,si("INTERNAL UNHANDLED ERROR: ",TE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const o=$m.createAndSchedule(this,e,t,r,a=>this.Xu(a));return this.Uu.push(o),o}Ju(){this.Ku&&Se(47125,{ec:TE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function TE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class li extends Jd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new IE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function K1(n,e){const t=typeof n=="object"?n:Hw(),r=typeof n=="string"?n:cd,o=fm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=lR("firestore");a&&q1(o,...a)}return o}function Xd(n){if(n._terminated)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Q1(n),n._firestoreClient}function Q1(n){var e,t,r;const o=n._freezeSettings(),a=function(c,f,p,g){return new _D(c,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,WT(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new j1(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua($t.fromBase64String(e))}catch(t){throw new de(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^__.*__$/;class J1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class qT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ao(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:n})}}class eg{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:r,cc:!1});return o.lc(e),o}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ac({path:r,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ed(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(KT(this.oc)&&Y1.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class X1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qd(e)}dc(e,t,r,o=!1){return new eg({oc:e,methodName:t,Ec:r,path:Bt.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(n){const e=n._freezeSettings(),t=qd(n._databaseId);return new X1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QT(n,e,t,r,o,a={}){const u=n.dc(a.merge||a.mergeFields?2:0,e,t,o);tg("Data must be an object, but it was:",u,r);const c=YT(r,u);let f,p;if(a.merge)f=new Cn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const v of a.mergeFields){const E=Qp(e,v,t);if(!u.contains(E))throw new de(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);XT(g,E)||g.push(E)}f=new Cn(g),p=u.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,p=u.fieldTransforms;return new J1(new pn(c),f,p)}class th extends Jm{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function Z1(n,e,t,r){const o=n.dc(1,e,t);tg("Data must be an object, but it was:",o,r);const a=[],u=pn.empty();so(r,(f,p)=>{const g=ng(e,f,t);p=Et(p);const v=o.hc(g);if(p instanceof th)a.push(g);else{const E=hu(p,v);E!=null&&(a.push(g),u.set(g,E))}});const c=new Cn(a);return new qT(u,c,o.fieldTransforms)}function eN(n,e,t,r,o,a){const u=n.dc(1,e,t),c=[Qp(e,r,t)],f=[o];if(a.length%2!=0)throw new de(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)c.push(Qp(e,a[E])),f.push(a[E+1]);const p=[],g=pn.empty();for(let E=c.length-1;E>=0;--E)if(!XT(p,c[E])){const I=c[E];let S=f[E];S=Et(S);const x=u.hc(I);if(S instanceof th)p.push(I);else{const R=hu(S,x);R!=null&&(p.push(I),g.set(I,R))}}const v=new Cn(p);return new qT(g,v,u.fieldTransforms)}function tN(n,e,t,r=!1){return hu(t,n.dc(r?4:3,e))}function hu(n,e){if(JT(n=Et(n)))return tg("Unsupported field value:",e,n),YT(n,e);if(n instanceof Jm)return function(r,o){if(!KT(o.oc))throw o.Tc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const c of r){let f=hu(c,o.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $D(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=At.fromDate(r);return{timestampValue:md(o.serializer,a)}}if(r instanceof At){const a=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:md(o.serializer,a)}}if(r instanceof Xm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ua)return{bytesValue:gT(o.serializer,r._byteString)};if(r instanceof Yt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Nm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Zm)return function(u,c){return{mapValue:{fields:{[HI]:{stringValue:GI},[dd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw c.Tc("VectorValues must only contain numeric values.");return bm(c.serializer,p)})}}}}}}(r,o);throw o.Tc(`Unsupported field value: ${Yd(r)}`)}(n,e)}function YT(n,e){const t={};return UI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):so(n,(r,o)=>{const a=hu(o,e.uc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function JT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof Xm||n instanceof ua||n instanceof Yt||n instanceof Jm||n instanceof Zm)}function tg(n,e,t){if(!JT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Yd(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Qp(n,e,t){if((e=Et(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return ng(n,e);throw Ed("Field path arguments must be of type string or ",n,!1,void 0,t)}const nN=new RegExp("[~\\*/\\[\\]]");function ng(n,e,t){if(e.search(nN)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zd(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ed(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new de(X.INVALID_ARGUMENT,c+n+f)}function XT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rN extends ZT{data(){return super.data()}}function nh(n,e){return typeof e=="string"?ng(n,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class t0 extends rg{}function iN(n,e,...t){let r=[];e instanceof rg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof ig).length,c=a.filter(f=>f instanceof rh).length;if(u>1||u>0&&c>0)throw new de(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class rh extends t0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new rh(e,t,r)}_apply(e){const t=this._parse(e);return n0(e._query,t),new lo(e.firestore,e.converter,Vp(e._query,t))}_parse(e){const t=eh(e.firestore);return function(a,u,c,f,p,g,v){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){AE(v,g);const S=[];for(const x of v)S.push(CE(f,a,x));E={arrayValue:{values:S}}}else E=CE(f,a,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||AE(v,g),E=tN(c,u,v,g==="in"||g==="not-in");return _t.create(p,g,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function oN(n,e,t){const r=e,o=nh("where",n);return rh._create(o,r,t)}class ig extends rg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ig(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const c=a.getFlattenedFilters();for(const f of c)n0(u,f),u=Vp(u,f)}(e._query,t),new lo(e.firestore,e.converter,Vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class og extends t0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new og(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new de(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(a,u)}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Ia(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function sN(n,e="asc"){const t=e,r=nh("orderBy",n);return og._create(r,t)}function CE(n,e,t){if(typeof(t=Et(t))=="string"){if(t==="")throw new de(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eT(e)&&t.indexOf("/")!==-1)throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ot.fromString(t));if(!_e.isDocumentKey(r))throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return U_(n,new _e(r))}if(t instanceof Yt)return U_(n,t._key);throw new de(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yd(t)}.`)}function AE(n,e){if(!Array.isArray(n)||n.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function n0(n,e){const t=function(o,a){for(const u of o)for(const c of u.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class aN{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return so(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[dd].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>mt(u.doubleValue));return new Zm(a)}convertGeoPoint(e){return new Xm(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=Xi(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ot.fromString(e);qe(IT(r),9688,{name:e});const o=new zl(r.get(1),r.get(3)),a=new _e(r.popFirst(5));return o.isEqual(t)||si(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i0 extends ZT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Xc extends i0{data(e={}){return super.data(e)}}class o0{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new xl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Xc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(c=>{const f=new Xc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new xl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new Xc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new xl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,g=-1;return c.type!==0&&(p=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:lN(c.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(n){n=mn(n,Yt);const e=mn(n.firestore,li);return W1(Xd(e),n._key).then(t=>s0(e,n,t))}class sg extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,t)}}function cN(n){n=mn(n,lo);const e=mn(n.firestore,li),t=Xd(e),r=new sg(e);return e0(n._query),H1(t,n._query).then(o=>new o0(e,r,n,o))}function dN(n,e,t){n=mn(n,Yt);const r=mn(n.firestore,li),o=r0(n.converter,e);return ih(r,[QT(eh(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Hn.none())])}function RE(n,e,t,...r){n=mn(n,Yt);const o=mn(n.firestore,li),a=eh(o);let u;return u=typeof(e=Et(e))=="string"||e instanceof Zd?eN(a,"updateDoc",n._key,e,t,r):Z1(a,"updateDoc",n._key,e),ih(o,[u.toMutation(n._key,Hn.exists(!0))])}function hN(n){return ih(mn(n.firestore,li),[new xm(n._key,Hn.none())])}function fN(n,e){const t=mn(n.firestore,li),r=ea(n),o=r0(n.converter,e);return ih(t,[QT(eh(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function pN(n,...e){var t,r,o;n=Et(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||SE(e[u])||(a=e[u],u++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(SE(e[u])){const v=e[u];e[u]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(o=v.complete)===null||o===void 0?void 0:o.bind(v)}let f,p,g;if(n instanceof Yt)p=mn(n.firestore,li),g=jd(n._key.path),f={next:v=>{e[u]&&e[u](s0(p,n,v))},error:e[u+1],complete:e[u+2]};else{const v=mn(n,lo);p=mn(v.firestore,li),g=v._query;const E=new sg(p);f={next:I=>{e[u]&&e[u](new o0(p,E,v,I))},error:e[u+1],complete:e[u+2]},e0(n._query)}return function(E,I,S,x){const R=new Ym(x),k=new qm(I,R,S);return E.asyncQueue.enqueueAndForget(async()=>Wm(await _d(E),k)),()=>{R.yu(),E.asyncQueue.enqueueAndForget(async()=>Hm(await _d(E),k))}}(Xd(p),g,c,f)}function ih(n,e){return function(r,o){const a=new ni;return r.asyncQueue.enqueueAndForget(async()=>k1(await z1(r),o,a)),a.promise}(Xd(n),e)}function s0(n,e,t){const r=t.docs.get(e._key),o=new sg(n);return new i0(n,o,e._key,r,new xl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){_a=o})(va),ta(new Wo("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),c=new li(new nD(r.getProvider("auth-internal")),new oD(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(p.options.projectId,g)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Hi(R_,P_,e),Hi(R_,P_,"esm2017")})();const mN={apiKey:"AIzaSyBYCi7j7eTGyr-PwIoAB4DrquEl8wJmvPs",authDomain:"authentication-afa75.firebaseapp.com",projectId:"authentication-afa75",storageBucket:"authentication-afa75.firebasestorage.app",messagingSenderId:"980440222804",appId:"1:980440222804:web:5c0ee08a7dca77113af1c1"},a0=Ww(mN),oh=Yx(a0),Bi=K1(a0),l0=F.createContext(),Zo=()=>F.useContext(l0),gN=({children:n})=>{const[e,t]=F.useState(null),[r,o]=F.useState(!0);F.useEffect(()=>Fb(oh,c=>{t(c),o(!1)}),[]);const a={currentUser:e,loading:r};return U.jsx(l0.Provider,{value:a,children:n})},u0=F.createContext(),sh=()=>F.useContext(u0),vN=({children:n})=>{const[e,t]=F.useState([]),[r,o]=F.useState(!0),{currentUser:a}=Zo();F.useEffect(()=>{(async()=>{if(!a){t([]),o(!1);return}try{const E=iN(Kp(Bi,"tasks"),oN("createdBy","==",a.uid),sN("createdAt","desc")),I=pN(E,S=>{const x=S.docs.map(R=>({id:R.id,...R.data()}));t(x),o(!1)});return()=>I()}catch(E){console.error("Error fetching tasks: ",E),o(!1)}})()},[a]);const g={tasks:e,loading:r,addTask:async v=>{try{const E={...v,createdBy:a.uid,createdAt:new Date,status:"todo"},I=await fN(Kp(Bi,"tasks"),E);return t(S=>[{id:I.id,...E},...S]),I.id}catch(E){throw console.error("Error adding task: ",E),E}},updateTask:async(v,E)=>{try{const I=ea(Bi,"tasks",v);await RE(I,{...E,updatedAt:new Date})}catch(I){throw console.error("Error updating task: ",I),I}},deleteTask:async v=>{try{await hN(ea(Bi,"tasks",v)),t(E=>E.filter(I=>I.id!==v))}catch(E){throw console.error("Error deleting task: ",E),E}},moveTask:async(v,E)=>{try{await RE(ea(Bi,"tasks",v),{status:E,updatedAt:new Date}),t(I=>I.map(S=>S.id===v?{...S,status:E,updatedAt:new Date}:S))}catch(I){throw console.error("Error moving task: ",I),I}}};return U.jsx(u0.Provider,{value:g,children:n})},yN=()=>{const{currentUser:n}=Zo();return U.jsxs("div",{className:"home-container",children:[U.jsxs("div",{className:"hero-section",children:[U.jsx("h1",{children:"🚀 Welcome to Task Manager"}),U.jsx("p",{children:"✨ Organize your tasks efficiently and boost your productivity!"}),n?U.jsx("div",{className:"auth-buttons",children:U.jsx(ji,{to:"/dashboard",className:"btn-primary",children:"📋 Go to Dashboard"})}):U.jsxs("div",{className:"auth-buttons",children:[U.jsx(ji,{to:"/login",className:"btn-primary",children:"🔑 Login"}),U.jsx(ji,{to:"/signup",className:"btn-secondary",children:"✨ Sign Up"})]})]}),U.jsxs("div",{className:"features",children:[U.jsxs("div",{className:"feature",children:[U.jsx("span",{className:"feature-icon",children:"📝"}),U.jsx("h3",{children:"Task Management"}),U.jsx("p",{children:"Create, edit, and organize your tasks with ease"})]}),U.jsxs("div",{className:"feature",children:[U.jsx("span",{className:"feature-icon",children:"⚡"}),U.jsx("h3",{children:"Real-time Updates"}),U.jsx("p",{children:"See changes instantly across all your devices"})]}),U.jsxs("div",{className:"feature",children:[U.jsx("span",{className:"feature-icon",children:"👥"}),U.jsx("h3",{children:"Team Collaboration"}),U.jsx("p",{children:"Work together with your team members"})]}),U.jsxs("div",{className:"feature",children:[U.jsx("span",{className:"feature-icon",children:"📊"}),U.jsx("h3",{children:"Progress Tracking"}),U.jsx("p",{children:"Monitor your progress and stay on track"})]})]}),U.jsxs("div",{className:"cta-section",children:[U.jsx("h2",{children:"🎯 Ready to Get Started?"}),U.jsx("p",{children:"Join thousands of users who are already managing their tasks efficiently"}),!n&&U.jsx(ji,{to:"/signup",className:"btn-primary",children:"🚀 Start Free Trial"})]})]})};function Yp(n,e){return Yp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Yp(n,e)}function c0(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Yp(n,e)}function Ie(){return Ie=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ie.apply(null,arguments)}function Kl(n){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(n)}function _N(n,e){if(Kl(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function EN(n){var e=_N(n,"string");return Kl(e)=="symbol"?e:e+""}function wN(n,e,t){return(e=EN(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function bE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PE(Object(t),!0).forEach(function(r){wN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function hn(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var xE=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),DE=function(){return Math.random().toString(36).substring(7).split("").join(".")},kE={INIT:"@@redux/INIT"+DE(),REPLACE:"@@redux/REPLACE"+DE()};function IN(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function d0(n,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(hn(1));return t(d0)(n,e)}if(typeof n!="function")throw new Error(hn(2));var o=n,a=e,u=[],c=u,f=!1;function p(){c===u&&(c=u.slice())}function g(){if(f)throw new Error(hn(3));return a}function v(x){if(typeof x!="function")throw new Error(hn(4));if(f)throw new Error(hn(5));var R=!0;return p(),c.push(x),function(){if(R){if(f)throw new Error(hn(6));R=!1,p();var B=c.indexOf(x);c.splice(B,1),u=null}}}function E(x){if(!IN(x))throw new Error(hn(7));if(typeof x.type>"u")throw new Error(hn(8));if(f)throw new Error(hn(9));try{f=!0,a=o(a,x)}finally{f=!1}for(var R=u=c,k=0;k<R.length;k++){var B=R[k];B()}return x}function I(x){if(typeof x!="function")throw new Error(hn(10));o=x,E({type:kE.REPLACE})}function S(){var x,R=v;return x={subscribe:function(B){if(typeof B!="object"||B===null)throw new Error(hn(11));function V(){B.next&&B.next(g())}V();var q=R(V);return{unsubscribe:q}}},x[xE]=function(){return this},x}return E({type:kE.INIT}),r={dispatch:E,subscribe:v,getState:g,replaceReducer:I},r[xE]=S,r}function NE(n,e){return function(){return e(n.apply(this,arguments))}}function OE(n,e){if(typeof n=="function")return NE(n,e);if(typeof n!="object"||n===null)throw new Error(hn(16));var t={};for(var r in n){var o=n[r];typeof o=="function"&&(t[r]=NE(o,e))}return t}function h0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,o){return function(){return r(o.apply(void 0,arguments))}})}function TN(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){return function(){var o=r.apply(void 0,arguments),a=function(){throw new Error(hn(15))},u={getState:o.getState,dispatch:function(){return a.apply(void 0,arguments)}},c=e.map(function(f){return f(u)});return a=h0.apply(void 0,c)(o.dispatch),bE(bE({},o),{},{dispatch:a})}}}var f0=tt.createContext(null);function SN(n){n()}var p0=SN,CN=function(e){return p0=e},AN=function(){return p0};function RN(){var n=AN(),e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){n(function(){for(var o=e;o;)o.callback(),o=o.next})},get:function(){for(var o=[],a=e;a;)o.push(a),a=a.next;return o},subscribe:function(o){var a=!0,u=t={callback:o,next:null,prev:t};return u.prev?u.prev.next=u:e=u,function(){!a||e===null||(a=!1,u.next?u.next.prev=u.prev:t=u.prev,u.prev?u.prev.next=u.next:e=u.next)}}}}var LE={notify:function(){},get:function(){return[]}};function m0(n,e){var t,r=LE;function o(v){return f(),r.subscribe(v)}function a(){r.notify()}function u(){g.onStateChange&&g.onStateChange()}function c(){return!!t}function f(){t||(t=e?e.addNestedSub(u):n.subscribe(u),r=RN())}function p(){t&&(t(),t=void 0,r.clear(),r=LE)}var g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:function(){return r}};return g}var g0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect;function PN(n){var e=n.store,t=n.context,r=n.children,o=F.useMemo(function(){var c=m0(e);return{store:e,subscription:c}},[e]),a=F.useMemo(function(){return e.getState()},[e]);g0(function(){var c=o.subscription;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==e.getState()&&c.notifyNestedSubs(),function(){c.tryUnsubscribe(),c.onStateChange=null}},[o,a]);var u=t||f0;return tt.createElement(u.Provider,{value:o},r)}function wd(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var op={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function bN(){if(ME)return Ge;ME=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,g=n?Symbol.for("react.forward_ref"):60112,v=n?Symbol.for("react.suspense"):60113,E=n?Symbol.for("react.suspense_list"):60120,I=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,R=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,B=n?Symbol.for("react.scope"):60119;function V(G){if(typeof G=="object"&&G!==null){var Z=G.$$typeof;switch(Z){case e:switch(G=G.type,G){case f:case p:case r:case a:case o:case v:return G;default:switch(G=G&&G.$$typeof,G){case c:case g:case S:case I:case u:return G;default:return Z}}case t:return Z}}}function q(G){return V(G)===p}return Ge.AsyncMode=f,Ge.ConcurrentMode=p,Ge.ContextConsumer=c,Ge.ContextProvider=u,Ge.Element=e,Ge.ForwardRef=g,Ge.Fragment=r,Ge.Lazy=S,Ge.Memo=I,Ge.Portal=t,Ge.Profiler=a,Ge.StrictMode=o,Ge.Suspense=v,Ge.isAsyncMode=function(G){return q(G)||V(G)===f},Ge.isConcurrentMode=q,Ge.isContextConsumer=function(G){return V(G)===c},Ge.isContextProvider=function(G){return V(G)===u},Ge.isElement=function(G){return typeof G=="object"&&G!==null&&G.$$typeof===e},Ge.isForwardRef=function(G){return V(G)===g},Ge.isFragment=function(G){return V(G)===r},Ge.isLazy=function(G){return V(G)===S},Ge.isMemo=function(G){return V(G)===I},Ge.isPortal=function(G){return V(G)===t},Ge.isProfiler=function(G){return V(G)===a},Ge.isStrictMode=function(G){return V(G)===o},Ge.isSuspense=function(G){return V(G)===v},Ge.isValidElementType=function(G){return typeof G=="string"||typeof G=="function"||G===r||G===p||G===a||G===o||G===v||G===E||typeof G=="object"&&G!==null&&(G.$$typeof===S||G.$$typeof===I||G.$$typeof===u||G.$$typeof===c||G.$$typeof===g||G.$$typeof===R||G.$$typeof===k||G.$$typeof===B||G.$$typeof===x)},Ge.typeOf=V,Ge}var VE;function xN(){return VE||(VE=1,op.exports=bN()),op.exports}var sp,FE;function DN(){if(FE)return sp;FE=1;var n=xN(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=o;function u(S){return n.isMemo(S)?o:a[S.$$typeof]||e}var c=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,v=Object.getPrototypeOf,E=Object.prototype;function I(S,x,R){if(typeof x!="string"){if(E){var k=v(x);k&&k!==E&&I(S,k,R)}var B=f(x);p&&(B=B.concat(p(x)));for(var V=u(S),q=u(x),G=0;G<B.length;++G){var Z=B[G];if(!t[Z]&&!(R&&R[Z])&&!(q&&q[Z])&&!(V&&V[Z])){var N=g(x,Z);try{c(S,Z,N)}catch{}}}}return S}return sp=I,sp}var kN=DN();const UE=xd(kN);var ap={exports:{}},Je={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function NN(){if(BE)return Je;BE=1;var n=60103,e=60106,t=60107,r=60108,o=60114,a=60109,u=60110,c=60112,f=60113,p=60120,g=60115,v=60116,E=60121,I=60122,S=60117,x=60129,R=60131;if(typeof Symbol=="function"&&Symbol.for){var k=Symbol.for;n=k("react.element"),e=k("react.portal"),t=k("react.fragment"),r=k("react.strict_mode"),o=k("react.profiler"),a=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),f=k("react.suspense"),p=k("react.suspense_list"),g=k("react.memo"),v=k("react.lazy"),E=k("react.block"),I=k("react.server.block"),S=k("react.fundamental"),x=k("react.debug_trace_mode"),R=k("react.legacy_hidden")}function B(A){if(typeof A=="object"&&A!==null){var Ce=A.$$typeof;switch(Ce){case n:switch(A=A.type,A){case t:case o:case r:case f:case p:return A;default:switch(A=A&&A.$$typeof,A){case u:case c:case v:case g:case a:return A;default:return Ce}}case e:return Ce}}}var V=a,q=n,G=c,Z=t,N=v,P=g,b=e,O=o,L=r,$=f;return Je.ContextConsumer=u,Je.ContextProvider=V,Je.Element=q,Je.ForwardRef=G,Je.Fragment=Z,Je.Lazy=N,Je.Memo=P,Je.Portal=b,Je.Profiler=O,Je.StrictMode=L,Je.Suspense=$,Je.isAsyncMode=function(){return!1},Je.isConcurrentMode=function(){return!1},Je.isContextConsumer=function(A){return B(A)===u},Je.isContextProvider=function(A){return B(A)===a},Je.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===n},Je.isForwardRef=function(A){return B(A)===c},Je.isFragment=function(A){return B(A)===t},Je.isLazy=function(A){return B(A)===v},Je.isMemo=function(A){return B(A)===g},Je.isPortal=function(A){return B(A)===e},Je.isProfiler=function(A){return B(A)===o},Je.isStrictMode=function(A){return B(A)===r},Je.isSuspense=function(A){return B(A)===f},Je.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===o||A===x||A===r||A===f||A===p||A===R||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===g||A.$$typeof===a||A.$$typeof===u||A.$$typeof===c||A.$$typeof===S||A.$$typeof===E||A[0]===I)},Je.typeOf=B,Je}var jE;function ON(){return jE||(jE=1,ap.exports=NN()),ap.exports}var LN=ON(),MN=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],VN=["reactReduxForwardedRef"],FN=[],UN=[null,null];function BN(n,e){var t=n[1];return[e.payload,t+1]}function $E(n,e,t){g0(function(){return n.apply(void 0,e)},t)}function jN(n,e,t,r,o,a,u){n.current=r,e.current=o,t.current=!1,a.current&&(a.current=null,u())}function $N(n,e,t,r,o,a,u,c,f,p){if(n){var g=!1,v=null,E=function(){if(!g){var x=e.getState(),R,k;try{R=r(x,o.current)}catch(B){k=B,v=B}k||(v=null),R===a.current?u.current||f():(a.current=R,c.current=R,u.current=!0,p({type:"STORE_UPDATED",payload:{error:k}}))}};t.onStateChange=E,t.trySubscribe(),E();var I=function(){if(g=!0,t.tryUnsubscribe(),t.onStateChange=null,v)throw v};return I}}var zN=function(){return[null,0]};function WN(n,e){e===void 0&&(e={});var t=e,r=t.getDisplayName,o=r===void 0?function(V){return"ConnectAdvanced("+V+")"}:r,a=t.methodName,u=a===void 0?"connectAdvanced":a,c=t.renderCountProp,f=c===void 0?void 0:c,p=t.shouldHandleStateChanges,g=p===void 0?!0:p,v=t.storeKey,E=v===void 0?"store":v;t.withRef;var I=t.forwardRef,S=I===void 0?!1:I,x=t.context,R=x===void 0?f0:x,k=wd(t,MN),B=R;return function(q){var G=q.displayName||q.name||"Component",Z=o(G),N=Ie({},k,{getDisplayName:o,methodName:u,renderCountProp:f,shouldHandleStateChanges:g,storeKey:E,displayName:Z,wrappedComponentName:G,WrappedComponent:q}),P=k.pure;function b(Ce){return n(Ce.dispatch,N)}var O=P?F.useMemo:function(Ce){return Ce()};function L(Ce){var Ke=F.useMemo(function(){var Dn=Ce.reactReduxForwardedRef,vn=wd(Ce,VN);return[Ce.context,Dn,vn]},[Ce]),Qe=Ke[0],Fe=Ke[1],oe=Ke[2],ge=F.useMemo(function(){return Qe&&Qe.Consumer&&LN.isContextConsumer(tt.createElement(Qe.Consumer,null))?Qe:B},[Qe,B]),le=F.useContext(ge),z=!!Ce.store&&!!Ce.store.getState&&!!Ce.store.dispatch;le&&le.store;var J=z?Ce.store:le.store,pe=F.useMemo(function(){return b(J)},[J]),be=F.useMemo(function(){if(!g)return UN;var Dn=m0(J,z?null:le.subscription),vn=Dn.notifyNestedSubs.bind(Dn);return[Dn,vn]},[J,z,le]),Ae=be[0],De=be[1],Oe=F.useMemo(function(){return z?le:Ie({},le,{subscription:Ae})},[z,le,Ae]),Le=F.useReducer(BN,FN,zN),He=Le[0],nt=He[0],gn=Le[1];if(nt&&nt.error)throw nt.error;var kr=F.useRef(),bn=F.useRef(oe),xn=F.useRef(),Nr=F.useRef(!1),Or=O(function(){return xn.current&&oe===bn.current?xn.current:pe(J.getState(),oe)},[J,nt,oe]);$E(jN,[bn,kr,Nr,oe,Or,xn,De]),$E($N,[g,J,Ae,pe,bn,kr,Nr,xn,De,gn],[J,Ae,pe]);var Lr=F.useMemo(function(){return tt.createElement(q,Ie({},Or,{ref:Fe}))},[Fe,q,Or]),es=F.useMemo(function(){return g?tt.createElement(ge.Provider,{value:Oe},Lr):Lr},[ge,Lr,Oe]);return es}var $=P?tt.memo(L):L;if($.WrappedComponent=q,$.displayName=L.displayName=Z,S){var A=tt.forwardRef(function(Ke,Qe){return tt.createElement($,Ie({},Ke,{reactReduxForwardedRef:Qe}))});return A.displayName=Z,A.WrappedComponent=q,UE(A,q)}return UE($,q)}}function zE(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function lp(n,e){if(zE(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(var o=0;o<t.length;o++)if(!Object.prototype.hasOwnProperty.call(e,t[o])||!zE(n[t[o]],e[t[o]]))return!1;return!0}function HN(n,e){var t={},r=function(u){var c=n[u];typeof c=="function"&&(t[u]=function(){return e(c.apply(void 0,arguments))})};for(var o in n)r(o);return t}function ag(n){return function(t,r){var o=n(t,r);function a(){return o}return a.dependsOnOwnProps=!1,a}}function WE(n){return n.dependsOnOwnProps!==null&&n.dependsOnOwnProps!==void 0?!!n.dependsOnOwnProps:n.length!==1}function v0(n,e){return function(r,o){o.displayName;var a=function(c,f){return a.dependsOnOwnProps?a.mapToProps(c,f):a.mapToProps(c)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,f){a.mapToProps=n,a.dependsOnOwnProps=WE(n);var p=a(c,f);return typeof p=="function"&&(a.mapToProps=p,a.dependsOnOwnProps=WE(p),p=a(c,f)),p},a}}function GN(n){return typeof n=="function"?v0(n):void 0}function qN(n){return n?void 0:ag(function(e){return{dispatch:e}})}function KN(n){return n&&typeof n=="object"?ag(function(e){return HN(n,e)}):void 0}const QN=[GN,qN,KN];function YN(n){return typeof n=="function"?v0(n):void 0}function JN(n){return n?void 0:ag(function(){return{}})}const XN=[YN,JN];function ZN(n,e,t){return Ie({},t,n,e)}function eO(n){return function(t,r){r.displayName;var o=r.pure,a=r.areMergedPropsEqual,u=!1,c;return function(p,g,v){var E=n(p,g,v);return u?(!o||!a(E,c))&&(c=E):(u=!0,c=E),c}}}function tO(n){return typeof n=="function"?eO(n):void 0}function nO(n){return n?void 0:function(){return ZN}}const rO=[tO,nO];var iO=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function oO(n,e,t,r){return function(a,u){return t(n(a,u),e(r,u),u)}}function sO(n,e,t,r,o){var a=o.areStatesEqual,u=o.areOwnPropsEqual,c=o.areStatePropsEqual,f=!1,p,g,v,E,I;function S(V,q){return p=V,g=q,v=n(p,g),E=e(r,g),I=t(v,E,g),f=!0,I}function x(){return v=n(p,g),e.dependsOnOwnProps&&(E=e(r,g)),I=t(v,E,g),I}function R(){return n.dependsOnOwnProps&&(v=n(p,g)),e.dependsOnOwnProps&&(E=e(r,g)),I=t(v,E,g),I}function k(){var V=n(p,g),q=!c(V,v);return v=V,q&&(I=t(v,E,g)),I}function B(V,q){var G=!u(q,g),Z=!a(V,p,q,g);return p=V,g=q,G&&Z?x():G?R():Z?k():I}return function(q,G){return f?B(q,G):S(q,G)}}function aO(n,e){var t=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,a=wd(e,iO),u=t(n,a),c=r(n,a),f=o(n,a),p=a.pure?sO:oO;return p(u,c,f,n,a)}var lO=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function up(n,e,t){for(var r=e.length-1;r>=0;r--){var o=e[r](n);if(o)return o}return function(a,u){throw new Error("Invalid value of type "+typeof n+" for "+t+" argument when connecting component "+u.wrappedComponentName+".")}}function uO(n,e){return n===e}function cO(n){var e=n===void 0?{}:n,t=e.connectHOC,r=t===void 0?WN:t,o=e.mapStateToPropsFactories,a=o===void 0?XN:o,u=e.mapDispatchToPropsFactories,c=u===void 0?QN:u,f=e.mergePropsFactories,p=f===void 0?rO:f,g=e.selectorFactory,v=g===void 0?aO:g;return function(I,S,x,R){R===void 0&&(R={});var k=R,B=k.pure,V=B===void 0?!0:B,q=k.areStatesEqual,G=q===void 0?uO:q,Z=k.areOwnPropsEqual,N=Z===void 0?lp:Z,P=k.areStatePropsEqual,b=P===void 0?lp:P,O=k.areMergedPropsEqual,L=O===void 0?lp:O,$=wd(k,lO),A=up(I,a,"mapStateToProps"),Ce=up(S,c,"mapDispatchToProps"),Ke=up(x,p,"mergeProps");return r(v,Ie({methodName:"connect",getDisplayName:function(Fe){return"Connect("+Fe+")"},shouldHandleStateChanges:!!I,initMapStateToProps:A,initMapDispatchToProps:Ce,initMergeProps:Ke,pure:V,areStatesEqual:G,areOwnPropsEqual:N,areStatePropsEqual:b,areMergedPropsEqual:L},$))}}const y0=cO();CN(Lw.unstable_batchedUpdates);function dO(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function _0(n,e){var t=F.useState(function(){return{inputs:e,result:n()}})[0],r=F.useRef(!0),o=F.useRef(t),a=r.current||!!(e&&o.current.inputs&&dO(e,o.current.inputs)),u=a?o.current:{inputs:e,result:n()};return F.useEffect(function(){r.current=!1,o.current=u},[u]),u.result}function hO(n,e){return _0(function(){return n},e)}var ze=_0,ye=hO,fO="Invariant failed";function pO(n,e){throw new Error(fO)}var ur=function(e){var t=e.top,r=e.right,o=e.bottom,a=e.left,u=r-a,c=o-t,f={top:t,right:r,bottom:o,left:a,width:u,height:c,x:a,y:t,center:{x:(r+a)/2,y:(o+t)/2}};return f},lg=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},HE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},mO=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},cp={top:0,right:0,bottom:0,left:0},ug=function(e){var t=e.borderBox,r=e.margin,o=r===void 0?cp:r,a=e.border,u=a===void 0?cp:a,c=e.padding,f=c===void 0?cp:c,p=ur(lg(t,o)),g=ur(HE(t,u)),v=ur(HE(g,f));return{marginBox:p,borderBox:ur(t),paddingBox:g,contentBox:v,margin:o,border:u,padding:f}},$n=function(e){var t=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var o=Number(t);return isNaN(o)&&pO(),o},gO=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Id=function(e,t){var r=e.borderBox,o=e.border,a=e.margin,u=e.padding,c=mO(r,t);return ug({borderBox:c,border:o,margin:a,padding:u})},Td=function(e,t){return t===void 0&&(t=gO()),Id(e,t)},E0=function(e,t){var r={top:$n(t.marginTop),right:$n(t.marginRight),bottom:$n(t.marginBottom),left:$n(t.marginLeft)},o={top:$n(t.paddingTop),right:$n(t.paddingRight),bottom:$n(t.paddingBottom),left:$n(t.paddingLeft)},a={top:$n(t.borderTopWidth),right:$n(t.borderRightWidth),bottom:$n(t.borderBottomWidth),left:$n(t.borderLeftWidth)};return ug({borderBox:e,margin:r,padding:o,border:a})},w0=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return E0(t,r)},GE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function vO(n,e){return!!(n===e||GE(n)&&GE(e))}function yO(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!vO(n[t],e[t]))return!1;return!0}function Nt(n,e){e===void 0&&(e=yO);var t,r=[],o,a=!1;function u(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return a&&t===this&&e(c,r)||(o=n.apply(this,c),a=!0,t=this,r=c),o}return u}var Ql=function(e){var t=[],r=null,o=function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];t=c,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function I0(n,e){}I0.bind(null,"warn");I0.bind(null,"error");function Ki(){}function _O(n,e){return Ie({},n,{},e)}function Wn(n,e,t){var r=e.map(function(o){var a=_O(t,o.options);return n.addEventListener(o.eventName,o.fn,a),function(){n.removeEventListener(o.eventName,o.fn,a)}});return function(){r.forEach(function(a){a()})}}var EO="Invariant failed";function Sd(n){this.message=n}Sd.prototype.toString=function(){return this.message};function se(n,e){throw new Sd(EO)}var wO=function(n){c0(e,n);function e(){for(var r,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return r=n.call.apply(n,[this].concat(a))||this,r.callbacks=null,r.unbind=Ki,r.onWindowError=function(c){var f=r.getCallbacks();f.isDragging()&&f.tryAbort();var p=c.error;p instanceof Sd&&c.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(c){r.callbacks=c},r}var t=e.prototype;return t.componentDidMount=function(){this.unbind=Wn(window,[{eventName:"error",fn:this.onWindowError}])},t.componentDidCatch=function(o){if(o instanceof Sd){this.setState({});return}throw o},t.componentWillUnmount=function(){this.unbind()},t.render=function(){return this.props.children(this.setCallbacks)},e}(tt.Component),IO=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Cd=function(e){return e+1},TO=function(e){return`
  You have lifted an item in position `+Cd(e.source.index)+`
`},T0=function(e,t){var r=e.droppableId===t.droppableId,o=Cd(e.index),a=Cd(t.index);return r?`
      You have moved the item from position `+o+`
      to position `+a+`
    `:`
    You have moved the item from position `+o+`
    in list `+e.droppableId+`
    to list `+t.droppableId+`
    in position `+a+`
  `},S0=function(e,t,r){var o=t.droppableId===r.droppableId;return o?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+t.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},SO=function(e){var t=e.destination;if(t)return T0(e.source,t);var r=e.combine;return r?S0(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},qE=function(e){return`
  The item has returned to its starting position
  of `+Cd(e.index)+`
`},CO=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+qE(e.source)+`
    `;var t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      `+T0(e.source,t)+`
    `:r?`
      You have dropped the item.
      `+S0(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+qE(e.source)+`
  `},Zc={dragHandleUsageInstructions:IO,onDragStart:TO,onDragUpdate:SO,onDragEnd:CO},Ot={x:0,y:0},jt=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},An=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Qi=function(e,t){return e.x===t.x&&e.y===t.y},Sa=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Qo=function(e,t,r){var o;return r===void 0&&(r=0),o={},o[e]=t,o[e==="x"?"y":"x"]=r,o},Yl=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},KE=function(e,t){return Math.min.apply(Math,t.map(function(r){return Yl(e,r)}))},C0=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},AO=function(n,e){var t=ur({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return t.width<=0||t.height<=0?null:t},fu=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},QE=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},RO={top:0,right:0,bottom:0,left:0},PO=function(e,t){return t?fu(e,t.scroll.diff.displacement):e},bO=function(e,t,r){if(r&&r.increasedBy){var o;return Ie({},e,(o={},o[t.end]=e[t.end]+r.increasedBy[t.line],o))}return e},xO=function(e,t){return t&&t.shouldClipSubject?AO(t.pageMarginBox,e):ur(e)},ca=function(n){var e=n.page,t=n.withPlaceholder,r=n.axis,o=n.frame,a=PO(e.marginBox,o),u=bO(a,r,t),c=xO(u,o);return{page:e,withPlaceholder:t,active:c}},cg=function(n,e){n.frame||se();var t=n.frame,r=An(e,t.scroll.initial),o=Sa(r),a=Ie({},t,{scroll:{initial:t.scroll.initial,current:e,diff:{value:r,displacement:o},max:t.scroll.max}}),u=ca({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:a}),c=Ie({},n,{frame:a,subject:u});return c};function Ad(n){return Object.values?Object.values(n):Object.keys(n).map(function(e){return n[e]})}function dg(n,e){if(n.findIndex)return n.findIndex(e);for(var t=0;t<n.length;t++)if(e(n[t]))return t;return-1}function uo(n,e){if(n.find)return n.find(e);var t=dg(n,e);if(t!==-1)return n[t]}function A0(n){return Array.prototype.slice.call(n)}var R0=Nt(function(n){return n.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),P0=Nt(function(n){return n.reduce(function(e,t){return e[t.descriptor.id]=t,e},{})}),ah=Nt(function(n){return Ad(n)}),DO=Nt(function(n){return Ad(n)}),Ca=Nt(function(n,e){var t=DO(e).filter(function(r){return n===r.descriptor.droppableId}).sort(function(r,o){return r.descriptor.index-o.descriptor.index});return t});function hg(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function lh(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var uh=Nt(function(n,e){return e.filter(function(t){return t.descriptor.id!==n.descriptor.id})}),kO=function(n){var e=n.isMovingForward,t=n.draggable,r=n.destination,o=n.insideDestination,a=n.previousImpact;if(!r.isCombineEnabled)return null;var u=hg(a);if(!u)return null;function c(x){var R={type:"COMBINE",combine:{draggableId:x,droppableId:r.descriptor.id}};return Ie({},a,{at:R})}var f=a.displaced.all,p=f.length?f[0]:null;if(e)return p?c(p):null;var g=uh(t,o);if(!p){if(!g.length)return null;var v=g[g.length-1];return c(v.descriptor.id)}var E=dg(g,function(x){return x.descriptor.id===p});E===-1&&se();var I=E-1;if(I<0)return null;var S=g[I];return c(S.descriptor.id)},Aa=function(n,e){return n.descriptor.droppableId===e.descriptor.id},b0={point:Ot,value:0},Jl={invisible:{},visible:{},all:[]},NO={displaced:Jl,displacedBy:b0,at:null},Gn=function(n,e){return function(t){return n<=t&&t<=e}},x0=function(n){var e=Gn(n.top,n.bottom),t=Gn(n.left,n.right);return function(r){var o=e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right);if(o)return!0;var a=e(r.top)||e(r.bottom),u=t(r.left)||t(r.right),c=a&&u;if(c)return!0;var f=r.top<n.top&&r.bottom>n.bottom,p=r.left<n.left&&r.right>n.right,g=f&&p;if(g)return!0;var v=f&&u||p&&a;return v}},OO=function(n){var e=Gn(n.top,n.bottom),t=Gn(n.left,n.right);return function(r){var o=e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right);return o}},fg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},D0={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},LO=function(n){return function(e){var t=Gn(e.top,e.bottom),r=Gn(e.left,e.right);return function(o){return n===fg?t(o.top)&&t(o.bottom):r(o.left)&&r(o.right)}}},MO=function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:Ot;return fu(e,r)},VO=function(e,t,r){return t.subject.active?r(t.subject.active)(e):!1},FO=function(e,t,r){return r(t)(e)},pg=function(e){var t=e.target,r=e.destination,o=e.viewport,a=e.withDroppableDisplacement,u=e.isVisibleThroughFrameFn,c=a?MO(t,r):t;return VO(c,r,u)&&FO(c,o,u)},UO=function(e){return pg(Ie({},e,{isVisibleThroughFrameFn:x0}))},k0=function(e){return pg(Ie({},e,{isVisibleThroughFrameFn:OO}))},BO=function(e){return pg(Ie({},e,{isVisibleThroughFrameFn:LO(e.destination.axis)}))},jO=function(e,t,r){if(typeof r=="boolean")return r;if(!t)return!0;var o=t.invisible,a=t.visible;if(o[e])return!1;var u=a[e];return u?u.shouldAnimate:!0};function $O(n,e){var t=n.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return ur(lg(t,r))}function Xl(n){var e=n.afterDragging,t=n.destination,r=n.displacedBy,o=n.viewport,a=n.forceShouldAnimate,u=n.last;return e.reduce(function(f,p){var g=$O(p,r),v=p.descriptor.id;f.all.push(v);var E=UO({target:g,destination:t,viewport:o,withDroppableDisplacement:!0});if(!E)return f.invisible[p.descriptor.id]=!0,f;var I=jO(v,u,a),S={draggableId:v,shouldAnimate:I};return f.visible[v]=S,f},{all:[],visible:{},invisible:{}})}function zO(n,e){if(!n.length)return 0;var t=n[n.length-1].descriptor.index;return e.inHomeList?t:t+1}function YE(n){var e=n.insideDestination,t=n.inHomeList,r=n.displacedBy,o=n.destination,a=zO(e,{inHomeList:t});return{displaced:Jl,displacedBy:r,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:a}}}}function Rd(n){var e=n.draggable,t=n.insideDestination,r=n.destination,o=n.viewport,a=n.displacedBy,u=n.last,c=n.index,f=n.forceShouldAnimate,p=Aa(e,r);if(c==null)return YE({insideDestination:t,inHomeList:p,displacedBy:a,destination:r});var g=uo(t,function(x){return x.descriptor.index===c});if(!g)return YE({insideDestination:t,inHomeList:p,displacedBy:a,destination:r});var v=uh(e,t),E=t.indexOf(g),I=v.slice(E),S=Xl({afterDragging:I,destination:r,displacedBy:a,last:u,viewport:o.frame,forceShouldAnimate:f});return{displaced:S,displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:c}}}}function ro(n,e){return!!e.effected[n]}var WO=function(n){var e=n.isMovingForward,t=n.destination,r=n.draggables,o=n.combine,a=n.afterCritical;if(!t.isCombineEnabled)return null;var u=o.draggableId,c=r[u],f=c.descriptor.index,p=ro(u,a);return p?e?f:f-1:e?f+1:f},HO=function(n){var e=n.isMovingForward,t=n.isInHomeList,r=n.insideDestination,o=n.location;if(!r.length)return null;var a=o.index,u=e?a+1:a-1,c=r[0].descriptor.index,f=r[r.length-1].descriptor.index,p=t?f:f+1;return u<c||u>p?null:u},GO=function(n){var e=n.isMovingForward,t=n.isInHomeList,r=n.draggable,o=n.draggables,a=n.destination,u=n.insideDestination,c=n.previousImpact,f=n.viewport,p=n.afterCritical,g=c.at;if(g||se(),g.type==="REORDER"){var v=HO({isMovingForward:e,isInHomeList:t,location:g.destination,insideDestination:u});return v==null?null:Rd({draggable:r,insideDestination:u,destination:a,viewport:f,last:c.displaced,displacedBy:c.displacedBy,index:v})}var E=WO({isMovingForward:e,destination:a,displaced:c.displaced,draggables:o,combine:g.combine,afterCritical:p});return E==null?null:Rd({draggable:r,insideDestination:u,destination:a,viewport:f,last:c.displaced,displacedBy:c.displacedBy,index:E})},qO=function(n){var e=n.displaced,t=n.afterCritical,r=n.combineWith,o=n.displacedBy,a=!!(e.visible[r]||e.invisible[r]);return ro(r,t)?a?Ot:Sa(o.point):a?o.point:Ot},KO=function(n){var e=n.afterCritical,t=n.impact,r=n.draggables,o=lh(t);o||se();var a=o.draggableId,u=r[a].page.borderBox.center,c=qO({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return jt(u,c)},N0=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},QO=function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2},mg=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},JE=function(e){var t=e.axis,r=e.moveRelativeTo,o=e.isMoving;return Qo(t.line,r.marginBox[t.end]+N0(t,o),mg(t,r.marginBox,o))},XE=function(e){var t=e.axis,r=e.moveRelativeTo,o=e.isMoving;return Qo(t.line,r.marginBox[t.start]-QO(t,o),mg(t,r.marginBox,o))},YO=function(e){var t=e.axis,r=e.moveInto,o=e.isMoving;return Qo(t.line,r.contentBox[t.start]+N0(t,o),mg(t,r.contentBox,o))},JO=function(n){var e=n.impact,t=n.draggable,r=n.draggables,o=n.droppable,a=n.afterCritical,u=Ca(o.descriptor.id,r),c=t.page,f=o.axis;if(!u.length)return YO({axis:f,moveInto:o.page,isMoving:c});var p=e.displaced,g=e.displacedBy,v=p.all[0];if(v){var E=r[v];if(ro(v,a))return XE({axis:f,moveRelativeTo:E.page,isMoving:c});var I=Id(E.page,g.point);return XE({axis:f,moveRelativeTo:I,isMoving:c})}var S=u[u.length-1];if(S.descriptor.id===t.descriptor.id)return c.borderBox.center;if(ro(S.descriptor.id,a)){var x=Id(S.page,Sa(a.displacedBy.point));return JE({axis:f,moveRelativeTo:x,isMoving:c})}return JE({axis:f,moveRelativeTo:S.page,isMoving:c})},Jp=function(n,e){var t=n.frame;return t?jt(e,t.scroll.diff.displacement):e},XO=function(e){var t=e.impact,r=e.draggable,o=e.droppable,a=e.draggables,u=e.afterCritical,c=r.page.borderBox.center,f=t.at;return!o||!f?c:f.type==="REORDER"?JO({impact:t,draggable:r,draggables:a,droppable:o,afterCritical:u}):KO({impact:t,draggables:a,afterCritical:u})},ch=function(n){var e=XO(n),t=n.droppable,r=t?Jp(t,e):e;return r},O0=function(n,e){var t=An(e,n.scroll.initial),r=Sa(t),o=ur({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),a={frame:o,scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:r}}};return a};function ZE(n,e){return n.map(function(t){return e[t]})}function ZO(n,e){for(var t=0;t<e.length;t++){var r=e[t].visible[n];if(r)return r}return null}var e2=function(n){var e=n.impact,t=n.viewport,r=n.destination,o=n.draggables,a=n.maxScrollChange,u=O0(t,jt(t.scroll.current,a)),c=r.frame?cg(r,jt(r.frame.scroll.current,a)):r,f=e.displaced,p=Xl({afterDragging:ZE(f.all,o),destination:r,displacedBy:e.displacedBy,viewport:u.frame,last:f,forceShouldAnimate:!1}),g=Xl({afterDragging:ZE(f.all,o),destination:c,displacedBy:e.displacedBy,viewport:t.frame,last:f,forceShouldAnimate:!1}),v={},E={},I=[f,p,g];f.all.forEach(function(x){var R=ZO(x,I);if(R){E[x]=R;return}v[x]=!0});var S=Ie({},e,{displaced:{all:f.all,invisible:v,visible:E}});return S},t2=function(n,e){return jt(n.scroll.diff.displacement,e)},gg=function(n){var e=n.pageBorderBoxCenter,t=n.draggable,r=n.viewport,o=t2(r,e),a=An(o,t.page.borderBox.center);return jt(t.client.borderBox.center,a)},L0=function(n){var e=n.draggable,t=n.destination,r=n.newPageBorderBoxCenter,o=n.viewport,a=n.withDroppableDisplacement,u=n.onlyOnMainAxis,c=u===void 0?!1:u,f=An(r,e.page.borderBox.center),p=fu(e.page.borderBox,f),g={target:p,destination:t,withDroppableDisplacement:a,viewport:o};return c?BO(g):k0(g)},n2=function(n){var e=n.isMovingForward,t=n.draggable,r=n.destination,o=n.draggables,a=n.previousImpact,u=n.viewport,c=n.previousPageBorderBoxCenter,f=n.previousClientSelection,p=n.afterCritical;if(!r.isEnabled)return null;var g=Ca(r.descriptor.id,o),v=Aa(t,r),E=kO({isMovingForward:e,draggable:t,destination:r,insideDestination:g,previousImpact:a})||GO({isMovingForward:e,isInHomeList:v,draggable:t,draggables:o,destination:r,insideDestination:g,previousImpact:a,viewport:u,afterCritical:p});if(!E)return null;var I=ch({impact:E,draggable:t,droppable:r,draggables:o,afterCritical:p}),S=L0({draggable:t,destination:r,newPageBorderBoxCenter:I,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(S){var x=gg({pageBorderBoxCenter:I,draggable:t,viewport:u});return{clientSelection:x,impact:E,scrollJumpRequest:null}}var R=An(I,c),k=e2({impact:E,viewport:u,destination:r,draggables:o,maxScrollChange:R});return{clientSelection:f,impact:k,scrollJumpRequest:R}},nn=function(e){var t=e.subject.active;return t||se(),t},r2=function(n){var e=n.isMovingForward,t=n.pageBorderBoxCenter,r=n.source,o=n.droppables,a=n.viewport,u=r.subject.active;if(!u)return null;var c=r.axis,f=Gn(u[c.start],u[c.end]),p=ah(o).filter(function(v){return v!==r}).filter(function(v){return v.isEnabled}).filter(function(v){return!!v.subject.active}).filter(function(v){return x0(a.frame)(nn(v))}).filter(function(v){var E=nn(v);return e?u[c.crossAxisEnd]<E[c.crossAxisEnd]:E[c.crossAxisStart]<u[c.crossAxisStart]}).filter(function(v){var E=nn(v),I=Gn(E[c.start],E[c.end]);return f(E[c.start])||f(E[c.end])||I(u[c.start])||I(u[c.end])}).sort(function(v,E){var I=nn(v)[c.crossAxisStart],S=nn(E)[c.crossAxisStart];return e?I-S:S-I}).filter(function(v,E,I){return nn(v)[c.crossAxisStart]===nn(I[0])[c.crossAxisStart]});if(!p.length)return null;if(p.length===1)return p[0];var g=p.filter(function(v){var E=Gn(nn(v)[c.start],nn(v)[c.end]);return E(t[c.line])});return g.length===1?g[0]:g.length>1?g.sort(function(v,E){return nn(v)[c.start]-nn(E)[c.start]})[0]:p.sort(function(v,E){var I=KE(t,QE(nn(v))),S=KE(t,QE(nn(E)));return I!==S?I-S:nn(v)[c.start]-nn(E)[c.start]})[0]},ew=function(e,t){var r=e.page.borderBox.center;return ro(e.descriptor.id,t)?An(r,t.displacedBy.point):r},i2=function(e,t){var r=e.page.borderBox;return ro(e.descriptor.id,t)?fu(r,Sa(t.displacedBy.point)):r},o2=function(n){var e=n.pageBorderBoxCenter,t=n.viewport,r=n.destination,o=n.insideDestination,a=n.afterCritical,u=o.filter(function(c){return k0({target:i2(c,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})}).sort(function(c,f){var p=Yl(e,Jp(r,ew(c,a))),g=Yl(e,Jp(r,ew(f,a)));return p<g?-1:g<p?1:c.descriptor.index-f.descriptor.index});return u[0]||null},pu=Nt(function(e,t){var r=t[e.line];return{value:r,point:Qo(e.line,r)}}),s2=function(e,t,r){var o=e.axis;if(e.descriptor.mode==="virtual")return Qo(o.line,t[o.line]);var a=e.subject.page.contentBox[o.size],u=Ca(e.descriptor.id,r),c=u.reduce(function(g,v){return g+v.client.marginBox[o.size]},0),f=c+t[o.line],p=f-a;return p<=0?null:Qo(o.line,p)},M0=function(e,t){return Ie({},e,{scroll:Ie({},e.scroll,{max:t})})},V0=function(e,t,r){var o=e.frame;Aa(t,e)&&se(),e.subject.withPlaceholder&&se();var a=pu(e.axis,t.displaceBy).point,u=s2(e,a,r),c={placeholderSize:a,increasedBy:u,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!o){var f=ca({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:e.frame});return Ie({},e,{subject:f})}var p=u?jt(o.scroll.max,u):o.scroll.max,g=M0(o,p),v=ca({page:e.subject.page,withPlaceholder:c,axis:e.axis,frame:g});return Ie({},e,{subject:v,frame:g})},a2=function(e){var t=e.subject.withPlaceholder;t||se();var r=e.frame;if(!r){var o=ca({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return Ie({},e,{subject:o})}var a=t.oldFrameMaxScroll;a||se();var u=M0(r,a),c=ca({page:e.subject.page,axis:e.axis,frame:u,withPlaceholder:null});return Ie({},e,{subject:c,frame:u})},l2=function(n){var e=n.previousPageBorderBoxCenter,t=n.moveRelativeTo,r=n.insideDestination,o=n.draggable,a=n.draggables,u=n.destination,c=n.viewport,f=n.afterCritical;if(!t){if(r.length)return null;var p={displaced:Jl,displacedBy:b0,at:{type:"REORDER",destination:{droppableId:u.descriptor.id,index:0}}},g=ch({impact:p,draggable:o,droppable:u,draggables:a,afterCritical:f}),v=Aa(o,u)?u:V0(u,o,a),E=L0({draggable:o,destination:v,newPageBorderBoxCenter:g,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return E?p:null}var I=e[u.axis.line]<=t.page.borderBox.center[u.axis.line],S=function(){var R=t.descriptor.index;return t.descriptor.id===o.descriptor.id||I?R:R+1}(),x=pu(u.axis,o.displaceBy);return Rd({draggable:o,insideDestination:r,destination:u,viewport:c,displacedBy:x,last:Jl,index:S})},u2=function(n){var e=n.isMovingForward,t=n.previousPageBorderBoxCenter,r=n.draggable,o=n.isOver,a=n.draggables,u=n.droppables,c=n.viewport,f=n.afterCritical,p=r2({isMovingForward:e,pageBorderBoxCenter:t,source:o,droppables:u,viewport:c});if(!p)return null;var g=Ca(p.descriptor.id,a),v=o2({pageBorderBoxCenter:t,viewport:c,destination:p,insideDestination:g,afterCritical:f}),E=l2({previousPageBorderBoxCenter:t,destination:p,draggable:r,draggables:a,moveRelativeTo:v,insideDestination:g,viewport:c,afterCritical:f});if(!E)return null;var I=ch({impact:E,draggable:r,droppable:p,draggables:a,afterCritical:f}),S=gg({pageBorderBoxCenter:I,draggable:r,viewport:c});return{clientSelection:S,impact:E,scrollJumpRequest:null}},Rn=function(n){var e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},c2=function(e,t){var r=Rn(e);return r?t[r]:null},d2=function(n){var e=n.state,t=n.type,r=c2(e.impact,e.dimensions.droppables),o=!!r,a=e.dimensions.droppables[e.critical.droppable.id],u=r||a,c=u.axis.direction,f=c==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||c==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(f&&!o)return null;var p=t==="MOVE_DOWN"||t==="MOVE_RIGHT",g=e.dimensions.draggables[e.critical.draggable.id],v=e.current.page.borderBoxCenter,E=e.dimensions,I=E.draggables,S=E.droppables;return f?n2({isMovingForward:p,previousPageBorderBoxCenter:v,draggable:g,destination:u,draggables:I,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):u2({isMovingForward:p,previousPageBorderBoxCenter:v,draggable:g,isOver:u,draggables:I,droppables:S,viewport:e.viewport,afterCritical:e.afterCritical})};function jo(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function F0(n){var e=Gn(n.top,n.bottom),t=Gn(n.left,n.right);return function(o){return e(o.y)&&t(o.x)}}function h2(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function f2(n){var e=n.pageBorderBox,t=n.draggable,r=n.candidates,o=t.page.borderBox.center,a=r.map(function(u){var c=u.axis,f=Qo(u.axis.line,e.center[c.line],u.page.borderBox.center[c.crossAxisLine]);return{id:u.descriptor.id,distance:Yl(o,f)}}).sort(function(u,c){return c.distance-u.distance});return a[0]?a[0].id:null}function p2(n){var e=n.pageBorderBox,t=n.draggable,r=n.droppables,o=ah(r).filter(function(a){if(!a.isEnabled)return!1;var u=a.subject.active;if(!u||!h2(e,u))return!1;if(F0(u)(e.center))return!0;var c=a.axis,f=u.center[c.crossAxisLine],p=e[c.crossAxisStart],g=e[c.crossAxisEnd],v=Gn(u[c.crossAxisStart],u[c.crossAxisEnd]),E=v(p),I=v(g);return!E&&!I?!0:E?p<f:g>f});return o.length?o.length===1?o[0].descriptor.id:f2({pageBorderBox:e,draggable:t,candidates:o}):null}var U0=function(e,t){return ur(fu(e,t))},m2=function(n,e){var t=n.frame;return t?U0(e,t.scroll.diff.value):e};function B0(n){var e=n.displaced,t=n.id;return!!(e.visible[t]||e.invisible[t])}function g2(n){var e=n.draggable,t=n.closest,r=n.inHomeList;return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var v2=function(n){var e=n.pageBorderBoxWithDroppableScroll,t=n.draggable,r=n.destination,o=n.insideDestination,a=n.last,u=n.viewport,c=n.afterCritical,f=r.axis,p=pu(r.axis,t.displaceBy),g=p.value,v=e[f.start],E=e[f.end],I=uh(t,o),S=uo(I,function(R){var k=R.descriptor.id,B=R.page.borderBox.center[f.line],V=ro(k,c),q=B0({displaced:a,id:k});return V?q?E<=B:v<B-g:q?E<=B+g:v<B}),x=g2({draggable:t,closest:S,inHomeList:Aa(t,r)});return Rd({draggable:t,insideDestination:o,destination:r,viewport:u,last:a,displacedBy:p,index:x})},y2=4,_2=function(n){var e=n.draggable,t=n.pageBorderBoxWithDroppableScroll,r=n.previousImpact,o=n.destination,a=n.insideDestination,u=n.afterCritical;if(!o.isCombineEnabled)return null;var c=o.axis,f=pu(o.axis,e.displaceBy),p=f.value,g=t[c.start],v=t[c.end],E=uh(e,a),I=uo(E,function(x){var R=x.descriptor.id,k=x.page.borderBox,B=k[c.size],V=B/y2,q=ro(R,u),G=B0({displaced:r.displaced,id:R});return q?G?v>k[c.start]+V&&v<k[c.end]-V:g>k[c.start]-p+V&&g<k[c.end]-p-V:G?v>k[c.start]+p+V&&v<k[c.end]+p-V:g>k[c.start]+V&&g<k[c.end]-V});if(!I)return null;var S={displacedBy:f,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:I.descriptor.id,droppableId:o.descriptor.id}}};return S},j0=function(n){var e=n.pageOffset,t=n.draggable,r=n.draggables,o=n.droppables,a=n.previousImpact,u=n.viewport,c=n.afterCritical,f=U0(t.page.borderBox,e),p=p2({pageBorderBox:f,draggable:t,droppables:o});if(!p)return NO;var g=o[p],v=Ca(g.descriptor.id,r),E=m2(g,f);return _2({pageBorderBoxWithDroppableScroll:E,draggable:t,previousImpact:a,destination:g,insideDestination:v,afterCritical:c})||v2({pageBorderBoxWithDroppableScroll:E,draggable:t,destination:g,insideDestination:v,last:a.displaced,viewport:u,afterCritical:c})},vg=function(n,e){var t;return Ie({},n,(t={},t[e.descriptor.id]=e,t))},E2=function(e){var t=e.previousImpact,r=e.impact,o=e.droppables,a=Rn(t),u=Rn(r);if(!a||a===u)return o;var c=o[a];if(!c.subject.withPlaceholder)return o;var f=a2(c);return vg(o,f)},w2=function(n){var e=n.draggable,t=n.draggables,r=n.droppables,o=n.previousImpact,a=n.impact,u=E2({previousImpact:o,impact:a,droppables:r}),c=Rn(a);if(!c)return u;var f=r[c];if(Aa(e,f)||f.subject.withPlaceholder)return u;var p=V0(f,e,t);return vg(u,p)},Ml=function(n){var e=n.state,t=n.clientSelection,r=n.dimensions,o=n.viewport,a=n.impact,u=n.scrollJumpRequest,c=o||e.viewport,f=r||e.dimensions,p=t||e.current.client.selection,g=An(p,e.initial.client.selection),v={offset:g,selection:p,borderBoxCenter:jt(e.initial.client.borderBoxCenter,g)},E={selection:jt(v.selection,c.scroll.current),borderBoxCenter:jt(v.borderBoxCenter,c.scroll.current),offset:jt(v.offset,c.scroll.diff.value)},I={client:v,page:E};if(e.phase==="COLLECTING")return Ie({phase:"COLLECTING"},e,{dimensions:f,viewport:c,current:I});var S=f.draggables[e.critical.draggable.id],x=a||j0({pageOffset:E.offset,draggable:S,draggables:f.draggables,droppables:f.droppables,previousImpact:e.impact,viewport:c,afterCritical:e.afterCritical}),R=w2({draggable:S,impact:x,previousImpact:e.impact,draggables:f.draggables,droppables:f.droppables}),k=Ie({},e,{current:I,dimensions:{draggables:f.draggables,droppables:R},impact:x,viewport:c,scrollJumpRequest:u||null,forceShouldAnimate:u?!1:null});return k};function I2(n,e){return n.map(function(t){return e[t]})}var $0=function(n){var e=n.impact,t=n.viewport,r=n.draggables,o=n.destination,a=n.forceShouldAnimate,u=e.displaced,c=I2(u.all,r),f=Xl({afterDragging:c,destination:o,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:u});return Ie({},e,{displaced:f})},z0=function(n){var e=n.impact,t=n.draggable,r=n.droppable,o=n.draggables,a=n.viewport,u=n.afterCritical,c=ch({impact:e,draggable:t,draggables:o,droppable:r,afterCritical:u});return gg({pageBorderBoxCenter:c,draggable:t,viewport:a})},W0=function(n){var e=n.state,t=n.dimensions,r=n.viewport;e.movementMode!=="SNAP"&&se();var o=e.impact,a=r||e.viewport,u=t||e.dimensions,c=u.draggables,f=u.droppables,p=c[e.critical.draggable.id],g=Rn(o);g||se();var v=f[g],E=$0({impact:o,viewport:a,destination:v,draggables:c}),I=z0({impact:E,draggable:p,droppable:v,draggables:c,viewport:a,afterCritical:e.afterCritical});return Ml({impact:E,clientSelection:I,state:e,dimensions:u,viewport:a})},T2=function(n){return{index:n.index,droppableId:n.droppableId}},H0=function(n){var e=n.draggable,t=n.home,r=n.draggables,o=n.viewport,a=pu(t.axis,e.displaceBy),u=Ca(t.descriptor.id,r),c=u.indexOf(e);c===-1&&se();var f=u.slice(c+1),p=f.reduce(function(I,S){return I[S.descriptor.id]=!0,I},{}),g={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:p},v=Xl({afterDragging:f,destination:t,displacedBy:a,last:null,viewport:o.frame,forceShouldAnimate:!1}),E={displaced:v,displacedBy:a,at:{type:"REORDER",destination:T2(e.descriptor)}};return{impact:E,afterCritical:g}},S2=function(n,e){return{draggables:n.draggables,droppables:vg(n.droppables,e)}},C2=function(n){var e=n.draggable,t=n.offset,r=n.initialWindowScroll,o=Id(e.client,t),a=Td(o,r),u=Ie({},e,{placeholder:Ie({},e.placeholder,{client:o}),client:o,page:a});return u},A2=function(n){var e=n.frame;return e||se(),e},R2=function(n){var e=n.additions,t=n.updatedDroppables,r=n.viewport,o=r.scroll.diff.value;return e.map(function(a){var u=a.descriptor.droppableId,c=t[u],f=A2(c),p=f.scroll.diff.value,g=jt(o,p),v=C2({draggable:a,offset:g,initialWindowScroll:r.scroll.initial});return v})},P2=function(n){var e=n.state,t=n.published,r=t.modified.map(function(V){var q=e.dimensions.droppables[V.droppableId],G=cg(q,V.scroll);return G}),o=Ie({},e.dimensions.droppables,{},R0(r)),a=P0(R2({additions:t.additions,updatedDroppables:o,viewport:e.viewport})),u=Ie({},e.dimensions.draggables,{},a);t.removals.forEach(function(V){delete u[V]});var c={droppables:o,draggables:u},f=Rn(e.impact),p=f?c.droppables[f]:null,g=c.draggables[e.critical.draggable.id],v=c.droppables[e.critical.droppable.id],E=H0({draggable:g,home:v,draggables:u,viewport:e.viewport}),I=E.impact,S=E.afterCritical,x=p&&p.isCombineEnabled?e.impact:I,R=j0({pageOffset:e.current.page.offset,draggable:c.draggables[e.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:x,viewport:e.viewport,afterCritical:S}),k=Ie({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:R,onLiftImpact:I,dimensions:c,afterCritical:S,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return k;var B=Ie({phase:"DROP_PENDING"},k,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return B},Xp=function(e){return e.movementMode==="SNAP"},dp=function(e,t,r){var o=S2(e.dimensions,t);return!Xp(e)||r?Ml({state:e,dimensions:o}):W0({state:e,dimensions:o})};function hp(n){return n.isDragging&&n.movementMode==="SNAP"?Ie({phase:"DRAGGING"},n,{scrollJumpRequest:null}):n}var tw={phase:"IDLE",completed:null,shouldFlush:!1},b2=function(n,e){if(n===void 0&&(n=tw),e.type==="FLUSH")return Ie({},tw,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&se();var t=e.payload,r=t.critical,o=t.clientSelection,a=t.viewport,u=t.dimensions,c=t.movementMode,f=u.draggables[r.draggable.id],p=u.droppables[r.droppable.id],g={selection:o,borderBoxCenter:f.client.borderBox.center,offset:Ot},v={client:g,page:{selection:jt(g.selection,a.scroll.initial),borderBoxCenter:jt(g.selection,a.scroll.initial),offset:jt(g.selection,a.scroll.diff.value)}},E=ah(u.droppables).every(function(gn){return!gn.isFixedOnPage}),I=H0({draggable:f,home:p,draggables:u.draggables,viewport:a}),S=I.impact,x=I.afterCritical,R={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:c,dimensions:u,initial:v,current:v,isWindowScrollAllowed:E,impact:S,afterCritical:x,onLiftImpact:S,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null};return R}if(e.type==="COLLECTION_STARTING"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&se();var k=Ie({phase:"COLLECTING"},n,{phase:"COLLECTING"});return k}if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||se(),P2({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;jo(n)||se();var B=e.payload.client;return Qi(B,n.current.client.selection)?n:Ml({state:n,clientSelection:B,impact:Xp(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return hp(n);jo(n)||se();var V=e.payload,q=V.id,G=V.newScroll,Z=n.dimensions.droppables[q];if(!Z)return n;var N=cg(Z,G);return dp(n,N,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;jo(n)||se();var P=e.payload,b=P.id,O=P.isEnabled,L=n.dimensions.droppables[b];L||se(),L.isEnabled===O&&se();var $=Ie({},L,{isEnabled:O});return dp(n,$,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;jo(n)||se();var A=e.payload,Ce=A.id,Ke=A.isCombineEnabled,Qe=n.dimensions.droppables[Ce];Qe||se(),Qe.isCombineEnabled===Ke&&se();var Fe=Ie({},Qe,{isCombineEnabled:Ke});return dp(n,Fe,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;jo(n)||se(),n.isWindowScrollAllowed||se();var oe=e.payload.newScroll;if(Qi(n.viewport.scroll.current,oe))return hp(n);var ge=O0(n.viewport,oe);return Xp(n)?W0({state:n,viewport:ge}):Ml({state:n,viewport:ge})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!jo(n))return n;var le=e.payload.maxScroll;if(Qi(le,n.viewport.scroll.max))return n;var z=Ie({},n.viewport,{scroll:Ie({},n.viewport.scroll,{max:le})});return Ie({phase:"DRAGGING"},n,{viewport:z})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&se();var J=d2({state:n,type:e.type});return J?Ml({state:n,impact:J.impact,clientSelection:J.clientSelection,scrollJumpRequest:J.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){var pe=e.payload.reason;n.phase!=="COLLECTING"&&se();var be=Ie({phase:"DROP_PENDING"},n,{phase:"DROP_PENDING",isWaiting:!0,reason:pe});return be}if(e.type==="DROP_ANIMATE"){var Ae=e.payload,De=Ae.completed,Oe=Ae.dropDuration,Le=Ae.newHomeClientOffset;n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||se();var He={phase:"DROP_ANIMATING",completed:De,dropDuration:Oe,newHomeClientOffset:Le,dimensions:n.dimensions};return He}if(e.type==="DROP_COMPLETE"){var nt=e.payload.completed;return{phase:"IDLE",completed:nt,shouldFlush:!1}}return n},x2=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},D2=function(e){return{type:"LIFT",payload:e}},k2=function(e){return{type:"INITIAL_PUBLISH",payload:e}},N2=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},O2=function(){return{type:"COLLECTION_STARTING",payload:null}},L2=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},M2=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},V2=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},G0=function(e){return{type:"MOVE",payload:e}},F2=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},U2=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},B2=function(){return{type:"MOVE_UP",payload:null}},j2=function(){return{type:"MOVE_DOWN",payload:null}},$2=function(){return{type:"MOVE_RIGHT",payload:null}},z2=function(){return{type:"MOVE_LEFT",payload:null}},yg=function(){return{type:"FLUSH",payload:null}},W2=function(e){return{type:"DROP_ANIMATE",payload:e}},_g=function(e){return{type:"DROP_COMPLETE",payload:e}},q0=function(e){return{type:"DROP",payload:e}},H2=function(e){return{type:"DROP_PENDING",payload:e}},K0=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},G2=function(n){return function(e){var t=e.getState,r=e.dispatch;return function(o){return function(a){if(a.type!=="LIFT"){o(a);return}var u=a.payload,c=u.id,f=u.clientSelection,p=u.movementMode,g=t();g.phase==="DROP_ANIMATING"&&r(_g({completed:g.completed})),t().phase!=="IDLE"&&se(),r(yg()),r(x2({draggableId:c,movementMode:p}));var v={shouldPublishImmediately:p==="SNAP"},E={draggableId:c,scrollOptions:v},I=n.startPublishing(E),S=I.critical,x=I.dimensions,R=I.viewport;r(k2({critical:S,dimensions:x,clientSelection:f,movementMode:p,viewport:R}))}}}},q2=function(n){return function(){return function(e){return function(t){t.type==="INITIAL_PUBLISH"&&n.dragging(),t.type==="DROP_ANIMATE"&&n.dropping(t.payload.completed.result.reason),(t.type==="FLUSH"||t.type==="DROP_COMPLETE")&&n.resting(),e(t)}}}},Eg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Zl={opacity:{drop:0,combining:.7},scale:{drop:.75}},wg={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fo=wg.outOfTheWay+"s "+Eg.outOfTheWay,Vl={fluid:"opacity "+Fo,snap:"transform "+Fo+", opacity "+Fo,drop:function(e){var t=e+"s "+Eg.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Fo,placeholder:"height "+Fo+", width "+Fo+", margin "+Fo},nw=function(e){return Qi(e,Ot)?null:"translate("+e.x+"px, "+e.y+"px)"},Zp={moveTo:nw,drop:function(e,t){var r=nw(e);return r?t?r+" scale("+Zl.scale.drop+")":r:null}},em=wg.minDropTime,Q0=wg.maxDropTime,K2=Q0-em,rw=1500,Q2=.6,Y2=function(n){var e=n.current,t=n.destination,r=n.reason,o=Yl(e,t);if(o<=0)return em;if(o>=rw)return Q0;var a=o/rw,u=em+K2*a,c=r==="CANCEL"?u*Q2:u;return Number(c.toFixed(2))},J2=function(n){var e=n.impact,t=n.draggable,r=n.dimensions,o=n.viewport,a=n.afterCritical,u=r.draggables,c=r.droppables,f=Rn(e),p=f?c[f]:null,g=c[t.descriptor.droppableId],v=z0({impact:e,draggable:t,draggables:u,afterCritical:a,droppable:p||g,viewport:o}),E=An(v,t.client.borderBox.center);return E},X2=function(n){var e=n.draggables,t=n.reason,r=n.lastImpact,o=n.home,a=n.viewport,u=n.onLiftImpact;if(!r.at||t!=="DROP"){var c=$0({draggables:e,impact:u,destination:o,viewport:a,forceShouldAnimate:!0});return{impact:c,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var f=Ie({},r,{displaced:Jl});return{impact:f,didDropInsideDroppable:!0}},Z2=function(n){var e=n.getState,t=n.dispatch;return function(r){return function(o){if(o.type!=="DROP"){r(o);return}var a=e(),u=o.payload.reason;if(a.phase==="COLLECTING"){t(H2({reason:u}));return}if(a.phase!=="IDLE"){var c=a.phase==="DROP_PENDING"&&a.isWaiting;c&&se(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||se();var f=a.critical,p=a.dimensions,g=p.draggables[a.critical.draggable.id],v=X2({reason:u,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),E=v.impact,I=v.didDropInsideDroppable,S=I?hg(E):null,x=I?lh(E):null,R={index:f.draggable.index,droppableId:f.droppable.id},k={draggableId:g.descriptor.id,type:g.descriptor.type,source:R,reason:u,mode:a.movementMode,destination:S,combine:x},B=J2({impact:E,draggable:g,dimensions:p,viewport:a.viewport,afterCritical:a.afterCritical}),V={critical:a.critical,afterCritical:a.afterCritical,result:k,impact:E},q=!Qi(a.current.client.offset,B)||!!k.combine;if(!q){t(_g({completed:V}));return}var G=Y2({current:a.current.client.offset,destination:B,reason:u}),Z={newHomeClientOffset:B,dropDuration:G,completed:V};t(W2(Z))}}}},Y0=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function eL(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||n()}}}function tL(n){var e=n.onWindowScroll;function t(){e(Y0())}var r=Ql(t),o=eL(r),a=Ki;function u(){return a!==Ki}function c(){u()&&se(),a=Wn(window,[o])}function f(){u()||se(),r.cancel(),a(),a=Ki}return{start:c,stop:f,isActive:u}}var nL=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},rL=function(n){var e=tL({onWindowScroll:function(r){n.dispatch(F2({newScroll:r}))}});return function(t){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&nL(r)&&e.stop(),t(r)}}},iL=function(n){var e=!1,t=!1,r=setTimeout(function(){t=!0}),o=function(u){e||t||(e=!0,n(u),clearTimeout(r))};return o.wasCalled=function(){return e},o},oL=function(){var n=[],e=function(a){var u=dg(n,function(p){return p.timerId===a});u===-1&&se();var c=n.splice(u,1),f=c[0];f.callback()},t=function(a){var u=setTimeout(function(){return e(u)}),c={timerId:u,callback:a};n.push(c)},r=function(){if(n.length){var a=[].concat(n);n.length=0,a.forEach(function(u){clearTimeout(u.timerId),u.callback()})}};return{add:t,flush:r}},sL=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index},aL=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId},lL=function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,o=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&o},Il=function(e,t){t()},Vc=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},fp=function(e,t,r,o){if(!e){r(o(t));return}var a=iL(r),u={announce:a};e(t,u),a.wasCalled()||r(o(t))},uL=function(n,e){var t=oL(),r=null,o=function(E,I){r&&se(),Il("onBeforeCapture",function(){var S=n().onBeforeCapture;if(S){var x={draggableId:E,mode:I};S(x)}})},a=function(E,I){r&&se(),Il("onBeforeDragStart",function(){var S=n().onBeforeDragStart;S&&S(Vc(E,I))})},u=function(E,I){r&&se();var S=Vc(E,I);r={mode:I,lastCritical:E,lastLocation:S.source,lastCombine:null},t.add(function(){Il("onDragStart",function(){return fp(n().onDragStart,S,e,Zc.onDragStart)})})},c=function(E,I){var S=hg(I),x=lh(I);r||se();var R=!lL(E,r.lastCritical);R&&(r.lastCritical=E);var k=!sL(r.lastLocation,S);k&&(r.lastLocation=S);var B=!aL(r.lastCombine,x);if(B&&(r.lastCombine=x),!(!R&&!k&&!B)){var V=Ie({},Vc(E,r.mode),{combine:x,destination:S});t.add(function(){Il("onDragUpdate",function(){return fp(n().onDragUpdate,V,e,Zc.onDragUpdate)})})}},f=function(){r||se(),t.flush()},p=function(E){r||se(),r=null,Il("onDragEnd",function(){return fp(n().onDragEnd,E,e,Zc.onDragEnd)})},g=function(){if(r){var E=Ie({},Vc(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});p(E)}};return{beforeCapture:o,beforeStart:a,start:u,update:c,flush:f,drop:p,abort:g}},cL=function(n,e){var t=uL(n,e);return function(r){return function(o){return function(a){if(a.type==="BEFORE_INITIAL_CAPTURE"){t.beforeCapture(a.payload.draggableId,a.payload.movementMode);return}if(a.type==="INITIAL_PUBLISH"){var u=a.payload.critical;t.beforeStart(u,a.payload.movementMode),o(a),t.start(u,a.payload.movementMode);return}if(a.type==="DROP_COMPLETE"){var c=a.payload.completed.result;t.flush(),o(a),t.drop(c);return}if(o(a),a.type==="FLUSH"){t.abort();return}var f=r.getState();f.phase==="DRAGGING"&&t.update(f.critical,f.impact)}}}},dL=function(n){return function(e){return function(t){if(t.type!=="DROP_ANIMATION_FINISHED"){e(t);return}var r=n.getState();r.phase!=="DROP_ANIMATING"&&se(),n.dispatch(_g({completed:r.completed}))}}},hL=function(n){var e=null,t=null;function r(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}return function(o){return function(a){if((a.type==="FLUSH"||a.type==="DROP_COMPLETE"||a.type==="DROP_ANIMATION_FINISHED")&&r(),o(a),a.type==="DROP_ANIMATE"){var u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var f=n.getState();f.phase==="DROP_ANIMATING"&&n.dispatch(K0())}};t=requestAnimationFrame(function(){t=null,e=Wn(window,[u])})}}}},fL=function(n){return function(){return function(e){return function(t){(t.type==="DROP_COMPLETE"||t.type==="FLUSH"||t.type==="DROP_ANIMATE")&&n.stopPublishing(),e(t)}}}},pL=function(n){var e=!1;return function(){return function(t){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,n.tryRecordFocus(r.payload.critical.draggable.id),t(r),n.tryRestoreFocusRecorded();return}if(t(r),!!e){if(r.type==="FLUSH"){e=!1,n.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var o=r.payload.completed.result;o.combine&&n.tryShiftRecord(o.draggableId,o.combine.draggableId),n.tryRestoreFocusRecorded()}}}}}},mL=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},gL=function(n){return function(e){return function(t){return function(r){if(mL(r)){n.stop(),t(r);return}if(r.type==="INITIAL_PUBLISH"){t(r);var o=e.getState();o.phase!=="DRAGGING"&&se(),n.start(o);return}t(r),n.scroll(e.getState())}}}},vL=function(n){return function(e){return function(t){if(e(t),t.type==="PUBLISH_WHILE_DRAGGING"){var r=n.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||n.dispatch(q0({reason:r.reason})))}}}},yL=h0,_L=function(n){var e=n.dimensionMarshal,t=n.focusMarshal,r=n.styleMarshal,o=n.getResponders,a=n.announce,u=n.autoScroller;return d0(b2,yL(TN(q2(r),fL(e),G2(e),Z2,dL,hL,vL,gL(u),rL,pL(t),cL(o,a))))},pp=function(){return{additions:{},removals:{},modified:{}}};function EL(n){var e=n.registry,t=n.callbacks,r=pp(),o=null,a=function(){o||(t.collectionStarting(),o=requestAnimationFrame(function(){o=null;var g=r,v=g.additions,E=g.removals,I=g.modified,S=Object.keys(v).map(function(k){return e.draggable.getById(k).getDimension(Ot)}).sort(function(k,B){return k.descriptor.index-B.descriptor.index}),x=Object.keys(I).map(function(k){var B=e.droppable.getById(k),V=B.callbacks.getScrollWhileDragging();return{droppableId:k,scroll:V}}),R={additions:S,removals:Object.keys(E),modified:x};r=pp(),t.publish(R)}))},u=function(g){var v=g.descriptor.id;r.additions[v]=g,r.modified[g.descriptor.droppableId]=!0,r.removals[v]&&delete r.removals[v],a()},c=function(g){var v=g.descriptor;r.removals[v.id]=!0,r.modified[v.droppableId]=!0,r.additions[v.id]&&delete r.additions[v.id],a()},f=function(){o&&(cancelAnimationFrame(o),o=null,r=pp())};return{add:u,remove:c,stop:f}}var J0=function(n){var e=n.scrollHeight,t=n.scrollWidth,r=n.height,o=n.width,a=An({x:t,y:e},{x:o,y:r}),u={x:Math.max(0,a.x),y:Math.max(0,a.y)};return u},X0=function(){var n=document.documentElement;return n||se(),n},Z0=function(){var n=X0(),e=J0({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight});return e},wL=function(){var n=Y0(),e=Z0(),t=n.y,r=n.x,o=X0(),a=o.clientWidth,u=o.clientHeight,c=r+a,f=t+u,p=ur({top:t,left:r,right:c,bottom:f}),g={frame:p,scroll:{initial:n,current:n,max:e,diff:{value:Ot,displacement:Ot}}};return g},IL=function(n){var e=n.critical,t=n.scrollOptions,r=n.registry,o=wL(),a=o.scroll.current,u=e.droppable,c=r.droppable.getAllByType(u.type).map(function(v){return v.callbacks.getDimensionAndWatchScroll(a,t)}),f=r.draggable.getAllByType(e.draggable.type).map(function(v){return v.getDimension(a)}),p={draggables:P0(f),droppables:R0(c)},g={dimensions:p,critical:e,viewport:o};return g};function iw(n,e,t){if(t.descriptor.id===e.id||t.descriptor.type!==e.type)return!1;var r=n.droppable.getById(t.descriptor.droppableId);return r.descriptor.mode==="virtual"}var TL=function(n,e){var t=null,r=EL({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),o=function(I,S){n.droppable.exists(I)||se(),t&&e.updateDroppableIsEnabled({id:I,isEnabled:S})},a=function(I,S){t&&(n.droppable.exists(I)||se(),e.updateDroppableIsCombineEnabled({id:I,isCombineEnabled:S}))},u=function(I,S){t&&(n.droppable.exists(I)||se(),e.updateDroppableScroll({id:I,newScroll:S}))},c=function(I,S){t&&n.droppable.getById(I).callbacks.scroll(S)},f=function(){if(t){r.stop();var I=t.critical.droppable;n.droppable.getAllByType(I.type).forEach(function(S){return S.callbacks.dragStopped()}),t.unsubscribe(),t=null}},p=function(I){t||se();var S=t.critical.draggable;I.type==="ADDITION"&&iw(n,S,I.value)&&r.add(I.value),I.type==="REMOVAL"&&iw(n,S,I.value)&&r.remove(I.value)},g=function(I){t&&se();var S=n.draggable.getById(I.draggableId),x=n.droppable.getById(S.descriptor.droppableId),R={draggable:S.descriptor,droppable:x.descriptor},k=n.subscribe(p);return t={critical:R,unsubscribe:k},IL({critical:R,registry:n,scrollOptions:I.scrollOptions})},v={updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:a,scrollDroppable:c,updateDroppableScroll:u,startPublishing:g,stopPublishing:f};return v},eS=function(n,e){return n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP"},SL=function(n){window.scrollBy(n.x,n.y)},CL=Nt(function(n){return ah(n).filter(function(e){return!(!e.isEnabled||!e.frame)})}),AL=function(e,t){var r=uo(CL(t),function(o){return o.frame||se(),F0(o.frame.pageMarginBox)(e)});return r},RL=function(n){var e=n.center,t=n.destination,r=n.droppables;if(t){var o=r[t];return o.frame?o:null}var a=AL(e,r);return a},Yi={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},PL=function(n,e){var t=n[e.size]*Yi.startFromPercentage,r=n[e.size]*Yi.maxScrollAtPercentage,o={startScrollingFrom:t,maxScrollValueAt:r};return o},tS=function(n){var e=n.startOfRange,t=n.endOfRange,r=n.current,o=t-e;if(o===0)return 0;var a=r-e,u=a/o;return u},Ig=1,bL=function(n,e){if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return Yi.maxPixelScroll;if(n===e.startScrollingFrom)return Ig;var t=tS({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),r=1-t,o=Yi.maxPixelScroll*Yi.ease(r);return Math.ceil(o)},ow=Yi.durationDampening.accelerateAt,sw=Yi.durationDampening.stopDampeningAt,xL=function(n,e){var t=e,r=sw,o=Date.now(),a=o-t;if(a>=sw)return n;if(a<ow)return Ig;var u=tS({startOfRange:ow,endOfRange:r,current:a}),c=n*Yi.ease(u);return Math.ceil(c)},aw=function(n){var e=n.distanceToEdge,t=n.thresholds,r=n.dragStartTime,o=n.shouldUseTimeDampening,a=bL(e,t);return a===0?0:o?Math.max(xL(a,r),Ig):a},lw=function(n){var e=n.container,t=n.distanceToEdges,r=n.dragStartTime,o=n.axis,a=n.shouldUseTimeDampening,u=PL(e,o),c=t[o.end]<t[o.start];return c?aw({distanceToEdge:t[o.end],thresholds:u,dragStartTime:r,shouldUseTimeDampening:a}):-1*aw({distanceToEdge:t[o.start],thresholds:u,dragStartTime:r,shouldUseTimeDampening:a})},DL=function(n){var e=n.container,t=n.subject,r=n.proposedScroll,o=t.height>e.height,a=t.width>e.width;return!a&&!o?r:a&&o?null:{x:a?0:r.x,y:o?0:r.y}},kL=C0(function(n){return n===0?0:n}),nS=function(n){var e=n.dragStartTime,t=n.container,r=n.subject,o=n.center,a=n.shouldUseTimeDampening,u={top:o.y-t.top,right:t.right-o.x,bottom:t.bottom-o.y,left:o.x-t.left},c=lw({container:t,distanceToEdges:u,dragStartTime:e,axis:fg,shouldUseTimeDampening:a}),f=lw({container:t,distanceToEdges:u,dragStartTime:e,axis:D0,shouldUseTimeDampening:a}),p=kL({x:f,y:c});if(Qi(p,Ot))return null;var g=DL({container:t,subject:r,proposedScroll:p});return g?Qi(g,Ot)?null:g:null},NL=C0(function(n){return n===0?0:n>0?1:-1}),Tg=function(){var n=function(t,r){return t<0?t:t>r?t-r:0};return function(e){var t=e.current,r=e.max,o=e.change,a=jt(t,o),u={x:n(a.x,r.x),y:n(a.y,r.y)};return Qi(u,Ot)?null:u}}(),rS=function(e){var t=e.max,r=e.current,o=e.change,a={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},u=NL(o),c=Tg({max:a,current:r,change:u});return!c||u.x!==0&&c.x===0||u.y!==0&&c.y===0},Sg=function(e,t){return rS({current:e.scroll.current,max:e.scroll.max,change:t})},OL=function(e,t){if(!Sg(e,t))return null;var r=e.scroll.max,o=e.scroll.current;return Tg({current:o,max:r,change:t})},Cg=function(e,t){var r=e.frame;return r?rS({current:r.scroll.current,max:r.scroll.max,change:t}):!1},LL=function(e,t){var r=e.frame;return!r||!Cg(e,t)?null:Tg({current:r.scroll.current,max:r.scroll.max,change:t})},ML=function(n){var e=n.viewport,t=n.subject,r=n.center,o=n.dragStartTime,a=n.shouldUseTimeDampening,u=nS({dragStartTime:o,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a});return u&&Sg(e,u)?u:null},VL=function(n){var e=n.droppable,t=n.subject,r=n.center,o=n.dragStartTime,a=n.shouldUseTimeDampening,u=e.frame;if(!u)return null;var c=nS({dragStartTime:o,container:u.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a});return c&&Cg(e,c)?c:null},uw=function(n){var e=n.state,t=n.dragStartTime,r=n.shouldUseTimeDampening,o=n.scrollWindow,a=n.scrollDroppable,u=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id],f=c.page.marginBox;if(e.isWindowScrollAllowed){var p=e.viewport,g=ML({dragStartTime:t,viewport:p,subject:f,center:u,shouldUseTimeDampening:r});if(g){o(g);return}}var v=RL({center:u,destination:Rn(e.impact),droppables:e.dimensions.droppables});if(v){var E=VL({dragStartTime:t,droppable:v,subject:f,center:u,shouldUseTimeDampening:r});E&&a(v.descriptor.id,E)}},FL=function(n){var e=n.scrollWindow,t=n.scrollDroppable,r=Ql(e),o=Ql(t),a=null,u=function(g){a||se();var v=a,E=v.shouldUseTimeDampening,I=v.dragStartTime;uw({state:g,scrollWindow:r,scrollDroppable:o,dragStartTime:I,shouldUseTimeDampening:E})},c=function(g){a&&se();var v=Date.now(),E=!1,I=function(){E=!0};uw({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:I,scrollDroppable:I}),a={dragStartTime:v,shouldUseTimeDampening:E},E&&u(g)},f=function(){a&&(r.cancel(),o.cancel(),a=null)};return{start:c,stop:f,scroll:u}},UL=function(n){var e=n.move,t=n.scrollDroppable,r=n.scrollWindow,o=function(p,g){var v=jt(p.current.client.selection,g);e({client:v})},a=function(p,g){if(!Cg(p,g))return g;var v=LL(p,g);if(!v)return t(p.descriptor.id,g),null;var E=An(g,v);t(p.descriptor.id,E);var I=An(g,E);return I},u=function(p,g,v){if(!p||!Sg(g,v))return v;var E=OL(g,v);if(!E)return r(v),null;var I=An(v,E);r(I);var S=An(v,I);return S},c=function(p){var g=p.scrollJumpRequest;if(g){var v=Rn(p.impact);v||se();var E=a(p.dimensions.droppables[v],g);if(E){var I=p.viewport,S=u(p.isWindowScrollAllowed,I,E);S&&o(p,S)}}};return c},BL=function(n){var e=n.scrollDroppable,t=n.scrollWindow,r=n.move,o=FL({scrollWindow:t,scrollDroppable:e}),a=UL({move:r,scrollWindow:t,scrollDroppable:e}),u=function(p){if(p.phase==="DRAGGING"){if(p.movementMode==="FLUID"){o.scroll(p);return}p.scrollJumpRequest&&a(p)}},c={scroll:u,start:o.start,stop:o.stop};return c},da="data-rbd",ha=function(){var n=da+"-drag-handle";return{base:n,draggableId:n+"-draggable-id",contextId:n+"-context-id"}}(),tm=function(){var n=da+"-draggable";return{base:n,contextId:n+"-context-id",id:n+"-id"}}(),jL=function(){var n=da+"-droppable";return{base:n,contextId:n+"-context-id",id:n+"-id"}}(),cw={contextId:da+"-scroll-container-context-id"},$L=function(e){return function(t){return"["+t+'="'+e+'"]'}},Tl=function(e,t){return e.map(function(r){var o=r.styles[t];return o?r.selector+" { "+o+" }":""}).join(" ")},zL="pointer-events: none;",WL=function(n){var e=$L(n),t=function(){var c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(ha.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:zL,dropAnimating:c}}}(),r=function(){var c=`
      transition: `+Vl.outOfTheWay+`;
    `;return{selector:e(tm.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}}(),o={selector:e(jL.contextId),styles:{always:"overflow-anchor: none;"}},a={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},u=[r,t,o,a];return{always:Tl(u,"always"),resting:Tl(u,"resting"),dragging:Tl(u,"dragging"),dropAnimating:Tl(u,"dropAnimating"),userCancel:Tl(u,"userCancel")}},Pn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect,mp=function(){var e=document.querySelector("head");return e||se(),e},dw=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function HL(n,e){var t=ze(function(){return WL(n)},[n]),r=F.useRef(null),o=F.useRef(null),a=ye(Nt(function(v){var E=o.current;E||se(),E.textContent=v}),[]),u=ye(function(v){var E=r.current;E||se(),E.textContent=v},[]);Pn(function(){!r.current&&!o.current||se();var v=dw(e),E=dw(e);return r.current=v,o.current=E,v.setAttribute(da+"-always",n),E.setAttribute(da+"-dynamic",n),mp().appendChild(v),mp().appendChild(E),u(t.always),a(t.resting),function(){var I=function(x){var R=x.current;R||se(),mp().removeChild(R),x.current=null};I(r),I(o)}},[e,u,a,t.always,t.resting,n]);var c=ye(function(){return a(t.dragging)},[a,t.dragging]),f=ye(function(v){if(v==="DROP"){a(t.dropAnimating);return}a(t.userCancel)},[a,t.dropAnimating,t.userCancel]),p=ye(function(){o.current&&a(t.resting)},[a,t.resting]),g=ze(function(){return{dragging:c,dropping:f,resting:p}},[c,f,p]);return g}var iS=function(n){return n&&n.ownerDocument?n.ownerDocument.defaultView:window};function dh(n){return n instanceof iS(n).HTMLElement}function GL(n,e){var t="["+ha.contextId+'="'+n+'"]',r=A0(document.querySelectorAll(t));if(!r.length)return null;var o=uo(r,function(a){return a.getAttribute(ha.draggableId)===e});return!o||!dh(o)?null:o}function qL(n){var e=F.useRef({}),t=F.useRef(null),r=F.useRef(null),o=F.useRef(!1),a=ye(function(E,I){var S={id:E,focus:I};return e.current[E]=S,function(){var R=e.current,k=R[E];k!==S&&delete R[E]}},[]),u=ye(function(E){var I=GL(n,E);I&&I!==document.activeElement&&I.focus()},[n]),c=ye(function(E,I){t.current===E&&(t.current=I)},[]),f=ye(function(){r.current||o.current&&(r.current=requestAnimationFrame(function(){r.current=null;var E=t.current;E&&u(E)}))},[u]),p=ye(function(E){t.current=null;var I=document.activeElement;I&&I.getAttribute(ha.draggableId)===E&&(t.current=E)},[]);Pn(function(){return o.current=!0,function(){o.current=!1;var E=r.current;E&&cancelAnimationFrame(E)}},[]);var g=ze(function(){return{register:a,tryRecordFocus:p,tryRestoreFocusRecorded:f,tryShiftRecord:c}},[a,p,f,c]);return g}function KL(){var n={draggables:{},droppables:{}},e=[];function t(v){return e.push(v),function(){var I=e.indexOf(v);I!==-1&&e.splice(I,1)}}function r(v){e.length&&e.forEach(function(E){return E(v)})}function o(v){return n.draggables[v]||null}function a(v){var E=o(v);return E||se(),E}var u={register:function(E){n.draggables[E.descriptor.id]=E,r({type:"ADDITION",value:E})},update:function(E,I){var S=n.draggables[I.descriptor.id];S&&S.uniqueId===E.uniqueId&&(delete n.draggables[I.descriptor.id],n.draggables[E.descriptor.id]=E)},unregister:function(E){var I=E.descriptor.id,S=o(I);S&&E.uniqueId===S.uniqueId&&(delete n.draggables[I],r({type:"REMOVAL",value:E}))},getById:a,findById:o,exists:function(E){return!!o(E)},getAllByType:function(E){return Ad(n.draggables).filter(function(I){return I.descriptor.type===E})}};function c(v){return n.droppables[v]||null}function f(v){var E=c(v);return E||se(),E}var p={register:function(E){n.droppables[E.descriptor.id]=E},unregister:function(E){var I=c(E.descriptor.id);I&&E.uniqueId===I.uniqueId&&delete n.droppables[E.descriptor.id]},getById:f,findById:c,exists:function(E){return!!c(E)},getAllByType:function(E){return Ad(n.droppables).filter(function(I){return I.descriptor.type===E})}};function g(){n.draggables={},n.droppables={},e.length=0}return{draggable:u,droppable:p,subscribe:t,clean:g}}function QL(){var n=ze(KL,[]);return F.useEffect(function(){return function(){requestAnimationFrame(n.clean)}},[n]),n}var Ag=tt.createContext(null),Pd=function(){var n=document.body;return n||se(),n},YL={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},JL=function(e){return"rbd-announcement-"+e};function XL(n){var e=ze(function(){return JL(n)},[n]),t=F.useRef(null);F.useEffect(function(){var a=document.createElement("div");return t.current=a,a.id=e,a.setAttribute("aria-live","assertive"),a.setAttribute("aria-atomic","true"),Ie(a.style,YL),Pd().appendChild(a),function(){setTimeout(function(){var f=Pd();f.contains(a)&&f.removeChild(a),a===t.current&&(t.current=null)})}},[e]);var r=ye(function(o){var a=t.current;if(a){a.textContent=o;return}},[]);return r}var ZL=0,eM={separator:"::"};function Rg(n,e){return e===void 0&&(e=eM),ze(function(){return""+n+e.separator+ZL++},[e.separator,n])}function tM(n){var e=n.contextId,t=n.uniqueId;return"rbd-hidden-text-"+e+"-"+t}function nM(n){var e=n.contextId,t=n.text,r=Rg("hidden-text",{separator:"-"}),o=ze(function(){return tM({contextId:e,uniqueId:r})},[r,e]);return F.useEffect(function(){var u=document.createElement("div");return u.id=o,u.textContent=t,u.style.display="none",Pd().appendChild(u),function(){var f=Pd();f.contains(u)&&f.removeChild(u)}},[o,t]),o}var hh=tt.createContext(null);function oS(n){var e=F.useRef(n);return F.useEffect(function(){e.current=n}),e}function rM(){var n=null;function e(){return!!n}function t(u){return u===n}function r(u){n&&se();var c={abandon:u};return n=c,c}function o(){n||se(),n=null}function a(){n&&(n.abandon(),o())}return{isClaimed:e,isActive:t,claim:r,release:o,tryAbandon:a}}var iM=9,oM=13,Pg=27,sS=32,sM=33,aM=34,lM=35,uM=36,cM=37,dM=38,hM=39,fM=40,Fc,pM=(Fc={},Fc[oM]=!0,Fc[iM]=!0,Fc),aS=function(n){pM[n.keyCode]&&n.preventDefault()},fh=function(){var n="visibilitychange";if(typeof document>"u")return n;var e=[n,"ms"+n,"webkit"+n,"moz"+n,"o"+n],t=uo(e,function(r){return"on"+r in document});return t||n}(),lS=0,hw=5;function mM(n,e){return Math.abs(e.x-n.x)>=hw||Math.abs(e.y-n.y)>=hw}var fw={type:"IDLE"};function gM(n){var e=n.cancel,t=n.completed,r=n.getPhase,o=n.setPhase;return[{eventName:"mousemove",fn:function(u){var c=u.button,f=u.clientX,p=u.clientY;if(c===lS){var g={x:f,y:p},v=r();if(v.type==="DRAGGING"){u.preventDefault(),v.actions.move(g);return}v.type!=="PENDING"&&se();var E=v.point;if(mM(E,g)){u.preventDefault();var I=v.actions.fluidLift(g);o({type:"DRAGGING",actions:I})}}}},{eventName:"mouseup",fn:function(u){var c=r();if(c.type!=="DRAGGING"){e();return}u.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:function(u){r().type==="DRAGGING"&&u.preventDefault(),e()}},{eventName:"keydown",fn:function(u){var c=r();if(c.type==="PENDING"){e();return}if(u.keyCode===Pg){u.preventDefault(),e();return}aS(u)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(u){var c=r();if(c.type==="IDLE"&&se(),c.actions.shouldRespectForcePress()){e();return}u.preventDefault()}},{eventName:fh,fn:e}]}function vM(n){var e=F.useRef(fw),t=F.useRef(Ki),r=ze(function(){return{eventName:"mousedown",fn:function(v){if(!v.defaultPrevented&&v.button===lS&&!(v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)){var E=n.findClosestDraggableId(v);if(E){var I=n.tryGetLock(E,u,{sourceEvent:v});if(I){v.preventDefault();var S={x:v.clientX,y:v.clientY};t.current(),p(I,S)}}}}}},[n]),o=ze(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(v){if(!v.defaultPrevented){var E=n.findClosestDraggableId(v);if(E){var I=n.findOptionsForDraggable(E);I&&(I.shouldRespectForcePress||n.canGetLock(E)&&v.preventDefault())}}}}},[n]),a=ye(function(){var v={passive:!1,capture:!0};t.current=Wn(window,[o,r],v)},[o,r]),u=ye(function(){var g=e.current;g.type!=="IDLE"&&(e.current=fw,t.current(),a())},[a]),c=ye(function(){var g=e.current;u(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[u]),f=ye(function(){var v={capture:!0,passive:!1},E=gM({cancel:c,completed:u,getPhase:function(){return e.current},setPhase:function(S){e.current=S}});t.current=Wn(window,E,v)},[c,u]),p=ye(function(v,E){e.current.type!=="IDLE"&&se(),e.current={type:"PENDING",point:E,actions:v},f()},[f]);Pn(function(){return a(),function(){t.current()}},[a])}var Ws;function yM(){}var _M=(Ws={},Ws[aM]=!0,Ws[sM]=!0,Ws[uM]=!0,Ws[lM]=!0,Ws);function EM(n,e){function t(){e(),n.cancel()}function r(){e(),n.drop()}return[{eventName:"keydown",fn:function(a){if(a.keyCode===Pg){a.preventDefault(),t();return}if(a.keyCode===sS){a.preventDefault(),r();return}if(a.keyCode===fM){a.preventDefault(),n.moveDown();return}if(a.keyCode===dM){a.preventDefault(),n.moveUp();return}if(a.keyCode===hM){a.preventDefault(),n.moveRight();return}if(a.keyCode===cM){a.preventDefault(),n.moveLeft();return}if(_M[a.keyCode]){a.preventDefault();return}aS(a)}},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:fh,fn:t}]}function wM(n){var e=F.useRef(yM),t=ze(function(){return{eventName:"keydown",fn:function(a){if(a.defaultPrevented||a.keyCode!==sS)return;var u=n.findClosestDraggableId(a);if(!u)return;var c=n.tryGetLock(u,g,{sourceEvent:a});if(!c)return;a.preventDefault();var f=!0,p=c.snapLift();e.current();function g(){f||se(),f=!1,e.current(),r()}e.current=Wn(window,EM(p,g),{capture:!0,passive:!1})}}},[n]),r=ye(function(){var a={passive:!1,capture:!0};e.current=Wn(window,[t],a)},[t]);Pn(function(){return r(),function(){e.current()}},[r])}var gp={type:"IDLE"},IM=120,TM=.15;function SM(n){var e=n.cancel,t=n.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(o){o.preventDefault()}},{eventName:"keydown",fn:function(o){if(t().type!=="DRAGGING"){e();return}o.keyCode===Pg&&o.preventDefault(),e()}},{eventName:fh,fn:e}]}function CM(n){var e=n.cancel,t=n.completed,r=n.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(a){var u=r();if(u.type!=="DRAGGING"){e();return}u.hasMoved=!0;var c=a.touches[0],f=c.clientX,p=c.clientY,g={x:f,y:p};a.preventDefault(),u.actions.move(g)}},{eventName:"touchend",fn:function(a){var u=r();if(u.type!=="DRAGGING"){e();return}a.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:function(a){if(r().type!=="DRAGGING"){e();return}a.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(a){var u=r();u.type==="IDLE"&&se();var c=a.touches[0];if(c){var f=c.force>=TM;if(f){var p=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){p&&e();return}if(p){if(u.hasMoved){a.preventDefault();return}e();return}a.preventDefault()}}}},{eventName:fh,fn:e}]}function AM(n){var e=F.useRef(gp),t=F.useRef(Ki),r=ye(function(){return e.current},[]),o=ye(function(I){e.current=I},[]),a=ze(function(){return{eventName:"touchstart",fn:function(I){if(!I.defaultPrevented){var S=n.findClosestDraggableId(I);if(S){var x=n.tryGetLock(S,c,{sourceEvent:I});if(x){var R=I.touches[0],k=R.clientX,B=R.clientY,V={x:k,y:B};t.current(),v(x,V)}}}}}},[n]),u=ye(function(){var I={capture:!0,passive:!1};t.current=Wn(window,[a],I)},[a]),c=ye(function(){var E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),o(gp),t.current(),u())},[u,o]),f=ye(function(){var E=e.current;c(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[c]),p=ye(function(){var I={capture:!0,passive:!1},S={cancel:f,completed:c,getPhase:r},x=Wn(window,CM(S),I),R=Wn(window,SM(S),I);t.current=function(){x(),R()}},[f,r,c]),g=ye(function(){var I=r();I.type!=="PENDING"&&se();var S=I.actions.fluidLift(I.point);o({type:"DRAGGING",actions:S,hasMoved:!1})},[r,o]),v=ye(function(I,S){r().type!=="IDLE"&&se();var x=setTimeout(g,IM);o({type:"PENDING",point:S,actions:I,longPressTimerId:x}),p()},[p,r,o,g]);Pn(function(){return u(),function(){t.current();var S=r();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),o(gp))}},[r,u,o]),Pn(function(){var I=Wn(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return I},[])}var RM={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function uS(n,e){if(e==null)return!1;var t=!!RM[e.tagName.toLowerCase()];if(t)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===n?!1:uS(n,e.parentElement)}function PM(n,e){var t=e.target;return dh(t)?uS(n,t):!1}var bM=function(n){return ur(n.getBoundingClientRect()).center};function xM(n){return n instanceof iS(n).Element}var DM=function(){var n="matches";if(typeof document>"u")return n;var e=[n,"msMatchesSelector","webkitMatchesSelector"],t=uo(e,function(r){return r in Element.prototype});return t||n}();function cS(n,e){return n==null?null:n[DM](e)?n:cS(n.parentElement,e)}function kM(n,e){return n.closest?n.closest(e):cS(n,e)}function NM(n){return"["+ha.contextId+'="'+n+'"]'}function OM(n,e){var t=e.target;if(!xM(t))return null;var r=NM(n),o=kM(t,r);return!o||!dh(o)?null:o}function LM(n,e){var t=OM(n,e);return t?t.getAttribute(ha.draggableId):null}function MM(n,e){var t="["+tm.contextId+'="'+n+'"]',r=A0(document.querySelectorAll(t)),o=uo(r,function(a){return a.getAttribute(tm.id)===e});return!o||!dh(o)?null:o}function VM(n){n.preventDefault()}function Uc(n){var e=n.expected,t=n.phase,r=n.isLockActive;return n.shouldWarn,!(!r()||e!==t)}function dS(n){var e=n.lockAPI,t=n.store,r=n.registry,o=n.draggableId;if(e.isClaimed())return!1;var a=r.draggable.findById(o);return!(!a||!a.options.isEnabled||!eS(t.getState(),o))}function FM(n){var e=n.lockAPI,t=n.contextId,r=n.store,o=n.registry,a=n.draggableId,u=n.forceSensorStop,c=n.sourceEvent,f=dS({lockAPI:e,store:r,registry:o,draggableId:a});if(!f)return null;var p=o.draggable.getById(a),g=MM(t,p.descriptor.id);if(!g||c&&!p.options.canDragInteractiveElements&&PM(g,c))return null;var v=e.claim(u||Ki),E="PRE_DRAG";function I(){return p.options.shouldRespectForcePress}function S(){return e.isActive(v)}function x(Z,N){Uc({expected:Z,phase:E,isLockActive:S,shouldWarn:!0})&&r.dispatch(N())}var R=x.bind(null,"DRAGGING");function k(Z){function N(){e.release(),E="COMPLETED"}E!=="PRE_DRAG"&&(N(),E!=="PRE_DRAG"&&se()),r.dispatch(D2(Z.liftActionArgs)),E="DRAGGING";function P(b,O){if(O===void 0&&(O={shouldBlockNextClick:!1}),Z.cleanup(),O.shouldBlockNextClick){var L=Wn(window,[{eventName:"click",fn:VM,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}N(),r.dispatch(q0({reason:b}))}return Ie({isActive:function(){return Uc({expected:"DRAGGING",phase:E,isLockActive:S,shouldWarn:!1})},shouldRespectForcePress:I,drop:function(O){return P("DROP",O)},cancel:function(O){return P("CANCEL",O)}},Z.actions)}function B(Z){var N=Ql(function(b){R(function(){return G0({client:b})})}),P=k({liftActionArgs:{id:a,clientSelection:Z,movementMode:"FLUID"},cleanup:function(){return N.cancel()},actions:{move:N}});return Ie({},P,{move:N})}function V(){var Z={moveUp:function(){return R(B2)},moveRight:function(){return R($2)},moveDown:function(){return R(j2)},moveLeft:function(){return R(z2)}};return k({liftActionArgs:{id:a,clientSelection:bM(g),movementMode:"SNAP"},cleanup:Ki,actions:Z})}function q(){var Z=Uc({expected:"PRE_DRAG",phase:E,isLockActive:S,shouldWarn:!0});Z&&e.release()}var G={isActive:function(){return Uc({expected:"PRE_DRAG",phase:E,isLockActive:S,shouldWarn:!1})},shouldRespectForcePress:I,fluidLift:B,snapLift:V,abort:q};return G}var UM=[vM,wM,AM];function BM(n){var e=n.contextId,t=n.store,r=n.registry,o=n.customSensors,a=n.enableDefaultSensors,u=[].concat(a?UM:[],o||[]),c=F.useState(function(){return rM()})[0],f=ye(function(B,V){B.isDragging&&!V.isDragging&&c.tryAbandon()},[c]);Pn(function(){var B=t.getState(),V=t.subscribe(function(){var q=t.getState();f(B,q),B=q});return V},[c,t,f]),Pn(function(){return c.tryAbandon},[c.tryAbandon]);for(var p=ye(function(k){return dS({lockAPI:c,registry:r,store:t,draggableId:k})},[c,r,t]),g=ye(function(k,B,V){return FM({lockAPI:c,registry:r,contextId:e,store:t,draggableId:k,forceSensorStop:B,sourceEvent:V&&V.sourceEvent?V.sourceEvent:null})},[e,c,r,t]),v=ye(function(k){return LM(e,k)},[e]),E=ye(function(k){var B=r.draggable.findById(k);return B?B.options:null},[r.draggable]),I=ye(function(){c.isClaimed()&&(c.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(yg()))},[c,t]),S=ye(c.isClaimed,[c]),x=ze(function(){return{canGetLock:p,tryGetLock:g,findClosestDraggableId:v,findOptionsForDraggable:E,tryReleaseLock:I,isLockClaimed:S}},[p,g,v,E,I,S]),R=0;R<u.length;R++)u[R](x)}var jM=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Sl(n){return n.current||se(),n.current}function $M(n){var e=n.contextId,t=n.setCallbacks,r=n.sensors,o=n.nonce,a=n.dragHandleUsageInstructions,u=F.useRef(null),c=oS(n),f=ye(function(){return jM(c.current)},[c]),p=XL(e),g=nM({contextId:e,text:a}),v=HL(e,o),E=ye(function(b){Sl(u).dispatch(b)},[]),I=ze(function(){return OE({publishWhileDragging:N2,updateDroppableScroll:L2,updateDroppableIsEnabled:M2,updateDroppableIsCombineEnabled:V2,collectionStarting:O2},E)},[E]),S=QL(),x=ze(function(){return TL(S,I)},[S,I]),R=ze(function(){return BL(Ie({scrollWindow:SL,scrollDroppable:x.scrollDroppable},OE({move:G0},E)))},[x.scrollDroppable,E]),k=qL(e),B=ze(function(){return _L({announce:p,autoScroller:R,dimensionMarshal:x,focusMarshal:k,getResponders:f,styleMarshal:v})},[p,R,x,k,f,v]);u.current=B;var V=ye(function(){var b=Sl(u),O=b.getState();O.phase!=="IDLE"&&b.dispatch(yg())},[]),q=ye(function(){var b=Sl(u).getState();return b.isDragging||b.phase==="DROP_ANIMATING"},[]),G=ze(function(){return{isDragging:q,tryAbort:V}},[q,V]);t(G);var Z=ye(function(b){return eS(Sl(u).getState(),b)},[]),N=ye(function(){return jo(Sl(u).getState())},[]),P=ze(function(){return{marshal:x,focus:k,contextId:e,canLift:Z,isMovementAllowed:N,dragHandleUsageInstructionsId:g,registry:S}},[e,x,g,k,Z,N,S]);return BM({contextId:e,store:B,registry:S,customSensors:r,enableDefaultSensors:n.enableDefaultSensors!==!1}),F.useEffect(function(){return V},[V]),tt.createElement(hh.Provider,{value:P},tt.createElement(PN,{context:Ag,store:B},n.children))}var zM=0;function WM(){return ze(function(){return""+zM++},[])}function HM(n){var e=WM(),t=n.dragHandleUsageInstructions||Zc.dragHandleUsageInstructions;return tt.createElement(wO,null,function(r){return tt.createElement($M,{nonce:n.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd},n.children)})}var hS=function(e){return function(t){return e===t}},GM=hS("scroll"),qM=hS("auto"),pw=function(e,t){return t(e.overflowX)||t(e.overflowY)},KM=function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return pw(r,GM)||pw(r,qM)},QM=function(){return!1},YM=function n(e){return e==null?null:e===document.body?QM()?e:null:e===document.documentElement?null:KM(e)?e:n(e.parentElement)},nm=function(n){return{x:n.scrollLeft,y:n.scrollTop}},JM=function n(e){if(!e)return!1;var t=window.getComputedStyle(e);return t.position==="fixed"?!0:n(e.parentElement)},XM=function(n){var e=YM(n),t=JM(n);return{closestScrollable:e,isFixedOnPage:t}},ZM=function(n){var e=n.descriptor,t=n.isEnabled,r=n.isCombineEnabled,o=n.isFixedOnPage,a=n.direction,u=n.client,c=n.page,f=n.closest,p=function(){if(!f)return null;var I=f.scrollSize,S=f.client,x=J0({scrollHeight:I.scrollHeight,scrollWidth:I.scrollWidth,height:S.paddingBox.height,width:S.paddingBox.width});return{pageMarginBox:f.page.marginBox,frameClient:S,scrollSize:I,shouldClipSubject:f.shouldClipSubject,scroll:{initial:f.scroll,current:f.scroll,max:x,diff:{value:Ot,displacement:Ot}}}}(),g=a==="vertical"?fg:D0,v=ca({page:c,withPlaceholder:null,axis:g,frame:p}),E={descriptor:e,isCombineEnabled:r,isFixedOnPage:o,axis:g,isEnabled:t,client:u,page:c,frame:p,subject:v};return E},eV=function(e,t){var r=w0(e);if(!t||e!==t)return r;var o=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,u=o+t.scrollHeight,c=a+t.scrollWidth,f={top:o,right:c,bottom:u,left:a},p=lg(f,r.border),g=ug({borderBox:p,margin:r.margin,border:r.border,padding:r.padding});return g},tV=function(n){var e=n.ref,t=n.descriptor,r=n.env,o=n.windowScroll,a=n.direction,u=n.isDropDisabled,c=n.isCombineEnabled,f=n.shouldClipSubject,p=r.closestScrollable,g=eV(e,p),v=Td(g,o),E=function(){if(!p)return null;var S=w0(p),x={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:S,page:Td(S,o),scroll:nm(p),scrollSize:x,shouldClipSubject:f}}(),I=ZM({descriptor:t,isEnabled:!u,isCombineEnabled:c,isFixedOnPage:r.isFixedOnPage,direction:a,client:g,page:v,closest:E});return I},nV={passive:!1},rV={passive:!0},mw=function(n){return n.shouldPublishImmediately?nV:rV};function bd(n){var e=F.useContext(n);return e||se(),e}var Bc=function(e){return e&&e.env.closestScrollable||null};function iV(n){var e=F.useRef(null),t=bd(hh),r=Rg("droppable"),o=t.registry,a=t.marshal,u=oS(n),c=ze(function(){return{id:n.droppableId,type:n.type,mode:n.mode}},[n.droppableId,n.mode,n.type]),f=F.useRef(c),p=ze(function(){return Nt(function(q,G){e.current||se();var Z={x:q,y:G};a.updateDroppableScroll(c.id,Z)})},[c.id,a]),g=ye(function(){var q=e.current;return!q||!q.env.closestScrollable?Ot:nm(q.env.closestScrollable)},[]),v=ye(function(){var q=g();p(q.x,q.y)},[g,p]),E=ze(function(){return Ql(v)},[v]),I=ye(function(){var q=e.current,G=Bc(q);q&&G||se();var Z=q.scrollOptions;if(Z.shouldPublishImmediately){v();return}E()},[E,v]),S=ye(function(q,G){e.current&&se();var Z=u.current,N=Z.getDroppableRef();N||se();var P=XM(N),b={ref:N,descriptor:c,env:P,scrollOptions:G};e.current=b;var O=tV({ref:N,descriptor:c,env:P,windowScroll:q,direction:Z.direction,isDropDisabled:Z.isDropDisabled,isCombineEnabled:Z.isCombineEnabled,shouldClipSubject:!Z.ignoreContainerClipping}),L=P.closestScrollable;return L&&(L.setAttribute(cw.contextId,t.contextId),L.addEventListener("scroll",I,mw(b.scrollOptions))),O},[t.contextId,c,I,u]),x=ye(function(){var q=e.current,G=Bc(q);return q&&G||se(),nm(G)},[]),R=ye(function(){var q=e.current;q||se();var G=Bc(q);e.current=null,G&&(E.cancel(),G.removeAttribute(cw.contextId),G.removeEventListener("scroll",I,mw(q.scrollOptions)))},[I,E]),k=ye(function(q){var G=e.current;G||se();var Z=Bc(G);Z||se(),Z.scrollTop+=q.y,Z.scrollLeft+=q.x},[]),B=ze(function(){return{getDimensionAndWatchScroll:S,getScrollWhileDragging:x,dragStopped:R,scroll:k}},[R,S,x,k]),V=ze(function(){return{uniqueId:r,descriptor:c,callbacks:B}},[B,c,r]);Pn(function(){return f.current=V.descriptor,o.droppable.register(V),function(){e.current&&R(),o.droppable.unregister(V)}},[B,c,R,V,a,o.droppable]),Pn(function(){e.current&&a.updateDroppableIsEnabled(f.current.id,!n.isDropDisabled)},[n.isDropDisabled,a]),Pn(function(){e.current&&a.updateDroppableIsCombineEnabled(f.current.id,n.isCombineEnabled)},[n.isCombineEnabled,a])}function vp(){}var gw={width:0,height:0,margin:RO},oV=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,o=e.animate;return t||o==="close"?gw:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},sV=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,o=e.animate,a=oV({isAnimatingOpenOnMount:t,placeholder:r,animate:o});return{display:r.display,boxSizing:"border-box",width:a.width,height:a.height,marginTop:a.margin.top,marginRight:a.margin.right,marginBottom:a.margin.bottom,marginLeft:a.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:o!=="none"?Vl.placeholder:null}};function aV(n){var e=F.useRef(null),t=ye(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=n.animate,o=n.onTransitionEnd,a=n.onClose,u=n.contextId,c=F.useState(n.animate==="open"),f=c[0],p=c[1];F.useEffect(function(){return f?r!=="open"?(t(),p(!1),vp):e.current?vp:(e.current=setTimeout(function(){e.current=null,p(!1)}),t):vp},[r,f,t]);var g=ye(function(E){E.propertyName==="height"&&(o(),r==="close"&&a())},[r,a,o]),v=sV({isAnimatingOpenOnMount:f,animate:n.animate,placeholder:n.placeholder});return tt.createElement(n.placeholder.tagName,{style:v,"data-rbd-placeholder-context-id":u,onTransitionEnd:g,ref:n.innerRef})}var lV=tt.memo(aV),bg=tt.createContext(null),uV=function(n){c0(e,n);function e(){for(var r,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return r=n.call.apply(n,[this].concat(a))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(o,a){return o.shouldAnimate?o.on?{isVisible:!0,data:o.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o.on,data:o.on,animate:"none"}};var t=e.prototype;return t.render=function(){if(!this.state.isVisible)return null;var o={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o)},e}(tt.PureComponent),vw={dragging:5e3,dropAnimating:4500},cV=function(e,t){return t?Vl.drop(t.duration):e?Vl.snap:Vl.fluid},dV=function(e,t){return e?t?Zl.opacity.drop:Zl.opacity.combining:null},hV=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function fV(n){var e=n.dimension,t=e.client,r=n.offset,o=n.combineWith,a=n.dropping,u=!!o,c=hV(n),f=!!a,p=f?Zp.drop(r,u):Zp.moveTo(r),g={position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:cV(c,a),transform:p,opacity:dV(u,f),zIndex:f?vw.dropAnimating:vw.dragging,pointerEvents:"none"};return g}function pV(n){return{transform:Zp.moveTo(n.offset),transition:n.shouldAnimateDisplacement?null:"none"}}function mV(n){return n.type==="DRAGGING"?fV(n):pV(n)}function gV(n,e,t){t===void 0&&(t=Ot);var r=window.getComputedStyle(e),o=e.getBoundingClientRect(),a=E0(o,r),u=Td(a,t),c={client:a,tagName:e.tagName.toLowerCase(),display:r.display},f={x:a.marginBox.width,y:a.marginBox.height},p={descriptor:n,placeholder:c,displaceBy:f,client:a,page:u};return p}function vV(n){var e=Rg("draggable"),t=n.descriptor,r=n.registry,o=n.getDraggableRef,a=n.canDragInteractiveElements,u=n.shouldRespectForcePress,c=n.isEnabled,f=ze(function(){return{canDragInteractiveElements:a,shouldRespectForcePress:u,isEnabled:c}},[a,c,u]),p=ye(function(I){var S=o();return S||se(),gV(t,S,I)},[t,o]),g=ze(function(){return{uniqueId:e,descriptor:t,options:f,getDimension:p}},[t,p,f,e]),v=F.useRef(g),E=F.useRef(!0);Pn(function(){return r.draggable.register(v.current),function(){return r.draggable.unregister(v.current)}},[r.draggable]),Pn(function(){if(E.current){E.current=!1;return}var I=v.current;v.current=g,r.draggable.update(g,I)},[g,r.draggable])}function yV(n){n.preventDefault()}function _V(n){var e=F.useRef(null),t=ye(function(b){e.current=b},[]),r=ye(function(){return e.current},[]),o=bd(hh),a=o.contextId,u=o.dragHandleUsageInstructionsId,c=o.registry,f=bd(bg),p=f.type,g=f.droppableId,v=ze(function(){return{id:n.draggableId,index:n.index,type:p,droppableId:g}},[n.draggableId,n.index,p,g]),E=n.children,I=n.draggableId,S=n.isEnabled,x=n.shouldRespectForcePress,R=n.canDragInteractiveElements,k=n.isClone,B=n.mapped,V=n.dropAnimationFinished;if(!k){var q=ze(function(){return{descriptor:v,registry:c,getDraggableRef:r,canDragInteractiveElements:R,shouldRespectForcePress:x,isEnabled:S}},[v,c,r,R,x,S]);vV(q)}var G=ze(function(){return S?{tabIndex:0,role:"button","aria-describedby":u,"data-rbd-drag-handle-draggable-id":I,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:yV}:null},[a,u,I,S]),Z=ye(function(b){B.type==="DRAGGING"&&B.dropping&&b.propertyName==="transform"&&V()},[V,B]),N=ze(function(){var b=mV(B),O=B.type==="DRAGGING"&&B.dropping?Z:null,L={innerRef:t,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":I,style:b,onTransitionEnd:O},dragHandleProps:G};return L},[a,G,I,B,Z,t]),P=ze(function(){return{draggableId:v.id,type:v.type,source:{index:v.index,droppableId:v.droppableId}}},[v.droppableId,v.id,v.index,v.type]);return E(N,B.snapshot,P)}var fS=function(n,e){return n===e},pS=function(n){var e=n.combine,t=n.destination;return t?t.droppableId:e?e.droppableId:null},EV=function(e){return e.combine?e.combine.draggableId:null},wV=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function IV(){var n=Nt(function(o,a){return{x:o,y:a}}),e=Nt(function(o,a,u,c,f){return{isDragging:!0,isClone:a,isDropAnimating:!!f,dropAnimation:f,mode:o,draggingOver:u,combineWith:c,combineTargetFor:null}}),t=Nt(function(o,a,u,c,f,p,g){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:p,mode:a,offset:o,dimension:u,forceShouldAnimate:g,snapshot:e(a,c,f,p,null)}}}),r=function(a,u){if(a.isDragging){if(a.critical.draggable.id!==u.draggableId)return null;var c=a.current.client.offset,f=a.dimensions.draggables[u.draggableId],p=Rn(a.impact),g=wV(a.impact),v=a.forceShouldAnimate;return t(n(c.x,c.y),a.movementMode,f,u.isClone,p,g,v)}if(a.phase==="DROP_ANIMATING"){var E=a.completed;if(E.result.draggableId!==u.draggableId)return null;var I=u.isClone,S=a.dimensions.draggables[u.draggableId],x=E.result,R=x.mode,k=pS(x),B=EV(x),V=a.dropDuration,q={duration:V,curve:Eg.drop,moveTo:a.newHomeClientOffset,opacity:B?Zl.opacity.drop:null,scale:B?Zl.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:S,dropping:q,draggingOver:k,combineWith:B,mode:R,forceShouldAnimate:null,snapshot:e(R,I,k,B,q)}}}return null};return r}function mS(n){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}var TV={mapped:{type:"SECONDARY",offset:Ot,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:mS(null)}};function SV(){var n=Nt(function(u,c){return{x:u,y:c}}),e=Nt(mS),t=Nt(function(u,c,f){return c===void 0&&(c=null),{mapped:{type:"SECONDARY",offset:u,combineTargetFor:c,shouldAnimateDisplacement:f,snapshot:e(c)}}}),r=function(c){return c?t(Ot,c,!0):null},o=function(c,f,p,g){var v=p.displaced.visible[c],E=!!(g.inVirtualList&&g.effected[c]),I=lh(p),S=I&&I.draggableId===c?f:null;if(!v){if(!E)return r(S);if(p.displaced.invisible[c])return null;var x=Sa(g.displacedBy.point),R=n(x.x,x.y);return t(R,S,!0)}if(E)return r(S);var k=p.displacedBy.point,B=n(k.x,k.y);return t(B,S,v.shouldAnimate)},a=function(c,f){if(c.isDragging)return c.critical.draggable.id===f.draggableId?null:o(f.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){var p=c.completed;return p.result.draggableId===f.draggableId?null:o(f.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null};return a}var CV=function(){var e=IV(),t=SV(),r=function(a,u){return e(a,u)||t(a,u)||TV};return r},AV={dropAnimationFinished:K0},RV=y0(CV,AV,null,{context:Ag,pure:!0,areStatePropsEqual:fS})(_V);function gS(n){var e=bd(bg),t=e.isUsingCloneFor;return t===n.draggableId&&!n.isClone?null:tt.createElement(RV,n)}function PV(n){var e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,t=!!n.disableInteractiveElementBlocking,r=!!n.shouldRespectForcePress;return tt.createElement(gS,Ie({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:r}))}function bV(n){var e=F.useContext(hh);e||se();var t=e.contextId,r=e.isMovementAllowed,o=F.useRef(null),a=F.useRef(null),u=n.children,c=n.droppableId,f=n.type,p=n.mode,g=n.direction,v=n.ignoreContainerClipping,E=n.isDropDisabled,I=n.isCombineEnabled,S=n.snapshot,x=n.useClone,R=n.updateViewportMaxScroll,k=n.getContainerForClone,B=ye(function(){return o.current},[]),V=ye(function(L){o.current=L},[]);ye(function(){return a.current},[]);var q=ye(function(L){a.current=L},[]),G=ye(function(){r()&&R({maxScroll:Z0()})},[r,R]);iV({droppableId:c,type:f,mode:p,direction:g,isDropDisabled:E,isCombineEnabled:I,ignoreContainerClipping:v,getDroppableRef:B});var Z=tt.createElement(uV,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},function(L){var $=L.onClose,A=L.data,Ce=L.animate;return tt.createElement(lV,{placeholder:A,onClose:$,innerRef:q,animate:Ce,contextId:t,onTransitionEnd:G})}),N=ze(function(){return{innerRef:V,placeholder:Z,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":t}}},[t,c,Z,V]),P=x?x.dragging.draggableId:null,b=ze(function(){return{droppableId:c,type:f,isUsingCloneFor:P}},[c,P,f]);function O(){if(!x)return null;var L=x.dragging,$=x.render,A=tt.createElement(gS,{draggableId:L.draggableId,index:L.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Ce,Ke){return $(Ce,Ke,L)});return ZA.createPortal(A,k())}return tt.createElement(bg.Provider,{value:b},u(N,S),O())}var yp=function(e,t){return e===t.droppable.type},yw=function(e,t){return t.draggables[e.draggable.id]},xV=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Ie({},e,{shouldAnimatePlaceholder:!1}),r=Nt(function(u){return{draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}}),o=Nt(function(u,c,f,p,g,v){var E=g.descriptor.id,I=g.descriptor.droppableId===u;if(I){var S=v?{render:v,dragging:r(g.descriptor)}:null,x={isDraggingOver:f,draggingOverWith:f?E:null,draggingFromThisWith:E,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:x,useClone:S}}if(!c)return t;if(!p)return e;var R={isDraggingOver:f,draggingOverWith:E,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:R,useClone:null}}),a=function(c,f){var p=f.droppableId,g=f.type,v=!f.isDropDisabled,E=f.renderClone;if(c.isDragging){var I=c.critical;if(!yp(g,I))return t;var S=yw(I,c.dimensions),x=Rn(c.impact)===p;return o(p,v,x,x,S,E)}if(c.phase==="DROP_ANIMATING"){var R=c.completed;if(!yp(g,R.critical))return t;var k=yw(R.critical,c.dimensions);return o(p,v,pS(R.result)===p,Rn(R.impact)===p,k,E)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){var B=c.completed;if(!yp(g,B.critical))return t;var V=Rn(B.impact)===p,q=!!(B.impact.at&&B.impact.at.type==="COMBINE"),G=B.critical.droppable.id===p;return V?q?e:t:G?e:t}return t};return a},DV={updateViewportMaxScroll:U2};function kV(){return document.body||se(),document.body}var NV={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:kV},vS=y0(xV,DV,null,{context:Ag,pure:!0,areStatePropsEqual:fS})(bV);vS.defaultProps=NV;const OV=({task:n,index:e,onEdit:t})=>{const{deleteTask:r,moveTask:o}=sh(),a=async f=>{if(f.stopPropagation(),window.confirm("Are you sure you want to delete this task?"))try{console.log("Deleting task:",n.id),await r(n.id),console.log("Task deleted successfully")}catch(p){console.error("Error deleting task:",p),alert("Failed to delete task. Please try again.")}},u=async(f,p)=>{f.stopPropagation();try{await o(n.id,p),console.log(`Task moved to ${p}`)}catch(g){console.error("Error moving task:",g),alert("Failed to move task. Please try again.")}},c=f=>{switch(f){case"todo":return"📝";case"inprogress":return"⚡";case"done":return"✅";default:return"📌"}};return U.jsx(PV,{draggableId:n.id,index:e,children:(f,p)=>U.jsx("div",{ref:f.innerRef,...f.draggableProps,...f.dragHandleProps,className:`draggable-task ${p.isDragging?"dragging":""}`,onClick:()=>t(n),children:U.jsxs("div",{className:"task-card-simple",children:[U.jsxs("div",{className:"task-header",children:[U.jsxs("h4",{children:[c(n.status)," ",n.title]}),U.jsx("button",{onClick:a,className:"btn-delete-small",title:"Delete Task",children:"🗑️"})]}),n.description&&U.jsx("p",{className:"task-description",children:n.description}),n.assignedTo&&U.jsxs("p",{className:"assigned-user",children:["👤 ",n.assignedTo]}),U.jsxs("div",{className:"move-buttons",children:[n.status!=="inprogress"&&U.jsx("button",{onClick:g=>u(g,"inprogress"),className:"btn-move-small",children:"Move to In Progress"}),n.status!=="done"&&U.jsx("button",{onClick:g=>u(g,"done"),className:"btn-move-small",children:"Move to Done"})]})]})})})},_p=({id:n,title:e,tasks:t=[],onEditTask:r=()=>{}})=>U.jsxs("div",{className:"board-column",children:[U.jsx("h3",{children:e}),U.jsx(vS,{droppableId:n,children:(o,a)=>U.jsxs("div",{ref:o.innerRef,...o.droppableProps,className:`task-list ${a.isDraggingOver?"dragging-over":""}`,children:[t.length===0?U.jsx("div",{className:"empty-column",children:"No tasks"}):t.map((u,c)=>U.jsx(OV,{task:u,index:c,onEdit:r},u.id)),o.placeholder]})})]}),LV=({editTask:n,setEditTask:e,onClose:t})=>{const[r,o]=F.useState(""),[a,u]=F.useState(""),[c,f]=F.useState(""),[p,g]=F.useState([]),[v,E]=F.useState(!1),[I,S]=F.useState(""),{addTask:x,updateTask:R}=sh(),{currentUser:k}=Zo();F.useEffect(()=>{(async()=>{try{const G=(await cN(Kp(Bi,"users"))).docs.map(Z=>({id:Z.id,...Z.data()}));g(G)}catch(q){console.error("Error fetching users: ",q),S("Failed to fetch users")}})()},[]),F.useEffect(()=>{n?(o(n.title||""),u(n.description||""),f(n.assignedTo||"")):(o(""),u(""),f(""))},[n]);const B=async V=>{if(V.preventDefault(),E(!0),S(""),!r.trim()){S("Title is required"),E(!1);return}try{console.log("Preparing to create task...");const q={title:r.trim(),description:a.trim(),assignedTo:c,status:"todo",createdBy:k.uid,createdAt:new Date};if(console.log("Task data prepared:",q),n)await R(n.id,q),console.log("Task updated successfully");else{const G=await x(q);console.log("Task created successfully with ID:",G)}o(""),u(""),f(""),t&&t(),e&&e(null)}catch(q){console.error("Error with task: ",q),S("Failed to save task. Please try again.")}finally{E(!1)}};return U.jsxs("div",{className:"task-form-container",children:[U.jsx("h3",{children:n?"✏️ Edit Task":"➕ Create New Task"}),I&&U.jsx("div",{className:"error",children:I}),U.jsxs("form",{onSubmit:B,children:[U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"title",children:"📝 Title"}),U.jsx("input",{type:"text",id:"title",value:r,onChange:V=>o(V.target.value),required:!0,placeholder:"Enter task title",disabled:v})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"description",children:"📄 Description"}),U.jsx("textarea",{id:"description",value:a,onChange:V=>u(V.target.value),placeholder:"Enter task description",rows:"4",disabled:v})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{htmlFor:"assignedTo",children:"👨 Assign To"}),U.jsxs("select",{id:"assignedTo",value:c,onChange:V=>f(V.target.value),disabled:v,children:[U.jsx("option",{value:"",children:"Select a user"}),p.map(V=>U.jsx("option",{value:V.id,children:V.displayName||V.email},V.id))]})]}),U.jsxs("div",{className:"form-actions",children:[U.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{t&&t(),e&&e(null)},disabled:v,children:"❌ Cancel"}),U.jsx("button",{type:"submit",className:"btn-primary",disabled:v,children:v?"⏳ Saving...":n?"💾 Save Changes":"✨ Create Task"})]})]})]})},MV=()=>{const[n,e]=F.useState(!1),[t,r]=F.useState(null),{tasks:o,moveTask:a}=sh(),u=o.filter(v=>v.status==="todo"),c=o.filter(v=>v.status==="inprogress"),f=o.filter(v=>v.status==="done"),p=async v=>{const{destination:E,source:I,draggableId:S}=v;if(!(!E||E.droppableId===I.droppableId&&E.index===I.index))try{let x;switch(E.droppableId){case"todo-column":x="todo";break;case"inprogress-column":x="inprogress";break;case"done-column":x="done";break;default:return}await a(S,x),console.log(`Task ${S} moved from ${I.droppableId} to ${E.droppableId}`)}catch(x){console.error("Error moving task:",x)}},g=v=>{r(v),e(!0)};return U.jsxs("div",{className:"board",children:[U.jsxs("div",{className:"board-header",children:[U.jsx("h2",{children:"📋 Task Board"}),U.jsx("button",{className:"btn-primary",onClick:()=>{r(null),e(!0)},children:"➕ Create Task"})]}),U.jsx(HM,{onDragEnd:p,children:U.jsxs("div",{className:"board-columns",children:[U.jsx(_p,{id:"todo-column",title:"📝 To Do",tasks:u,onEditTask:g}),U.jsx(_p,{id:"inprogress-column",title:"⚡ In Progress",tasks:c,onEditTask:g}),U.jsx(_p,{id:"done-column",title:"✅ Done",tasks:f,onEditTask:g})]})}),n&&U.jsx("div",{className:"modal",children:U.jsxs("div",{className:"modal-content",children:[U.jsx("span",{className:"close",onClick:()=>{e(!1),r(null)},children:"×"}),U.jsx(LV,{editTask:t,setEditTask:r,onClose:()=>{e(!1),r(null)}})]})})]})},VV=()=>{const{currentUser:n,loading:e}=Zo(),t=ga();if(e)return U.jsx("div",{className:"loading",children:"⏳ Loading..."});if(!n)return U.jsx(kd,{to:"/login",replace:!0});const r=()=>{t("/")};return U.jsxs("div",{className:"dashboard-container",children:[U.jsxs("div",{className:"dashboard-header",children:[U.jsx("h1",{children:"🏠 Welcome to Task Manager"}),U.jsxs("p",{children:["👋 Hello, ",n.displayName||"User","!"]}),U.jsx("button",{onClick:r,className:"btn-primary",children:"🏡 Go to Home"})]}),U.jsxs("div",{className:"dashboard-stats",children:[U.jsxs("div",{className:"stat-card",children:[U.jsx("span",{className:"stat-icon",children:"📋"}),U.jsx("h3",{children:"Total Tasks"}),U.jsx("p",{children:"Manage all your tasks in one place"})]}),U.jsxs("div",{className:"stat-card",children:[U.jsx("span",{className:"stat-icon",children:"⚡"}),U.jsx("h3",{children:"In Progress"}),U.jsx("p",{children:"Track your ongoing tasks"})]}),U.jsxs("div",{className:"stat-card",children:[U.jsx("span",{className:"stat-icon",children:"✅"}),U.jsx("h3",{children:"Completed"}),U.jsx("p",{children:"Celebrate your achievements"})]})]}),U.jsx(MV,{})]})},FV=()=>{var c;const{currentUser:n,loading:e}=Zo(),{tasks:t}=sh(),[r,o]=F.useState(null),[a,u]=F.useState([]);return F.useEffect(()=>{(async()=>{if(n)try{const p=await uN(ea(Bi,"users",n.uid));p.exists()&&o(p.data())}catch(p){console.error("Error fetching user data: ",p)}})()},[n]),F.useEffect(()=>{if(n&&t.length>0){const f=t.filter(p=>p.assignedTo===n.uid);u(f)}},[n,t]),e?U.jsx("div",{className:"loading",children:"Loading..."}):n?U.jsxs("div",{className:"profile-container",children:[U.jsx("div",{className:"profile-header",children:U.jsx("h2",{children:"User Profile"})}),U.jsxs("div",{className:"profile-info",children:[U.jsxs("div",{className:"info-group",children:[U.jsx("label",{children:"Name:"}),U.jsx("p",{children:n.displayName||"Not set"})]}),U.jsxs("div",{className:"info-group",children:[U.jsx("label",{children:"Email:"}),U.jsx("p",{children:n.email})]}),r&&U.jsxs("div",{className:"info-group",children:[U.jsx("label",{children:"Account Created:"}),U.jsx("p",{children:((c=r.createdAt)==null?void 0:c.toDate().toLocaleDateString())||"Unknown"})]})]}),U.jsxs("div",{className:"profile-tasks",children:[U.jsx("h3",{children:"My Tasks"}),a.length===0?U.jsx("p",{children:"You don't have any assigned tasks."}):U.jsx("div",{className:"task-list-profile",children:a.map(f=>U.jsxs("div",{className:"task-item-profile",children:[U.jsx("h4",{children:f.title}),U.jsx("p",{children:f.description}),U.jsx("span",{className:`status-badge ${f.status}`,children:f.status==="todo"?"To Do":f.status==="inprogress"?"In Progress":"Done"})]},f.id))})]})]}):U.jsx(kd,{to:"/login",replace:!0})},UV=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[o,a]=F.useState(null),u=ga(),c=async f=>{f.preventDefault();try{await Nb(oh,n,t),u("/dashboard")}catch(p){a(p.message)}};return U.jsxs("div",{className:"auth-container",children:[U.jsx("h2",{children:"Login"}),o&&U.jsx("p",{className:"error",children:o}),U.jsxs("form",{onSubmit:c,children:[U.jsxs("div",{className:"form-group",children:[U.jsx("label",{children:"Email"}),U.jsx("input",{type:"email",value:n,onChange:f=>e(f.target.value),required:!0})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{children:"Password"}),U.jsx("input",{type:"password",value:t,onChange:f=>r(f.target.value),required:!0})]}),U.jsx("button",{type:"submit",className:"btn-primary",children:"Login"})]}),U.jsxs("p",{children:["Don't have an account? ",U.jsx("a",{href:"/register",children:"Register"})]})]})},BV=()=>{const[n,e]=F.useState(""),[t,r]=F.useState(""),[o,a]=F.useState(""),[u,c]=F.useState(null),f=ga(),p=async g=>{g.preventDefault();try{const E=(await kb(oh,n,t)).user;await Lb(E,{displayName:o}),await dN(ea(Bi,"users",E.uid),{uid:E.uid,name:o,email:n,createdAt:new Date}),f("/dashboard")}catch(v){c(v.message)}};return U.jsxs("div",{className:"auth-container",children:[U.jsx("h2",{children:"Register"}),u&&U.jsx("p",{className:"error",children:u}),U.jsxs("form",{onSubmit:p,children:[U.jsxs("div",{className:"form-group",children:[U.jsx("label",{children:"Name"}),U.jsx("input",{type:"text",value:o,onChange:g=>a(g.target.value),required:!0})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{children:"Email"}),U.jsx("input",{type:"email",value:n,onChange:g=>e(g.target.value),required:!0})]}),U.jsxs("div",{className:"form-group",children:[U.jsx("label",{children:"Password"}),U.jsx("input",{type:"password",value:t,onChange:g=>r(g.target.value),required:!0,minLength:"6"})]}),U.jsx("button",{type:"submit",className:"btn-primary",children:"Register"})]}),U.jsxs("p",{children:["Already have an account? ",U.jsx("a",{href:"/login",children:"Login"})]})]})},jV=()=>{const{currentUser:n}=Zo(),e=ga(),t=async()=>{try{await Ub(oh),e("/login")}catch(r){console.error("Error signing out: ",r)}};return U.jsx("div",{className:"auth-details",children:n?U.jsxs(U.Fragment,{children:[U.jsxs("span",{children:["Hello, ",n.displayName||"User"]}),U.jsx("button",{onClick:t,className:"btn-logout",children:"Logout"})]}):U.jsx("button",{onClick:()=>e("/login"),className:"btn-login",children:"Login"})})},$V=()=>U.jsxs("nav",{className:"navbar",children:[U.jsx("div",{className:"navbar-logo",children:U.jsx(ji,{to:"/Home",children:"Task Tracker"})}),U.jsx("div",{className:"navbar-links",children:U.jsx(ji,{to:"/dashboard",children:"Dashboard"})}),U.jsx("div",{className:"navbar-auth",children:U.jsx(jV,{})})]}),zV=()=>U.jsx("footer",{className:"footer",children:U.jsxs("p",{children:["© ",new Date().getFullYear()," Task Tracker App"]})}),WV=({children:n})=>{const{currentUser:e,loading:t}=Zo();return t?U.jsx("div",{className:"loading",children:"Loading..."}):e?n:U.jsx(kd,{to:"/login",replace:!0})},_w=({children:n})=>U.jsx(WV,{children:n});function HV(){return U.jsx(zA,{children:U.jsx(gN,{children:U.jsx(vN,{children:U.jsxs("div",{className:"app-container",children:[U.jsx($V,{}),U.jsx("main",{className:"main-content",children:U.jsxs(_A,{children:[U.jsx(Uo,{path:"/",element:U.jsx(yN,{})}),U.jsx(Uo,{path:"/login",element:U.jsx(UV,{})}),U.jsx(Uo,{path:"/register",element:U.jsx(BV,{})}),U.jsx(Uo,{path:"/dashboard",element:U.jsx(_w,{children:U.jsx(VV,{})})}),U.jsx(Uo,{path:"/profile",element:U.jsx(_w,{children:U.jsx(FV,{})})}),U.jsx(Uo,{path:"*",element:U.jsx(kd,{to:"/",replace:!0})})]})}),U.jsx(zV,{})]})})})})}const GV=bC.createRoot(document.getElementById("root"));GV.render(U.jsx(tt.StrictMode,{children:U.jsx(HV,{})}));
